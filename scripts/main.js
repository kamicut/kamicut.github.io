function trace(e){VMM.debug&&(window.console?console.log(e):"undefined"!=typeof jsTrace&&jsTrace.send(e))}function onYouTubePlayerAPIReady(){trace("GLOBAL YOUTUBE API CALLED"),VMM.ExternalAPI.youtube.onAPIReady()}function getEmbedScriptPath(e){for(var t=document.getElementsByTagName("script"),n="",i="",r=0;t.length>r;r++)t[r].src.match(e)&&(n=t[r].src);return""!=n&&(i="/"),n.split("?")[0].split("/").slice(0,-1).join("/")+i}function createStoryJS(e,t){function n(){LoadLib.js(w.js,i)}function i(){M.js=!0,"en"!=w.lang?LazyLoad.js(b.locale,r):M.language=!0,l()}function r(){M.language=!0,l()}function a(){M.css=!0,l()}function o(){M.font.css=!0,l()}function s(){M.font.js=!0,l()}function l(){M.checks>40||(M.checks++,M.js&&M.css&&M.font.css&&M.font.js&&M.language?M.finished||(M.finished=!0,c()):M.timeout=setTimeout("onloaded_check_again();",250))}function u(){var e="storyjs-embed";p=document.createElement("div"),h=""!=w.embed_id?document.getElementById(w.embed_id):document.getElementById("timeline-embed"),h.appendChild(p),p.setAttribute("id",w.id),(""+w.width).match("%")?(h.style.width=w.width,e+=" full-embed"):(e+=" sized-embed",w.width=w.width-2,h.style.width=w.width+"px"),h.setAttribute("class",e),h.setAttribute("className",e),(""+w.height).match("%")?h.style.height=w.height:(w.height=w.height-16,h.style.height=w.height+"px"),p.style.position="relative"}function c(){VMM.debug=w.debug,d=new VMM.Timeline(w.id),d.init(w),m&&VMM.bindEvent(global,onHeadline,"HEADLINE")}var d,p,h,f,m=!1,g="2.11",v="1.7.1",y="",M={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},b={base:embed_path,css:embed_path+"css/",js:embed_path+"js/",locale:embed_path+"js/locale/",jquery:"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:embed_path+"css/themes/font/",js:"http://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},w={version:g,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:b.css+"timeline.css?"+g,js:b.js+"timeline-min.js?"+g,api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},x=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof e)for(f in e)Object.prototype.hasOwnProperty.call(e,f)&&(w[f]=e[f]);if(t!==void 0&&(w.source=t),"object"==typeof url_config&&(m=!0,w.source.match("docs.google.com")||w.source.match("json")||w.source.match("storify")||(w.source="https://docs.google.com/spreadsheet/pub?key="+w.source+"&output=html")),w.js.match("locale")&&(w.lang=w.js.split("locale/")[1].replace(".js",""),w.js=b.js+"timeline-min.js?"+g),w.js.match("/")||(w.css=b.css+w.type+".css?"+g,w.js=b.js+w.type+"-min.js?"+g,w.id="storyjs-"+w.type),b.locale=w.lang.match("/")?w.lang:b.locale+w.lang+".js?"+g,u(),LoadLib.css(w.css,a),"default"==w.font)M.font.js=!0,M.font.css=!0;else{var _;w.font.match("/")?(_=w.font.split(".css")[0].split("/"),b.font.name=_[_.length-1],b.font.css=w.font):(b.font.name=w.font,b.font.css=b.font.css+w.font+".css?"+g),LoadLib.css(b.font.css,o);for(var V=0;x.length>V;V++)b.font.name==x[V].name&&(b.font.google=!0,WebFontConfig={google:{families:x[V].google}});b.font.google?LoadLib.js(b.font.js,s):M.font.js=!0}try{if(M.has_jquery=jQuery,M.has_jquery=!0,M.has_jquery){var y=parseFloat(jQuery.fn.jquery);M.jquery=parseFloat(v)>y?!1:!0}}catch(E){M.jquery=!1}M.jquery?n():LoadLib.js(b.jquery,n),this.onloaded_check_again=function(){l()}}(function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=_t[e]={};return lt.each(e.match(ct)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(lt.acceptData(e)){var a,o,s=lt.expando,l="string"==typeof n,u=e.nodeType,c=u?lt.cache:e,d=u?e[s]:e[s]&&s;if(d&&c[d]&&(r||c[d].data)||!l||i!==t)return d||(u?e[s]=d=K.pop()||lt.guid++:d=s),c[d]||(c[d]={},u||(c[d].toJSON=lt.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[d]=lt.extend(c[d],n):c[d].data=lt.extend(c[d].data,n)),a=c[d],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[lt.camelCase(n)]=i),l?(o=a[n],null==o&&(o=a[lt.camelCase(n)])):o=a,o}}function a(e,t,n){if(lt.acceptData(e)){var i,r,a,o=e.nodeType,l=o?lt.cache:e,u=o?e[lt.expando]:lt.expando;if(l[u]){if(t&&(a=n?l[u]:l[u].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in a?t=[t]:(t=lt.camelCase(t),t=t in a?[t]:t.split(" "));for(i=0,r=t.length;r>i;i++)delete a[t[i]];if(!(n?s:lt.isEmptyObject)(a))return}(n||(delete l[u].data,s(l[u])))&&(o?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}}function o(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(Et,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Vt.test(i)?lt.parseJSON(i):i}catch(a){}lt.data(e,n,i)}else i=t}return i}function s(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function u(){return!1}function c(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=lt.grep(e,function(e){return 1===e.nodeType});if(Bt.test(t))return lt.filter(t,i,!n);t=lt.filter(t,i)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function p(e){var t=Qt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=an.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)lt._data(n,"globalEval",!t||lt._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,i,r,a=lt._data(e),o=lt._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)lt.event.add(t,n,s[n][i])}o.data&&(o.data=lt.extend({},o.data))}}function y(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){r=lt._data(t);for(i in r.events)lt.removeEvent(t,i,r.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function M(e,n){var i,r,a=0,o=typeof e.getElementsByTagName!==W?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==W?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],i=e.childNodes||e;null!=(r=i[a]);a++)!n||lt.nodeName(r,n)?o.push(r):lt.merge(o,M(r,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],o):o}function b(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=En.length;r--;)if(t=En[r]+n,t in e)return t;return i}function x(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function _(e,t){for(var n,i,r,a=[],o=0,s=e.length;s>o;o++)i=e[o],i.style&&(a[o]=lt._data(i,"olddisplay"),n=i.style.display,t?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(a[o]=lt._data(i,"olddisplay",k(i.nodeName)))):a[o]||(r=x(i),(n&&"none"!==n||!r)&&lt._data(i,"olddisplay",r?n:lt.css(i,"display"))));for(o=0;s>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[o]||"":"none"));return e}function V(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function E(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=lt.css(e,n+Vn[a],!0,r)),i?("content"===n&&(o-=lt.css(e,"padding"+Vn[a],!0,r)),"margin"!==n&&(o-=lt.css(e,"border"+Vn[a]+"Width",!0,r))):(o+=lt.css(e,"padding"+Vn[a],!0,r),"padding"!==n&&(o+=lt.css(e,"border"+Vn[a]+"Width",!0,r)));return o}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=dn(e),o=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=pn(e,t,a),(0>r||null==r)&&(r=e.style[t]),Mn.test(r))return r;i=o&&(lt.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+E(e,t,n||(o?"border":"content"),i,a)+"px"}function k(e){var t=G,n=wn[e];return n||(n=A(e,t),"none"!==n&&n||(cn=(cn||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(cn[0].contentWindow||cn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=A(e,t),cn.detach()),wn[e]=n),n}function A(e,t){var n=lt(t.createElement(e)).appendTo(t.body),i=lt.css(n[0],"display");return n.remove(),i}function S(e,t,n,i){var r;if(lt.isArray(t))lt.each(t,function(t,r){n||kn.test(e)?i(e,r):S(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==lt.type(t))i(e,t);else for(r in t)S(e+"["+r+"]",t[r],n,i)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(ct)||[];if(lt.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function C(e,n,i,r){function a(l){var u;return o[l]=!0,lt.each(e[l]||[],function(e,l){var c=l(n,i,r);return"string"!=typeof c||s||o[c]?s?!(u=c):t:(n.dataTypes.unshift(c),a(c),!1)}),u}var o={},s=e===Un;return a(n.dataTypes[0])||!o["*"]&&a("*")}function j(e,n){var i,r,a=lt.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((a[r]?e:i||(i={}))[r]=n[r]);return i&&lt.extend(!0,e,i),e}function D(e,n,i){var r,a,o,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(s in c)s in i&&(n[c[s]]=i[s]);for(;"*"===u[0];)u.shift(),a===t&&(a=e.mimeType||n.getResponseHeader("Content-Type"));if(a)for(s in l)if(l[s]&&l[s].test(a)){u.unshift(s);break}if(u[0]in i)o=u[0];else{for(s in i){if(!u[0]||e.converters[s+" "+u[0]]){o=s;break}r||(r=s)}o=o||r}return o?(o!==u[0]&&u.unshift(o),i[o]):t}function N(e,t){var n,i,r,a,o={},s=0,l=e.dataTypes.slice(),u=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(r in e.converters)o[r.toLowerCase()]=e.converters[r];for(;i=l[++s];)if("*"!==i){if("*"!==u&&u!==i){if(r=o[u+" "+i]||o["* "+i],!r)for(n in o)if(a=n.split(" "),a[1]===i&&(r=o[u+" "+a[0]]||o["* "+a[0]])){r===!0?r=o[n]:o[n]!==!0&&(i=a[0],l.splice(s--,0,i));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(c){return{state:"parsererror",error:r?c:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function O(){try{return new e.XMLHttpRequest}catch(t){}}function I(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function P(){return setTimeout(function(){Kn=t}),Kn=lt.now()}function F(e,t){lt.each(t,function(t,n){for(var i=(ai[t]||[]).concat(ai["*"]),r=0,a=i.length;a>r;r++)if(i[r].call(e,t,n))return})}function R(e,t,n){var i,r,a=0,o=ri.length,s=lt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Kn||P(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,a=1-i,o=0,l=u.tweens.length;l>o;o++)u.tweens[o].run(a);return s.notifyWith(e,[u,a,n]),1>a&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kn||P(),duration:n.duration,tweens:[],createTween:function(t,n){var i=lt.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for($(c,u.opts.specialEasing);o>a;a++)if(i=ri[a].call(u,e,c,u.opts))return i;return F(u,c),lt.isFunction(u.opts.start)&&u.opts.start.call(e,u),lt.fx.timer(lt.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function $(e,t){var n,i,r,a,o;for(r in e)if(i=lt.camelCase(r),a=t[i],n=e[r],lt.isArray(n)&&(a=n[1],n=e[r]=n[0]),r!==i&&(e[i]=n,delete e[r]),o=lt.cssHooks[i],o&&"expand"in o){n=o.expand(n),delete e[i];for(r in n)r in e||(e[r]=n[r],t[r]=a)}else t[i]=a}function q(e,t,n){var i,r,a,o,s,l,u,c,d,p=this,h=e.style,f={},m=[],g=e.nodeType&&x(e);n.queue||(c=lt._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,p.always(function(){p.always(function(){c.unqueued--,lt.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",lt.support.shrinkWrapBlocks||p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],ti.exec(o)){if(delete t[r],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(r)}if(a=m.length){s=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),l&&(s.hidden=!g),g?lt(e).show():p.done(function(){lt(e).hide()}),p.done(function(){var t;lt._removeData(e,"fxshow");for(t in f)lt.style(e,t,f[t])});for(r=0;a>r;r++)i=m[r],u=p.createTween(i,g?s[i]:0),f[i]=s[i]||lt.style(e,i),i in s||(s[i]=u.start,g&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function H(e,t,n,i,r){return new H.prototype.init(e,t,n,i,r)}function B(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Vn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var z,Q,W=typeof t,G=e.document,J=e.location,Y=e.jQuery,X=e.$,Z={},K=[],et="1.9.1",tt=K.concat,nt=K.push,it=K.slice,rt=K.indexOf,at=Z.toString,ot=Z.hasOwnProperty,st=et.trim,lt=function(e,t){return new lt.fn.init(e,t,Q)},ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=/\S+/g,dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,yt=/^-ms-/,Mt=/-([\da-z])/gi,bt=function(e,t){return t.toUpperCase()},wt=function(e){(G.addEventListener||"load"===e.type||"complete"===G.readyState)&&(xt(),lt.ready())},xt=function(){G.addEventListener?(G.removeEventListener("DOMContentLoaded",wt,!1),e.removeEventListener("load",wt,!1)):(G.detachEvent("onreadystatechange",wt),e.detachEvent("onload",wt))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,n,i){var r,a;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:pt.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:G,!0)),ht.test(r[1])&&lt.isPlainObject(n))for(r in n)lt.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(a=G.getElementById(r[2]),a&&a.parentNode){if(a.id!==r[2])return i.find(e);this.length=1,this[0]=a}return this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,i,r,a,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||lt.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(a=arguments[l]))for(r in a)e=s[r],i=a[r],s!==i&&(c&&i&&(lt.isPlainObject(i)||(n=lt.isArray(i)))?(n?(n=!1,o=e&&lt.isArray(e)?e:[]):o=e&&lt.isPlainObject(e)?e:{},s[r]=lt.extend(c,o,i)):i!==t&&(s[r]=i));return s},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=X),t&&e.jQuery===lt&&(e.jQuery=Y),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!G.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(z.resolveWith(G,[lt]),lt.fn.trigger&&lt(G).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[at.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!ot.call(e,"constructor")&&!ot.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||ot.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var i=ht.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=lt.buildFragment([e],t,r),r&&lt(r).remove(),lt.merge([],i.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=lt.trim(n),n&&ft.test(n.replace(gt,"@").replace(vt,"]").replace(mt,"")))?Function("return "+n)():(lt.error("Invalid JSON: "+n),t)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(a){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(yt,"ms-").replace(Mt,bt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,a=0,o=e.length,s=n(e);if(i){if(s)for(;o>a&&(r=t.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],i),r===!1)break}else if(s)for(;o>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:st&&!st.call("﻿ ")?function(e){return null==e?"":st.call(e)}:function(e){return null==e?"":(e+"").replace(dt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?lt.merge(i,"string"==typeof e?[e]:e):nt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(rt)return rt.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,a=0;if("number"==typeof i)for(;i>a;a++)e[r++]=n[a];else for(;n[a]!==t;)e[r++]=n[a++];return e.length=r,e},grep:function(e,t,n){var i,r=[],a=0,o=e.length;for(n=!!n;o>a;a++)i=!!t(e[a],a),n!==i&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,o=e.length,s=n(e),l=[];if(s)for(;o>a;a++)r=t(e[a],a,i),null!=r&&(l[l.length]=r);else for(a in e)r=t(e[a],a,i),null!=r&&(l[l.length]=r);return tt.apply([],l)},guid:1,proxy:function(e,n){var i,r,a;return"string"==typeof n&&(a=e[n],n=e,e=a),lt.isFunction(e)?(i=it.call(arguments,2),r=function(){return e.apply(n||this,i.concat(it.call(arguments)))},r.guid=e.guid=e.guid||lt.guid++,r):t},access:function(e,n,i,r,a,o,s){var l=0,u=e.length,c=null==i;if("object"===lt.type(i)){a=!0;for(l in i)lt.access(e,n,l,i[l],!0,o,s)}else if(r!==t&&(a=!0,lt.isFunction(r)||(s=!0),c&&(s?(n.call(e,r),n=null):(c=n,n=function(e,t,n){return c.call(lt(e),n)})),n))for(;u>l;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return a?e:c?n.call(e):u?n(e[0],i):o},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!z)if(z=lt.Deferred(),"complete"===G.readyState)setTimeout(lt.ready);else if(G.addEventListener)G.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",wt,!1);else{G.attachEvent("onreadystatechange",wt),e.attachEvent("onload",wt);var n=!1;try{n=null==e.frameElement&&G.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}xt(),lt.ready()}}()}return z.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()}),Q=lt(G);var _t={};lt.Callbacks=function(e){e="string"==typeof e?_t[e]||i(e):lt.extend({},e);var n,r,a,o,s,l,u=[],c=!e.once&&[],d=function(t){for(r=e.memory&&t,a=!0,s=l||0,l=0,o=u.length,n=!0;u&&o>s;s++)if(u[s].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,u&&(c?c.length&&d(c.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){lt.each(t,function(t,n){var r=lt.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(l=t,d(r))}return this},remove:function(){return u&&lt.each(arguments,function(e,t){for(var i;(i=lt.inArray(t,u,i))>-1;)u.splice(i,1),n&&(o>=i&&o--,s>=i&&s--)}),this},has:function(e){return e?lt.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=c=r=t,this},disabled:function(){return!u},lock:function(){return c=t,r||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||a&&!c||(n?c.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!a}};return p},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,a){var o=a[0],s=lt.isFunction(e[t])&&e[t];r[a[1]](function(){var e=s&&s.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,i):i}},r={};return i.pipe=i.then,lt.each(t,function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=it.call(arguments),o=a.length,s=1!==o||e&&lt.isFunction(e.promise)?o:0,l=1===s?e:lt.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?it.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=Array(o),n=Array(o),i=Array(o);o>r;r++)a[r]&&lt.isFunction(a[r].promise)?a[r].promise().done(u(r,i,a)).fail(l.reject).progress(u(r,n,t)):--s;return s||l.resolveWith(i,a),l.promise()}}),lt.support=function(){var t,n,i,r,a,o,s,l,u,c,d=G.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!i||!n.length)return{};a=G.createElement("select"),s=a.appendChild(G.createElement("option")),r=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!r.value,optSelected:s.selected,enctype:!!G.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===G.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(p){t.deleteExpando=!1}r=G.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),o=G.createDocumentFragment(),o.appendChild(r),t.appendChecked=r.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+c,"t"),t[c+"Bubbles"]=l in e||d.attributes[l].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,lt(function(){var n,i,r,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=G.getElementsByTagName("body")[0];o&&(n=G.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=d.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=u&&0===r[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(G.createElement("div")),i.style.cssText=d.style.cssText=a,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==W&&(d.innerHTML="",d.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(n),n=d=r=i=null)}),n=a=o=s=i=r=null,t}();var Vt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Et=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!s(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var i,r,a=this[0],s=0,l=null;if(e===t){if(this.length&&(l=lt.data(a),1===a.nodeType&&!lt._data(a,"parsedAttrs"))){for(i=a.attributes;i.length>s;s++)r=i[s].name,r.indexOf("data-")||(r=lt.camelCase(r.slice(5)),o(a,r,l[r]));lt._data(a,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(n){return n===t?a?o(a,e,lt.data(a,e)):null:(this.each(function(){lt.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,n,i){var r;return e?(n=(n||"fx")+"queue",r=lt._data(e,n),i&&(!r||lt.isArray(i)?r=lt._data(e,n,lt.makeArray(i)):r.push(i)),r||[]):t},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),i=n.length,r=n.shift(),a=lt._queueHooks(e,t),o=function(){lt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),a.cur=r,r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,a=lt.Deferred(),o=this,s=this.length,l=function(){--r||a.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=lt._data(o[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));
return l(),a.promise(n)}});var Tt,kt,At=/[\t\r\n]/g,St=/\r/g,Lt=/^(?:input|select|textarea|button|object)$/i,Ct=/^(?:a|area)$/i,jt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Dt=/^(?:checked|selected)$/i,Nt=lt.support.getSetAttribute,Ot=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,a,o=0,s=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ct)||[];s>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(a=0;r=t[a++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=lt.trim(i)}return this},removeClass:function(e){var t,n,i,r,a,o=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ct)||[];s>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?lt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return lt.isFunction(e)?this.each(function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,a=0,o=lt(this),s=t,l=e.match(ct)||[];r=l[a++];)s=i?s:!o.hasClass(r),o[s?"addClass":"removeClass"](r);else(n===W||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,a=this[0];{if(arguments.length)return r=lt.isFunction(e),this.each(function(n){var a,o=lt(this);1===this.nodeType&&(a=r?e.call(this,n,o.val()):e,null==a?a="":"number"==typeof a?a+="":lt.isArray(a)&&(a=lt.map(a,function(e){return null==e?"":e+""})),i=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,a,"value")!==t||(this.value=a))});if(a)return i=lt.valHooks[a.type]||lt.valHooks[a.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(a,"value"))!==t?n:(n=a.value,"string"==typeof n?n.replace(St,""):null==n?"":n)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,o=a?null:[],s=a?r+1:i.length,l=0>r?s:a?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),a)return t;o.push(t)}return o},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var r,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===W?lt.prop(e,n,i):(a=1!==s||!lt.isXMLDoc(e),a&&(n=n.toLowerCase(),r=lt.attrHooks[n]||(jt.test(n)?kt:Tt)),i===t?r&&a&&"get"in r&&null!==(o=r.get(e,n))?o:(typeof e.getAttribute!==W&&(o=e.getAttribute(n)),null==o?t:o):null!==i?r&&a&&"set"in r&&(o=r.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):(lt.removeAttr(e,n),t))},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(ct);if(a&&1===e.nodeType)for(;n=a[r++];)i=lt.propFix[n]||n,jt.test(n)?!Nt&&Dt.test(n)?e[lt.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:lt.attr(e,n,""),e.removeAttribute(Nt?n:i)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!lt.isXMLDoc(e),o&&(n=lt.propFix[n]||n,a=lt.propHooks[n]),i!==t?a&&"set"in a&&(r=a.set(e,i,n))!==t?r:e[n]=i:a&&"get"in a&&null!==(r=a.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Lt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:t}}}}),kt={get:function(e,n){var i=lt.prop(e,n),r="boolean"==typeof i&&e.getAttribute(n),a="boolean"==typeof i?Ot&&Nt?null!=r:Dt.test(n)?e[lt.camelCase("default-"+n)]:!!r:e.getAttributeNode(n);return a&&a.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):Ot&&Nt||!Dt.test(n)?e.setAttribute(!Nt&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},Ot&&Nt||(lt.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return lt.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,n,i){return lt.nodeName(e,"input")?(e.defaultValue=n,t):Tt&&Tt.set(e,n,i)}}),Nt||(Tt=lt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},lt.attrHooks.contenteditable={get:Tt.get,set:function(e,t,n){Tt.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{set:function(e,i){return""===i?(e.setAttribute(n,"auto"),i):t}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,n){return lt.isArray(n)?e.checked=lt.inArray(lt(e).val(),n)>=0:t}})});var It=/^(?:input|select|textarea)$/i,Pt=/^key/,Ft=/^(?:mouse|contextmenu)|click/,Rt=/^(?:focusinfocus|focusoutblur)$/,$t=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,i,r,a){var o,s,l,u,c,d,p,h,f,m,g,v=lt._data(e);if(v){for(i.handler&&(u=i,i=u.handler,a=u.selector),i.guid||(i.guid=lt.guid++),(s=v.events)||(s=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof lt===W||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ct)||[""],l=n.length;l--;)o=$t.exec(n[l])||[],f=g=o[1],m=(o[2]||"").split(".").sort(),c=lt.event.special[f]||{},f=(a?c.delegateType:c.bindType)||f,c=lt.event.special[f]||{},p=lt.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:a,needsContext:a&&lt.expr.match.needsContext.test(a),namespace:m.join(".")},u),(h=s[f])||(h=s[f]=[],h.delegateCount=0,c.setup&&c.setup.call(e,r,m,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),a?h.splice(h.delegateCount++,0,p):h.push(p),lt.event.global[f]=!0;e=null}},remove:function(e,t,n,i,r){var a,o,s,l,u,c,d,p,h,f,m,g=lt.hasData(e)&&lt._data(e);if(g&&(c=g.events)){for(t=(t||"").match(ct)||[""],u=t.length;u--;)if(s=$t.exec(t[u])||[],h=m=s[1],f=(s[2]||"").split(".").sort(),h){for(d=lt.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,p=c[h]||[],s=s[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=p.length;a--;)o=p[a],!r&&m!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(p.splice(a,1),o.selector&&p.delegateCount--,d.remove&&d.remove.call(e,o));l&&!p.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||lt.removeEvent(e,h,g.handle),delete c[h])}else for(h in c)lt.event.remove(e,h+t[u],n,i,!0);lt.isEmptyObject(c)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(n,i,r,a){var o,s,l,u,c,d,p,h=[r||G],f=ot.call(n,"type")?n.type:n,m=ot.call(n,"namespace")?n.namespace.split("."):[];if(l=d=r=r||G,3!==r.nodeType&&8!==r.nodeType&&!Rt.test(f+lt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),s=0>f.indexOf(":")&&"on"+f,n=n[lt.expando]?n:new lt.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:lt.makeArray(i,[n]),c=lt.event.special[f]||{},a||!c.trigger||c.trigger.apply(r,i)!==!1)){if(!a&&!c.noBubble&&!lt.isWindow(r)){for(u=c.delegateType||f,Rt.test(u+f)||(l=l.parentNode);l;l=l.parentNode)h.push(l),d=l;d===(r.ownerDocument||G)&&h.push(d.defaultView||d.parentWindow||e)}for(p=0;(l=h[p++])&&!n.isPropagationStopped();)n.type=p>1?u:c.bindType||f,o=(lt._data(l,"events")||{})[n.type]&&lt._data(l,"handle"),o&&o.apply(l,i),o=s&&l[s],o&&lt.acceptData(l)&&o.apply&&o.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!(a||n.isDefaultPrevented()||c._default&&c._default.apply(r.ownerDocument,i)!==!1||"click"===f&&lt.nodeName(r,"a")||!lt.acceptData(r)||!s||!r[f]||lt.isWindow(r))){d=r[s],d&&(r[s]=null),lt.event.triggered=f;try{r[f]()}catch(g){}lt.event.triggered=t,d&&(r[s]=d)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,i,r,a,o,s=[],l=it.call(arguments),u=(lt._data(this,"events")||{})[e.type]||[],c=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=lt.event.handlers.call(this,e,u),n=0;(a=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,o=0;(r=a.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((lt.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,a,o,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(a=[],o=0;l>o;o++)r=n[o],i=r.selector+" ",a[i]===t&&(a[i]=r.needsContext?lt(i,this).index(u)>=0:lt.find(i,this,null,[u]).length),a[i]&&a.push(r);a.length&&s.push({elem:u,handlers:a})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[lt.expando])return e;var t,n,i,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Ft.test(r)?this.mouseHooks:Pt.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new lt.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=a.srcElement||G),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,a,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||G,a=r.documentElement,i=r.body,e.pageX=n.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==G.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===G.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?lt.event.trigger(r,null,t):lt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=G.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===W&&(e[i]=null),e.detachEvent(i,n))},lt.Event=function(e,n){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:u):this.type=e,n&&lt.extend(this,n),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,t):new lt.Event(e,n)},lt.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==i&&!lt.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;i&&!lt._data(i,"submitBubbles")&&(lt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(i,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),t)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return It.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;It.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return lt.event.remove(this,"._change"),!It.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&G.addEventListener(e,i,!0)},teardown:function(){0===--n&&G.removeEventListener(e,i,!0)}}}),lt.fn.extend({on:function(e,n,i,r,a){var o,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(o in e)this.on(o,n,i,e[o],a);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=u;else if(!r)return this;return 1===a&&(s=r,r=function(e){return lt().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,lt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=u),this.each(function(){lt.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?lt.event.trigger(e,n,i,!0):t}}),function(e,t){function n(e){return ft.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>V.cacheLength&&delete e[t.shift()],e[n]=i}}function r(e){return e[R]=!0,e}function a(e){var t=C.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function o(e,t,n,i){var r,a,o,s,l,u,c,h,f,m;if((t?t.ownerDocument||t:$)!==C&&L(t),t=t||C,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!D&&!i){if(r=mt.exec(e))if(o=r[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&P(t,a)&&a.id===o)return n.push(a),n}else{if(r[2])return X.apply(n,Z.call(t.getElementsByTagName(e),0)),n;if((o=r[3])&&q.getByClassName&&t.getElementsByClassName)return X.apply(n,Z.call(t.getElementsByClassName(o),0)),n}if(q.qsa&&!N.test(e)){if(c=!0,h=R,f=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=d(e),(c=t.getAttribute("id"))?h=c.replace(yt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+p(u[l]);f=ht.test(e)&&t.parentNode||t,m=u.join(",")}if(m)try{return X.apply(n,Z.call(f.querySelectorAll(m),0)),n}catch(g){}finally{c||t.removeAttribute("id")}}}return b(e.replace(ot,"$1"),t,n,i)}function s(e,t){var n=t&&e,i=n&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function d(e,t){var n,i,r,a,s,l,u,c=z[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=V.preFilter;s;){(!n||(i=st.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=ut.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ot," ")}),s=s.slice(n.length));for(a in V.filter)!(i=pt[a].exec(s))||u[a]&&!(i=u[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?o.error(e):z(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=B++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,o){var s,l,u,c=H+" "+a;if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(u=t[R]||(t[R]={}),(l=u[i])&&l[0]===c){if((s=l[1])===!0||s===_)return s===!0}else if(l=u[i]=[c],l[1]=e(t,n,o)||_,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,u=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,i,r))&&(o.push(a),u&&t.push(s));return o}function g(e,t,n,i,a,o){return i&&!i[R]&&(i=g(i)),a&&!a[R]&&(a=g(a,o)),r(function(r,o,s,l){var u,c,d,p=[],h=[],f=o.length,g=r||M(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?g:m(g,p,e,s,l),y=n?a||(r?e:f||i)?[]:o:v;if(n&&n(v,y,s,l),i)for(u=m(y,h),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[h[c]]=!(v[h[c]]=d));if(r){if(a||e){if(a){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);a(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=a?K.call(r,d):p[c])>-1&&(r[u]=!(o[u]=d))}}else y=m(y===o?y.splice(f,y.length):y),a?a(null,o,y,l):X.apply(o,y)})}function v(e){for(var t,n,i,r=e.length,a=V.relative[e[0].type],o=a||V.relative[" "],s=a?1:0,l=h(function(e){return e===t},o,!0),u=h(function(e){return K.call(t,e)>-1},o,!0),c=[function(e,n,i){return!a&&(i||n!==S)||((t=n).nodeType?l(e,n,i):u(e,n,i))}];r>s;s++)if(n=V.relative[e[s].type])c=[h(f(c),n)];else{if(n=V.filter[e[s].type].apply(null,e[s].matches),n[R]){for(i=++s;r>i&&!V.relative[e[i].type];i++);return g(s>1&&f(c),s>1&&p(e.slice(0,s-1)).replace(ot,"$1"),n,i>s&&v(e.slice(s,i)),r>i&&v(e=e.slice(i)),r>i&&p(e))}c.push(n)}return f(c)}function y(e,t){var n=0,i=t.length>0,a=e.length>0,s=function(r,s,l,u,c){var d,p,h,f=[],g=0,v="0",y=r&&[],M=null!=c,b=S,w=r||a&&V.find.TAG("*",c&&s.parentNode||s),x=H+=null==b?1:Math.random()||.1;for(M&&(S=s!==C&&s,_=n);null!=(d=w[v]);v++){if(a&&d){for(p=0;h=e[p++];)if(h(d,s,l)){u.push(d);break}M&&(H=x,_=++n)}i&&((d=!h&&d)&&g--,r&&y.push(d))}if(g+=v,i&&v!==g){for(p=0;h=t[p++];)h(y,f,s,l);if(r){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=Y.call(u));f=m(f)}X.apply(u,f),M&&!r&&f.length>0&&g+t.length>1&&o.uniqueSort(u)}return M&&(H=x,S=b),y};return i?r(s):s}function M(e,t,n){for(var i=0,r=t.length;r>i;i++)o(e,t[i],n);return n}function b(e,t,n,i){var r,a,o,s,l,u=d(e);if(!i&&1===u.length){if(a=u[0]=u[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&9===t.nodeType&&!D&&V.relative[a[1].type]){if(t=V.find.ID(o.matches[0].replace(bt,wt),t)[0],!t)return n;e=e.slice(a.shift().value.length)}for(r=pt.needsContext.test(e)?0:a.length;r--&&(o=a[r],!V.relative[s=o.type]);)if((l=V.find[s])&&(i=l(o.matches[0].replace(bt,wt),ht.test(a[0].type)&&t.parentNode||t))){if(a.splice(r,1),e=i.length&&p(a),!e)return X.apply(n,Z.call(i,0)),n;break}}return k(e,u)(i,t,D,n,ht.test(e)),n}function w(){}var x,_,V,E,T,k,A,S,L,C,j,D,N,O,I,P,F,R="sizzle"+-new Date,$=e.document,q={},H=0,B=0,U=i(),z=i(),Q=i(),W=typeof t,G=1<<31,J=[],Y=J.pop,X=J.push,Z=J.slice,K=J.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",rt="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",at=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",ot=RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=RegExp("^"+et+"*,"+et+"*"),ut=RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ct=RegExp(at),dt=RegExp("^"+nt+"$"),pt={ID:RegExp("^#("+tt+")"),CLASS:RegExp("^\\.("+tt+")"),NAME:RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:RegExp("^("+tt.replace("w","w*")+")"),ATTR:RegExp("^"+rt),PSEUDO:RegExp("^"+at),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ht=/[\x20\t\r\n\f]*[+~]/,ft=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,Mt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,bt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{Z.call($.documentElement.childNodes,0)[0].nodeType}catch(xt){Z=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}T=o.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=o.setDocument=function(e){var i=e?e.ownerDocument||e:$;return i!==C&&9===i.nodeType&&i.documentElement?(C=i,j=i.documentElement,D=T(i),q.tagNameNoComments=a(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),q.attributes=a(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),q.getByClassName=a(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),q.getByName=a(function(e){e.id=R+0,e.innerHTML="<a name='"+R+"'></a><div name='"+R+"'></div>",j.insertBefore(e,j.firstChild);var t=i.getElementsByName&&i.getElementsByName(R).length===2+i.getElementsByName(R+0).length;return q.getIdNotName=!i.getElementById(R),j.removeChild(e),t}),V.attrHandle=a(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==W&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},q.getIdNotName?(V.find.ID=function(e,t){if(typeof t.getElementById!==W&&!D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},V.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){return e.getAttribute("id")===t}}):(V.find.ID=function(e,n){if(typeof n.getElementById!==W&&!D){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==W&&i.getAttributeNode("id").value===e?[i]:t:[]}},V.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){var n=typeof e.getAttributeNode!==W&&e.getAttributeNode("id");return n&&n.value===t}}),V.find.TAG=q.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==W?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},V.find.NAME=q.getByName&&function(e,n){return typeof n.getElementsByName!==W?n.getElementsByName(name):t},V.find.CLASS=q.getByClassName&&function(e,n){return typeof n.getElementsByClassName===W||D?t:n.getElementsByClassName(e)},O=[],N=[":focus"],(q.qsa=n(i.querySelectorAll))&&(a(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||N.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||N.push(":checked")}),a(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&N.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(q.matchesSelector=n(I=j.matchesSelector||j.mozMatchesSelector||j.webkitMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&a(function(e){q.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),O.push("!=",at)}),N=RegExp(N.join("|")),O=RegExp(O.join("|")),P=n(j.contains)||j.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},F=j.compareDocumentPosition?function(e,t){var n;return e===t?(A=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||P($,e)?-1:t===i||P($,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,a=e.parentNode,o=t.parentNode,l=[e],u=[t];if(e===t)return A=!0,0;if(!a||!o)return e===i?-1:t===i?1:a?-1:o?1:0;if(a===o)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===$?-1:u[r]===$?1:0},A=!1,[0,0].sort(F),q.detectDuplicates=A,C):C},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&L(e),t=t.replace(Mt,"='$1']"),!(!q.matchesSelector||D||O&&O.test(t)||N.test(t)))try{var n=I.call(e,t);if(n||q.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return o(t,C,null,[e]).length>0},o.contains=function(e,t){return(e.ownerDocument||e)!==C&&L(e),P(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==C&&L(e),D||(t=t.toLowerCase()),(n=V.attrHandle[t])?n(e):D||q.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},o.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var t,n=[],i=1,r=0;if(A=!q.detectDuplicates,e.sort(F),A){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},E=o.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=E(t);return n},V=o.selectors={cacheLength:50,createPseudo:r,match:pt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(bt,wt),e[3]=(e[4]||e[5]||"").replace(bt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return pt.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ct.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(bt,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=U[e+" "];return t||(t=RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&U(e,function(e){return t.test(e.className||typeof e.getAttribute!==W&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=o.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,h,f,m=a!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(a){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(c=g[R]||(g[R]={}),u=c[e]||[],h=u[0]===H&&u[1],p=u[0]===H&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(p=h=0)||f.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[H,h,p];
break}}else if(y&&(u=(t[R]||(t[R]={}))[e])&&u[0]===H)p=u[1];else for(;(d=++h&&d&&d[m]||(p=h=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[R]||(d[R]={}))[e]=[H,p]),d!==t)););return p-=r,p===i||0===p%i&&p/i>=0}}},PSEUDO:function(e,t){var n,i=V.pseudos[e]||V.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return i[R]?i(t):i.length>1?(n=[e,e,"",t],V.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,a=i(e,t),o=a.length;o--;)r=K.call(e,a[o]),e[r]=!(n[r]=a[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ot,"$1"));return i[R]?r(function(e,t,n,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),!n.pop()}}),has:r(function(e){return function(t){return o(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return dt.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(bt,wt).toLowerCase(),function(t){var n;do if(n=D?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!V.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})V.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})V.pseudos[x]=u(x);k=o.compile=function(e,t){var n,i=[],r=[],a=Q[e+" "];if(!a){for(t||(t=d(e)),n=t.length;n--;)a=v(t[n]),a[R]?i.push(a):r.push(a);a=Q(e,y(r,i))}return a},V.pseudos.nth=V.pseudos.eq,V.filters=w.prototype=V.pseudos,V.setFilters=new w,L(),o.attr=lt.attr,lt.find=o,lt.expr=o.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=o.uniqueSort,lt.text=o.getText,lt.isXMLDoc=o.isXML,lt.contains=o.contains}(e);var qt=/Until$/,Ht=/^(?:parents|prev(?:Until|All))/,Bt=/^.[^:#\[\.,]*$/,Ut=lt.expr.match.needsContext,zt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,i,r=this.length;if("string"!=typeof e)return i=this,this.pushStack(lt(e).filter(function(){for(t=0;r>t;t++)if(lt.contains(i[t],this))return!0}));for(n=[],t=0;r>t;t++)lt.find(e,this[t],n);return n=this.pushStack(r>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e,!1))},filter:function(e){return this.pushStack(d(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Ut.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=Ut.test(e)||"string"!=typeof e?lt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:lt.find.matchesSelector(n,e)){a.push(n);break}n=n.parentNode}return this.pushStack(a.length>1?lt.unique(a):a)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),i=lt.merge(this.get(),n);return this.pushStack(lt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,i){var r=lt.map(this,t,n);return qt.test(e)||(i=n),i&&"string"==typeof i&&(r=lt.filter(i,r)),r=this.length>1&&!zt[e]?lt.unique(r):r,this.length>1&&Ht.test(e)&&(r=r.reverse()),this.pushStack(r)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,n,i){for(var r=[],a=e[n];a&&9!==a.nodeType&&(i===t||1!==a.nodeType||!lt(a).is(i));)1===a.nodeType&&r.push(a),a=a[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,Gt=RegExp("<(?:"+Qt+")[\\s/>]","i"),Jt=/^\s+/,Yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xt=/<([\w:]+)/,Zt=/<tbody/i,Kt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,an=/^true\/(.*)/,on=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(G),un=ln.appendChild(G.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(M(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&g(M(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(M(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Wt,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&Gt.test(e)||!lt.support.leadingWhitespace&&Jt.test(e)||sn[(Xt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Yt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(lt.cleanData(M(n,!1)),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=tt.apply([],e);var r,a,o,s,l,u,c=0,d=this.length,p=this,g=d-1,v=e[0],y=lt.isFunction(v);if(y||!(1>=d||"string"!=typeof v||lt.support.checkClone)&&nn.test(v))return this.each(function(r){var a=p.eq(r);y&&(e[0]=v.call(this,r,n?a.html():t)),a.domManip(e,n,i)});if(d&&(u=lt.buildFragment(e,this[0].ownerDocument,!1,this),r=u.firstChild,1===u.childNodes.length&&(u=r),r)){for(n=n&&lt.nodeName(r,"tr"),s=lt.map(M(u,"script"),f),o=s.length;d>c;c++)a=u,c!==g&&(a=lt.clone(a,!0,!0),o&&lt.merge(s,M(a,"script"))),i.call(n&&lt.nodeName(this[c],"table")?h(this[c],"tbody"):this[c],a,c);if(o)for(l=s[s.length-1].ownerDocument,lt.map(s,m),c=0;o>c;c++)a=s[c],rn.test(a.type||"")&&!lt._data(a,"globalEval")&&lt.contains(l,a)&&(a.src?lt.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((a.text||a.textContent||a.innerHTML||"").replace(on,"")));u=r=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,i=0,r=[],a=lt(e),o=a.length-1;o>=i;i++)n=i===o?this:this.clone(!0),lt(a[i])[t](n),nt.apply(r,n.get());return this.pushStack(r)}}),lt.extend({clone:function(e,t,n){var i,r,a,o,s,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Gt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(un.innerHTML=e.outerHTML,un.removeChild(a=un.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(i=M(a),s=M(e),o=0;null!=(r=s[o]);++o)i[o]&&y(r,i[o]);if(t)if(n)for(s=s||M(e),i=i||M(a),o=0;null!=(r=s[o]);o++)v(r,i[o]);else v(e,a);return i=M(a,"script"),i.length>0&&g(i,!l&&M(e,"script")),i=s=r=null,a},buildFragment:function(e,t,n,i){for(var r,a,o,s,l,u,c,d=e.length,h=p(t),f=[],m=0;d>m;m++)if(a=e[m],a||0===a)if("object"===lt.type(a))lt.merge(f,a.nodeType?[a]:a);else if(Kt.test(a)){for(s=s||h.appendChild(t.createElement("div")),l=(Xt.exec(a)||["",""])[1].toLowerCase(),c=sn[l]||sn._default,s.innerHTML=c[1]+a.replace(Yt,"<$1></$2>")+c[2],r=c[0];r--;)s=s.lastChild;if(!lt.support.leadingWhitespace&&Jt.test(a)&&f.push(t.createTextNode(Jt.exec(a)[0])),!lt.support.tbody)for(a="table"!==l||Zt.test(a)?"<table>"!==c[1]||Zt.test(a)?0:s:s.firstChild,r=a&&a.childNodes.length;r--;)lt.nodeName(u=a.childNodes[r],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(lt.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else f.push(t.createTextNode(a));for(s&&h.removeChild(s),lt.support.appendChecked||lt.grep(M(f,"input"),b),m=0;a=f[m++];)if((!i||-1===lt.inArray(a,i))&&(o=lt.contains(a.ownerDocument,a),s=M(h.appendChild(a),"script"),o&&g(s),n))for(r=0;a=s[r++];)rn.test(a.type||"")&&n.push(a);return s=null,h},cleanData:function(e,t){for(var n,i,r,a,o=0,s=lt.expando,l=lt.cache,u=lt.support.deleteExpando,c=lt.event.special;null!=(n=e[o]);o++)if((t||lt.acceptData(n))&&(r=n[s],a=r&&l[r])){if(a.events)for(i in a.events)c[i]?lt.event.remove(n,i):lt.removeEvent(n,i,a.handle);l[r]&&(delete l[r],u?delete n[s]:typeof n.removeAttribute!==W?n.removeAttribute(s):n[s]=null,K.push(r))}}});var cn,dn,pn,hn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=RegExp("^("+ut+")(.*)$","i"),Mn=RegExp("^("+ut+")(?!px)[a-z%]+$","i"),bn=RegExp("^([+-])=("+ut+")","i"),wn={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},_n={letterSpacing:0,fontWeight:400},Vn=["Top","Right","Bottom","Left"],En=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,i){var r,a,o={},s=0;if(lt.isArray(n)){for(a=dn(e),r=n.length;r>s;s++)o[n[s]]=lt.css(e,n[s],!1,a);return o}return i!==t?lt.style(e,n,i):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s,l=lt.camelCase(n),u=e.style;if(n=lt.cssProps[l]||(lt.cssProps[l]=w(u,l)),s=lt.cssHooks[n]||lt.cssHooks[l],i===t)return s&&"get"in s&&(a=s.get(e,!1,r))!==t?a:u[n];if(o=typeof i,"string"===o&&(a=bn.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(lt.css(e,n)),o="number"),!(null==i||"number"===o&&isNaN(i)||("number"!==o||lt.cssNumber[l]||(i+="px"),lt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{u[n]=i}catch(c){}}},css:function(e,n,i,r){var a,o,s,l=lt.camelCase(n);return n=lt.cssProps[l]||(lt.cssProps[l]=w(e.style,l)),s=lt.cssHooks[n]||lt.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=pn(e,n,r)),"normal"===o&&n in _n&&(o=_n[n]),""===i||i?(a=parseFloat(o),i===!0||lt.isNumeric(a)?a||0:o):o},swap:function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=o[a];return r}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},pn=function(e,n,i){var r,a,o,s=i||dn(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,n)),Mn.test(l)&&vn.test(n)&&(r=u.width,a=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=r,u.minWidth=a,u.maxWidth=o)),l}):G.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},pn=function(e,n,i){var r,a,o,s=i||dn(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Mn.test(l)&&!mn.test(n)&&(r=u.left,a=e.runtimeStyle,o=a&&a.left,o&&(a.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=r,o&&(a.left=o)),""===l?"auto":l}),lt.each(["height","width"],function(e,n){lt.cssHooks[n]={get:function(e,i,r){return i?0===e.offsetWidth&&gn.test(lt.css(e,"display"))?lt.swap(e,xn,function(){return T(e,n,r)}):T(e,n,r):t},set:function(e,t,i){var r=i&&dn(e);return V(e,t,i?E(e,n,i,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,r),r):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(a.replace(hn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=hn.test(a)?a.replace(hn,r):a+" "+r)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,n){return n?lt.swap(e,{display:"inline-block"},pn,[e,"marginRight"]):t}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,n){lt.cssHooks[n]={get:function(e,i){return i?(i=pn(e,n),Mn.test(i)?lt(e).position()[n]+"px":i):t}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Vn[i]+t]=a[i]||a[i-2]||a[0];return r}},vn.test(e)||(lt.cssHooks[e+t].set=V)});var Tn=/%20/g,kn=/\[\]$/,An=/\r?\n/g,Sn=/^(?:submit|button|image|reset|file)$/i,Ln=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&Ln.test(this.nodeName)&&!Sn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(An,"\r\n")}}):{name:t.name,value:n.replace(An,"\r\n")}}).get()}}),lt.param=function(e,n){var i,r=[],a=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){a(this.name,this.value)});else for(i in e)S(i,e[i],n,a);return r.join("&").replace(Tn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Cn,jn,Dn=lt.now(),Nn=/\?/,On=/#.*$/,In=/([?&])_=[^&]*/,Pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,$n=/^\/\//,qn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Hn=lt.fn.load,Bn={},Un={},zn="*/".concat("*");try{jn=J.href}catch(Qn){jn=G.createElement("a"),jn.href="",jn=jn.href}Cn=qn.exec(jn.toLowerCase())||[],lt.fn.load=function(e,n,i){if("string"!=typeof e&&Hn)return Hn.apply(this,arguments);var r,a,o,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&lt.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(r?lt("<div>").append(lt.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){s.each(i,a||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,i,r,a){return lt.isFunction(i)&&(a=a||r,r=i,i=t),lt.ajax({url:e,type:n,dataType:a,data:i,success:r})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jn,type:"GET",isLocal:Fn.test(Cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,lt.ajaxSettings),t):j(lt.ajaxSettings,e)},ajaxPrefilter:L(Bn),ajaxTransport:L(Un),ajax:function(e,n){function i(e,n,i,r){var a,d,y,M,w,_=n;2!==b&&(b=2,l&&clearTimeout(l),c=t,s=r||"",x.readyState=e>0?4:0,i&&(M=D(p,x,i)),e>=200&&300>e||304===e?(p.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(lt.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(lt.etag[o]=w)),204===e?(a=!0,_="nocontent"):304===e?(a=!0,_="notmodified"):(a=N(p,M),_=a.state,d=a.data,y=a.error,a=!y)):(y=_,(e||!_)&&(_="error",0>e&&(e=0))),x.status=e,x.statusText=(n||_)+"",a?m.resolveWith(h,[d,_,x]):m.rejectWith(h,[x,_,y]),x.statusCode(v),v=t,u&&f.trigger(a?"ajaxSuccess":"ajaxError",[x,p,a?d:y]),g.fireWith(h,[x,_]),u&&(f.trigger("ajaxComplete",[x,p]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,a,o,s,l,u,c,d,p=lt.ajaxSetup({},n),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?lt(h):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=p.statusCode||{},y={},M={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Pn.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=M[n]=M[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),i(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||jn)+"").replace(On,"").replace($n,Cn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=lt.trim(p.dataType||"*").toLowerCase().match(ct)||[""],null==p.crossDomain&&(r=qn.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===Cn[1]&&r[2]===Cn[2]&&(r[3]||("http:"===r[1]?80:443))==(Cn[3]||("http:"===Cn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=lt.param(p.data,p.traditional)),C(Bn,p,n,x),2===b)return x;u=p.global,u&&0===lt.active++&&lt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Rn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Nn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=In.test(o)?o.replace(In,"$1_="+Dn++):o+(Nn.test(o)?"&":"?")+"_="+Dn++)),p.ifModified&&(lt.lastModified[o]&&x.setRequestHeader("If-Modified-Since",lt.lastModified[o]),lt.etag[o]&&x.setRequestHeader("If-None-Match",lt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zn+"; q=0.01":""):p.accepts["*"]);for(a in p.headers)x.setRequestHeader(a,p.headers[a]);if(p.beforeSend&&(p.beforeSend.call(h,x,p)===!1||2===b))return x.abort();w="abort";for(a in{success:1,error:1,complete:1})x[a](p[a]);if(c=C(Un,p,n,x)){x.readyState=1,u&&f.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},p.timeout));try{b=1,c.send(y,i)}catch(_){if(!(2>b))throw _;i(-1,_)}}else i(-1,"No Transport");return x},getScript:function(e,n){return lt.get(e,t,n,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=G.head||lt("head")[0]||G.documentElement;return{send:function(t,r){n=G.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Wn=[],Gn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wn.pop()||lt.expando+"_"+Dn++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,i,r){var a,o,s,l=n.jsonp!==!1&&(Gn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(a=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Gn,"$1"+a):n.jsonp!==!1&&(n.url+=(Nn.test(n.url)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||lt.error(a+" was not called"),s[0]},n.dataTypes[0]="json",o=e[a],e[a]=function(){s=arguments},r.always(function(){e[a]=o,n[a]&&(n.jsonpCallback=i.jsonpCallback,Wn.push(a)),s&&lt.isFunction(o)&&o(s[0]),s=o=t}),"script"):t});var Jn,Yn,Xn=0,Zn=e.ActiveXObject&&function(){var e;for(e in Jn)Jn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&O()||I()}:O,Yn=lt.ajaxSettings.xhr(),lt.support.cors=!!Yn&&"withCredentials"in Yn,Yn=lt.support.ajax=!!Yn,Yn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var i;return{send:function(r,a){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,u,c,d;try{if(i&&(r||4===l.readyState))if(i=t,o&&(l.onreadystatechange=lt.noop,Zn&&delete Jn[o]),r)4!==l.readyState&&l.abort();else{d={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{c=l.statusText}catch(p){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(h){r||a(-1,h)}d&&a(s,c,d,u)},n.async?4===l.readyState?setTimeout(i):(o=++Xn,Zn&&(Jn||(Jn={},lt(e).unload(Zn)),Jn[o]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Kn,ei,ti=/^(?:toggle|show|hide)$/,ni=RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[q],ai={"*":[function(e,t){var n,i,r=this.createTween(e,t),a=ni.exec(t),o=r.cur(),s=+o||0,l=1,u=20;if(a){if(n=+a[2],i=a[3]||(lt.cssNumber[e]?"":"px"),"px"!==i&&s){s=lt.css(r.elem,e,!0)||n||1;do l=l||".5",s/=l,lt.style(r.elem,e,s+i);while(l!==(l=r.cur()/o)&&1!==l&&--u)}r.unit=i,r.start=s,r.end=a[1]?s+(a[1]+1)*n:n}return r}]};lt.Animation=lt.extend(R,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ai[n]=ai[n]||[],ai[n].unshift(t)},prefilter:function(e,t){t?ri.unshift(e):ri.push(e)}}),lt.Tween=H,H.prototype={constructor:H,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(lt.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,i,r)}}),lt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=lt.isEmptyObject(e),a=lt.speed(t,n,i),o=function(){var t=R(this,lt.extend({},e),a);o.finish=function(){t.stop(!0)},(r||lt._data(this,"finish"))&&t.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=lt.timers,o=lt._data(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&ii.test(n)&&r(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(i),t=!1,a.splice(n,1));(t||!i)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=lt.timers,o=i?i.length:0;for(n.finish=!0,lt.queue(this,e,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),lt.speed=function(e,t,n){var i=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return i.duration=lt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in lt.fx.speeds?lt.fx.speeds[i.duration]:lt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){lt.isFunction(i.old)&&i.old.call(this),i.queue&&lt.dequeue(this,i.queue)},i},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=H.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,i=0;for(Kn=lt.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||lt.fx.stop(),Kn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){ei||(ei=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(ei),ei=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o)return n=o.documentElement,lt.contains(n,a)?(typeof a.getBoundingClientRect!==W&&(r=a.getBoundingClientRect()),i=U(o),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r
},lt.offset={setOffset:function(e,t,n){var i=lt.css(e,"position");"static"===i&&(e.style.position="relative");var r,a,o=lt(e),s=o.offset(),l=lt.css(e,"top"),u=lt.css(e,"left"),c=("absolute"===i||"fixed"===i)&&lt.inArray("auto",[l,u])>-1,d={},p={};c?(p=o.position(),r=p.top,a=p.left):(r=parseFloat(l)||0,a=parseFloat(u)||0),lt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+r),null!=t.left&&(d.left=t.left-s.left+a),"using"in t?t.using.call(e,d):o.css(d)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===lt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(i,"marginTop",!0),left:t.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||G.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||G.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);lt.fn[e]=function(r){return lt.access(this,function(e,r,a){var o=U(e);return a===t?o?n in o?o[n]:o.document.documentElement[r]:e[r]:(o?o.scrollTo(i?lt(o).scrollLeft():a,i?a:lt(o).scrollTop()):e[r]=a,t)},e,r,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){lt.fn[r]=function(r,a){var o=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||a===!0?"margin":"border");return lt.access(this,function(n,i,r){var a;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):r===t?lt.css(n,i,s):lt.style(n,i,r,s)},n,o?r:t,o,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})})(window),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,a=Function.prototype,o=i.push,s=i.slice,l=i.concat,u=r.toString,c=r.hasOwnProperty,d=i.forEach,p=i.map,h=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,M=i.lastIndexOf,b=Array.isArray,w=Object.keys,x=a.bind,_=function(e){return e instanceof _?e:this instanceof _?(this._wrapped=e,void 0):new _(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):e._=_,_.VERSION="1.4.3";var V=_.each=_.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var o in e)if(_.has(e,o)&&t.call(i,e[o],o,e)===n)return};_.map=_.collect=function(e,t,n){var i=[];return null==e?i:p&&e.map===p?e.map(t,n):(V(e,function(e,r,a){i[i.length]=t.call(n,e,r,a)}),i)};var E="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return i&&(t=_.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(V(e,function(e,a,o){r?n=t.call(i,n,e,a,o):(n=e,r=!0)}),!r)throw new TypeError(E);return n},_.reduceRight=_.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=_.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=_.keys(e);a=o.length}if(V(e,function(s,l,u){l=o?o[--a]:--a,r?n=t.call(i,n,e[l],l,u):(n=e[l],r=!0)}),!r)throw new TypeError(E);return n},_.find=_.detect=function(e,t,n){var i;return T(e,function(e,r,a){return t.call(n,e,r,a)?(i=e,!0):void 0}),i},_.filter=_.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(V(e,function(e,r,a){t.call(n,e,r,a)&&(i[i.length]=e)}),i)},_.reject=function(e,t,n){return _.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},_.every=_.all=function(e,t,i){t||(t=_.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(V(e,function(e,a,o){return(r=r&&t.call(i,e,a,o))?void 0:n}),!!r)};var T=_.some=_.any=function(e,t,i){t||(t=_.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(V(e,function(e,a,o){return r||(r=t.call(i,e,a,o))?n:void 0}),!!r)};_.contains=_.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):T(e,function(e){return e===t})},_.invoke=function(e,t){var n=s.call(arguments,2);return _.map(e,function(e){return(_.isFunction(t)?t:e[t]).apply(e,n)})},_.pluck=function(e,t){return _.map(e,function(e){return e[t]})},_.where=function(e,t){return _.isEmpty(t)?[]:_.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},_.max=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&_.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return V(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;o>=i.computed&&(i={value:e,computed:o})}),i.value},_.min=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&_.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return V(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;i.computed>o&&(i={value:e,computed:o})}),i.value},_.shuffle=function(e){var t,n=0,i=[];return V(e,function(e){t=_.random(n++),i[n-1]=i[t],i[t]=e}),i};var k=function(e){return _.isFunction(e)?e:function(t){return t[e]}};_.sortBy=function(e,t,n){var i=k(t);return _.pluck(_.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var A=function(e,t,n,i){var r={},a=k(t||_.identity);return V(e,function(t,o){var s=a.call(n,t,o,e);i(r,s,t)}),r};_.groupBy=function(e,t,n){return A(e,t,n,function(e,t,n){(_.has(e,t)?e[t]:e[t]=[]).push(n)})},_.countBy=function(e,t,n){return A(e,t,n,function(e,t){_.has(e,t)||(e[t]=0),e[t]++})},_.sortedIndex=function(e,t,n,i){n=null==n?_.identity:k(n);for(var r=n.call(i,t),a=0,o=e.length;o>a;){var s=a+o>>>1;r>n.call(i,e[s])?a=s+1:o=s}return a},_.toArray=function(e){return e?_.isArray(e)?s.call(e):e.length===+e.length?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:e.length===+e.length?e.length:_.keys(e).length},_.first=_.head=_.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},_.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},_.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},_.rest=_.tail=_.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var S=function(e,t,n){return V(e,function(e){_.isArray(e)?t?o.apply(n,e):S(e,t,n):n.push(e)}),n};_.flatten=function(e,t){return S(e,t,[])},_.without=function(e){return _.difference(e,s.call(arguments,1))},_.uniq=_.unique=function(e,t,n,i){_.isFunction(t)&&(i=n,n=t,t=!1);var r=n?_.map(e,n,i):e,a=[],o=[];return V(r,function(n,i){(t?i&&o[o.length-1]===n:_.contains(o,n))||(o.push(n),a.push(e[i]))}),a},_.union=function(){return _.uniq(l.apply(i,arguments))},_.intersection=function(e){var t=s.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})},_.difference=function(e){var t=l.apply(i,s.call(arguments,1));return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){for(var e=s.call(arguments),t=_.max(_.pluck(e,"length")),n=Array(t),i=0;t>i;i++)n[i]=_.pluck(e,""+i);return n},_.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},_.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=_.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},_.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(M&&e.lastIndexOf===M)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},_.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,a=Array(i);i>r;)a[r++]=e,e+=n;return a};var L=function(){};_.bind=function(e,t){var n,i;if(e.bind===x&&x)return x.apply(e,s.call(arguments,1));if(!_.isFunction(e))throw new TypeError;return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(s.call(arguments)));L.prototype=e.prototype;var r=new L;L.prototype=null;var a=e.apply(r,n.concat(s.call(arguments)));return Object(a)===a?a:r}},_.bindAll=function(e){var t=s.call(arguments,1);return 0===t.length&&(t=_.functions(e)),V(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,t){var n={};return t||(t=_.identity),function(){var i=t.apply(this,arguments);return _.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},_.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=function(e){return _.delay.apply(_,[e,1].concat(s.call(arguments,1)))},_.throttle=function(e,t){var n,i,r,a,o=0,s=function(){o=new Date,r=null,a=e.apply(n,i)};return function(){var l=new Date,u=t-(l-o);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,o=l,a=e.apply(n,i)):r||(r=setTimeout(s,u)),a}},_.debounce=function(e,t,n){var i,r;return function(){var a=this,o=arguments,s=function(){i=null,n||(r=e.apply(a,o))},l=n&&!i;return clearTimeout(i),i=setTimeout(s,t),l&&(r=e.apply(a,o)),r}},_.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},_.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},_.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},_.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},_.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)_.has(e,n)&&(t[t.length]=n);return t},_.values=function(e){var t=[];for(var n in e)_.has(e,n)&&t.push(e[n]);return t},_.pairs=function(e){var t=[];for(var n in e)_.has(e,n)&&t.push([n,e[n]]);return t},_.invert=function(e){var t={};for(var n in e)_.has(e,n)&&(t[e[n]]=n);return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=function(e){return V(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},_.pick=function(e){var t={},n=l.apply(i,s.call(arguments,1));return V(n,function(n){n in e&&(t[n]=e[n])}),t},_.omit=function(e){var t={},n=l.apply(i,s.call(arguments,1));for(var r in e)_.contains(n,r)||(t[r]=e[r]);return t},_.defaults=function(e){return V(s.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e};var C=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var r=u.call(e);if(r!=u.call(t))return!1;switch(r){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return i[a]==t;n.push(e),i.push(t);var o=0,s=!0;if("[object Array]"==r){if(o=e.length,s=o==t.length)for(;o--&&(s=C(e[o],t[o],n,i)););}else{var l=e.constructor,c=t.constructor;if(l!==c&&!(_.isFunction(l)&&l instanceof l&&_.isFunction(c)&&c instanceof c))return!1;for(var d in e)if(_.has(e,d)&&(o++,!(s=_.has(t,d)&&C(e[d],t[d],n,i))))break;if(s){for(d in t)if(_.has(t,d)&&!o--)break;s=!o}}return n.pop(),i.pop(),s};_.isEqual=function(e,t){return C(e,t,[],[])},_.isEmpty=function(e){if(null==e)return!0;if(_.isArray(e)||_.isString(e))return 0===e.length;for(var t in e)if(_.has(e,t))return!1;return!0},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=b||function(e){return"[object Array]"==u.call(e)},_.isObject=function(e){return e===Object(e)},V(["Arguments","Function","String","Number","Date","RegExp"],function(e){_["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return!(!e||!_.has(e,"callee"))}),_.isFunction=function(e){return"function"==typeof e},_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!=+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return c.call(e,t)},_.noConflict=function(){return e._=t,this},_.identity=function(e){return e},_.times=function(e,t,n){for(var i=Array(e),r=0;e>r;r++)i[r]=t.call(n,r);return i},_.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};j.unescape=_.invert(j.escape);var D={escape:RegExp("["+_.keys(j.escape).join("")+"]","g"),unescape:RegExp("("+_.keys(j.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(e){_[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return j[e][t]})}}),_.result=function(e,t){if(null==e)return null;var n=e[t];return _.isFunction(n)?n.call(e):n},_.mixin=function(e){V(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(_,e))}})};var N=0;_.uniqueId=function(e){var t=""+ ++N;return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(e,t,n){var i;n=_.defaults({},n,_.templateSettings);var r=RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(r,function(t,n,i,r,s){return o+=e.slice(a,s).replace(P,function(e){return"\\"+I[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return i(t,_);var l=function(e){return i.call(this,e,_)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},_.chain=function(e){return _(e).chain()};var F=function(e){return this._chain?_(e).chain():e};_.mixin(_),V(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),V(["concat","join","slice"],function(e){var t=i[e];_.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var e,t=this,n=t.Backbone,i=[],r=i.push,a=i.slice,o=i.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.0.0";var s=t._;s||"undefined"==typeof require||(s=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var i=this,r=s.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,a,o,l,u,d,p;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:s.keys(this._events),l=0,u=o.length;u>l;l++)if(e=o[l],a=this._events[e]){if(this._events[e]=i=[],t||n)for(d=0,p=a.length;p>d;d++)r=a[d],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&d(n,t),i&&d(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var a in i)i[a].off(t,n,this),r&&delete this._listeners[a];return this}},u=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(u.test(n)){for(var a=n.split(u),o=0,s=a.length;s>o;o++)e[t].apply(e,[a[o]].concat(i));return!1}return!0},d=function(e,t){var n,i=-1,r=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;r>++i;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;r>++i;)(n=e[i]).callback.call(n.ctx,a);return;case 2:for(;r>++i;)(n=e[i]).callback.call(n.ctx,a,o);return;case 3:for(;r>++i;)(n=e[i]).callback.call(n.ctx,a,o,s);return;default:for(;r>++i;)(n=e[i]).callback.apply(n.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};s.each(p,function(e,t){l[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),a=t._listenerId||(t._listenerId=s.uniqueId("l"));return r[a]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),l.bind=l.on,l.unbind=l.off,s.extend(e,l);var h=e.Model=function(e,t){var n,i=e||{};t||(t={}),this.cid=s.uniqueId("c"),this.attributes={},s.extend(this,s.pick(t,f)),t.parse&&(i=this.parse(i,t)||{}),(n=s.result(this,"defaults"))&&(i=s.defaults({},i,n)),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];s.extend(h.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return s.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,a,o,l,u,c,d;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;a=n.unset,l=n.silent,o=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=s.clone(this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)t=r[i],s.isEqual(d[i],t)||o.push(i),s.isEqual(c[i],t)?delete this.changed[i]:this.changed[i]=t,a?delete d[i]:d[i]=t;if(!l){o.length&&(this._pending=!0);for(var p=0,h=o.length;h>p;p++)this.trigger("change:"+o[p],this,d[o[p]],n)}if(u)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,s.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,s.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!s.isEmpty(this.changed):s.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in e)s.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},P(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,r,a,o=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=s.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=s.extend({},o,i)),void 0===n.parse&&(n.parse=!0);var l=this,u=n.success;return n.success=function(e){l.attributes=o;var t=l.parse(e,n);return n.wait&&(t=s.extend(i||{},t)),s.isObject(t)&&!l.set(t,n)?!1:(u&&u(l,e,n),l.trigger("sync",l,e,n),void 0)},P(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),a=this.sync(r,this,n),i&&n.wait&&(this.attributes=o),a},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;P(this,e);var r=this.sync("delete",this,e);return e.wait||i(),r},url:function(){var e=s.result(this,"urlRoot")||s.result(this.collection,"url")||I();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},s.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,s.extend(t||{},{validationError:n})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];s.each(m,function(e){h.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),s[e].apply(s,t)}});var g=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,s.extend({silent:!0},t))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};s.extend(g.prototype,l,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,s.defaults(t||{},y))},remove:function(e,t){e=s.isArray(e)?e.slice():[e],t||(t={});var n,i,r,a;for(n=0,i=e.length;i>n;n++)a=this.get(e[n]),a&&(delete this._byId[a.id],delete this._byId[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,t.silent||(t.index=r,a.trigger("remove",a,this,t)),this._removeReference(a));return this},set:function(e,t){t=s.defaults(t||{},v),t.parse&&(e=this.parse(e,t)),s.isArray(e)||(e=e?[e]:[]);var n,i,a,l,u,c=t.at,d=this.comparator&&null==c&&t.sort!==!1,p=s.isString(this.comparator)?this.comparator:null,h=[],f=[],m={};for(n=0,i=e.length;i>n;n++)(a=this._prepareModel(e[n],t))&&((l=this.get(a))?(t.remove&&(m[l.cid]=!0),t.merge&&(l.set(a.attributes,t),d&&!u&&l.hasChanged(p)&&(u=!0))):t.add&&(h.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)));if(t.remove){for(n=0,i=this.length;i>n;++n)m[(a=this.models[n]).cid]||f.push(a);f.length&&this.remove(f,t)}if(h.length&&(d&&(u=!0),this.length+=h.length,null!=c?o.apply(this.models,[c,0].concat(h)):r.apply(this.models,h)),u&&this.sort({silent:!0}),t.silent)return this;for(n=0,i=h.length;i>n;n++)(a=h[n]).trigger("add",a,this,t);return u&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return s.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return e||(e={}),s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=s.isFunction(t)?t:function(e){return e.get(t)};return s.sortedIndex(this.models,e,i,n)},pluck:function(e){return s.invoke(this.models,"get",e)},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},P(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?s.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(r){t.wait&&n.add(e,t),i&&i(e,r,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var M=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];s.each(M,function(e){g.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),s[e].apply(s,t)}});var b=["groupBy","countBy","sortBy"];s.each(b,function(e){g.prototype[e]=function(t,n){var i=s.isFunction(t)?t:function(e){return e.get(t)};return s[e](this.models,i,n)}});var w=e.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];s.extend(w.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=s.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(s.isFunction(n)||(n=this[e[t]]),n){var i=t.match(x),r=i[1],a=i[2];n=s.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,n):this.$el.on(r,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=s.extend({},s.result(this,"options"),e)),s.extend(this,s.pick(e,_)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);else{var t=s.extend({},s.result(this,"attributes"));this.id&&(t.id=s.result(this,"id")),this.className&&(t["class"]=s.result(this,"className"));var n=e.$("<"+s.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var r=V[t];s.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(i.url||(a.url=s.result(n,"url")||I()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",i.emulateJSON&&(a.data._method=r);var o=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"!==a.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(s.extend(a,i));return n.trigger("request",n,l,i),l};var V={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var E=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,A=/\*\w+/g,S=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(E.prototype,l,{initialize:function(){},route:function(t,n,i){s.isRegExp(t)||(t=this._routeToRegExp(t)),s.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return e.history.route(t,function(a){var o=r._extractParameters(t,a);i&&i.apply(r,o),r.trigger.apply(r,["route:"+n].concat(o)),r.trigger("route",n,o),e.history.trigger("route",r,n,o)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var e,t=s.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(S,"\\$&").replace(T,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/]+)"}).replace(A,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return s.map(n,function(e){return e?decodeURIComponent(e):null})}});var L=e.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},C=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,D=/msie [\w.]+/,N=/\/$/;L.started=!1,s.extend(L.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(N,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(C,"")},start:function(t){if(L.started)throw Error("Backbone.history has already been started");L.started=!0,this.options=s.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,r=D.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(j,"/"),r&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location,o=a.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&a.hash&&(this.fragment=this.getHash().replace(C,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search)),this.options.silent?void 0:this.loadUrl())
},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),L.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!L.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new L;var O=function(e,t){var n,i=this;n=e&&s.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},s.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&s.extend(n.prototype,e),n.__super__=i.prototype,n};h.extend=g.extend=E.extend=w.extend=L.extend=O;var I=function(){throw Error('A "url" property or function must be specified')},P=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var a=new this;e=!1;for(var o in n)a[o]="function"==typeof n[o]&&"function"==typeof r[o]&&t.test(n[o])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(o,n[o]):n[o];return i.prototype=a,i.prototype.constructor=i,i.extend=arguments.callee,i}}();var global=function(){return this||(1,eval)("this")}();if(VMM===void 0){var VMM=Class.extend({});VMM.debug=!0,VMM.master_config={init:function(){return this},sizes:{api:{width:0,height:0}},vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",api_keys_master:{flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"uQKadH1VMlCsp560gN2aOiMz4evWkl1s34yryl3F/9FJOsn+/948CbBUvKLN46U=",twitter:""},timers:{api:7e3},api:{pushques:[]},twitter:{active:!1,array:[],api_loaded:!1,que:[]},flickr:{active:!1,array:[],api_loaded:!1,que:[]},youtube:{active:!1,array:[],api_loaded:!1,que:[]},vimeo:{active:!1,array:[],api_loaded:!1,que:[]},googlemaps:{active:!1,map_active:!1,places_active:!1,array:[],api_loaded:!1,que:[]},googledocs:{active:!1,array:[],api_loaded:!1,que:[]},googleplus:{active:!1,array:[],api_loaded:!1,que:[]},wikipedia:{active:!1,array:[],api_loaded:!1,que:[],tries:0},soundcloud:{active:!1,array:[],api_loaded:!1,que:[]}}.init(),VMM.createElement=function(e,t,n,i,r){var a="";return null!=e&&""!=e&&(a+="<"+e,null!=n&&""!=n&&(a+=" class='"+n+"'"),null!=i&&""!=i&&(a+=" "+i),null!=r&&""!=r&&(a+=" style='"+r+"'"),a+=">",null!=t&&""!=t&&(a+=t),a=a+"</"+e+">"),a},VMM.createMediaElement=function(e,t,n){var i="";return i+="<div class='media'>",null!=e&&""!=e&&(valid=!0,i+="<img src='"+e+"'>",null!=n&&""!=n&&(i+=VMM.createElement("div",n,"credit")),null!=t&&""!=t&&(i+=VMM.createElement("div",t,"caption"))),i+="</div>"},VMM.hideUrlBar=function(){var e=window,t=e.document;if(!location.hash||!e.addEventListener){window.scrollTo(0,1);var n=1,i=setInterval(function(){t.body&&(clearInterval(i),n="scrollTop"in t.body?t.body.scrollTop:1,e.scrollTo(0,1===n?0:1))},15);e.addEventListener("load",function(){setTimeout(function(){e.scrollTo(0,1===n?0:1)},0)},!1)}}}Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=0>e?this.length+e:e,this.push.apply(this,n)},Date.prototype.getWeek=function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)};var is={Null:function(e){return null===e},Undefined:function(e){return void 0===e},nt:function(e){return null===e||void 0===e},Function:function(e){return"function"==typeof e?null!==(""+e.constructor).match(/Function/):!1},String:function(e){return"string"==typeof e?!0:"object"==typeof e?null!==(""+e.constructor).match(/string/i):!1},Array:function(e){return"object"==typeof e?null!==(""+e.constructor).match(/array/i)||void 0!==e.length:!1},Boolean:function(e){return"boolean"==typeof e?!0:"object"==typeof e?null!==(""+e.constructor).match(/boolean/i):!1},Date:function(e){return"date"==typeof e?!0:"object"==typeof e?null!==(""+e.constructor).match(/date/i):!1},HTML:function(e){return"object"==typeof e?null!==(""+e.constructor).match(/html/i):!1},Number:function(e){return"number"==typeof e?!0:"object"==typeof e?null!==(""+e.constructor).match(/Number/):!1},Object:function(e){return"object"==typeof e?null!==(""+e.constructor).match(/object/i):!1},RegExp:function(e){return"function"==typeof e?null!==(""+e.constructor).match(/regexp/i):!1}},type={of:function(e){for(var t in is)if(is[t](e))return t.toLowerCase()}};if(VMM!==void 0&&(VMM.smoothScrollTo=function(e,t,n){if("undefined"!=typeof jQuery){var i="easein",r=1e3;null!=t&&(r=1>t?1:Math.round(t)),null!=n&&""!=n&&(i=n),jQuery(window).scrollTop()!=VMM.Lib.offset(e).top&&VMM.Lib.animate("html,body",r,i,{scrollTop:VMM.Lib.offset(e).top})}},VMM.attachElement=function(e,t){"undefined"!=typeof jQuery&&jQuery(e).html(t)},VMM.appendElement=function(e,t){"undefined"!=typeof jQuery&&jQuery(e).append(t)},VMM.getHTML=function(e){var t;return"undefined"!=typeof jQuery?t=jQuery(e).html():void 0},VMM.getElement=function(e,t){var n;return"undefined"!=typeof jQuery?n=t?jQuery(e).parent().get(0):jQuery(e).get(0):void 0},VMM.bindEvent=function(e,t,n,i){var r="click",a={};null!=n&&""!=n&&(r=n),null!=a&&""!=a&&(a=i),"undefined"!=typeof jQuery&&jQuery(e).bind(r,a,t)},VMM.unbindEvent=function(e,t,n){var i="click";null!=n&&""!=n&&(i=n),"undefined"!=typeof jQuery&&jQuery(e).unbind(i,t)},VMM.fireEvent=function(e,t,n){var i="click",r=[];null!=t&&""!=t&&(i=t),null!=n&&""!=n&&(r=n),"undefined"!=typeof jQuery&&jQuery(e).trigger(i,r)},VMM.getJSON=function(e,t,n){if("undefined"!=typeof jQuery){if(jQuery.ajaxSetup({timeout:3e3}),"Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7&&window.XDomainRequest){trace("IE JSON");var i=e;return i.match("^http://")?jQuery.getJSON(i,t,n):i.match("^https://")?(i=i.replace("https://","http://"),jQuery.getJSON(i,t,n)):jQuery.getJSON(e,t,n)}return jQuery.getJSON(e,t,n)}},VMM.parseJSON=function(e){return"undefined"!=typeof jQuery?jQuery.parseJSON(e):void 0},VMM.appendAndGetElement=function(e,t,n,i){var r,a="<div>",o="",s="";return null!=t&&""!=t&&(a=t),null!=n&&""!=n&&(o=n),null!=i&&""!=i&&(s=i),"undefined"!=typeof jQuery&&(r=jQuery(t),r.addClass(o),r.html(s),jQuery(e).append(r)),r},VMM.Lib={init:function(){return this},hide:function(e,t){null!=t&&""!=t?"undefined"!=typeof jQuery&&jQuery(e).hide(t):"undefined"!=typeof jQuery&&jQuery(e).hide()},remove:function(e){"undefined"!=typeof jQuery&&jQuery(e).remove()},detach:function(e){"undefined"!=typeof jQuery&&jQuery(e).detach()},append:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).append(t)},prepend:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).prepend(t)},show:function(e,t){null!=t&&""!=t?"undefined"!=typeof jQuery&&jQuery(e).show(t):"undefined"!=typeof jQuery&&jQuery(e).show()},load:function(e,t,n){var i={elem:e};null!=i&&""!=i&&(i=n),"undefined"!=typeof jQuery&&jQuery(e).load(i,t)},addClass:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).addClass(t)},removeClass:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).removeClass(t)},attr:function(e,t,n){if(null!=n&&""!=n)"undefined"!=typeof jQuery&&jQuery(e).attr(t,n);else if("undefined"!=typeof jQuery)return jQuery(e).attr(t)},prop:function(e,t,n){"undefined"!=typeof jQuery&&/[1-9]\.[3-9].[1-9]/.test(jQuery.fn.jquery)?jQuery(e).prop(t,n):VMM.Lib.attribute(e,t,n)},attribute:function(e,t,n){if(null!=n&&""!=n)"undefined"!=typeof jQuery&&jQuery(e).attr(t,n);else if("undefined"!=typeof jQuery)return jQuery(e).attr(t)},visible:function(e,t){if(null!=t)"undefined"!=typeof jQuery&&(t?jQuery(e).show(0):jQuery(e).hide(0));else if("undefined"!=typeof jQuery)return jQuery(e).is(":visible")?!0:!1},css:function(e,t,n){if(null!=n&&""!=n)"undefined"!=typeof jQuery&&jQuery(e).css(t,n);else if("undefined"!=typeof jQuery)return jQuery(e).css(t)},cssmultiple:function(e,t){return"undefined"!=typeof jQuery?jQuery(e).css(t):void 0},offset:function(e){var t;return"undefined"!=typeof jQuery&&(t=jQuery(e).offset()),t},position:function(e){var t;return"undefined"!=typeof jQuery&&(t=jQuery(e).position()),t},width:function(e,t){if(null!=t&&""!=t)"undefined"!=typeof jQuery&&jQuery(e).width(t);else if("undefined"!=typeof jQuery)return jQuery(e).width()},height:function(e,t){if(null!=t&&""!=t)"undefined"!=typeof jQuery&&jQuery(e).height(t);else if("undefined"!=typeof jQuery)return jQuery(e).height()},toggleClass:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).toggleClass(t)},each:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).each(t)},html:function(e,t){var n;if("undefined"!=typeof jQuery)return n=jQuery(e).html();if(null!=t&&""!=t)"undefined"!=typeof jQuery&&jQuery(e).html(t);else{var n;if("undefined"!=typeof jQuery)return n=jQuery(e).html()}},find:function(e,t){return"undefined"!=typeof jQuery?jQuery(e).find(t):void 0},stop:function(e){"undefined"!=typeof jQuery&&jQuery(e).stop()},delay_animate:function(e,t,n,i,r){if("mobile"==VMM.Browser.device||"tablet"==VMM.Browser.device){var a=Math.round(10*(n/1500))/10,o=a+"s";VMM.Lib.css(t,"-webkit-transition","all "+o+" ease"),VMM.Lib.css(t,"-moz-transition","all "+o+" ease"),VMM.Lib.css(t,"-o-transition","all "+o+" ease"),VMM.Lib.css(t,"-ms-transition","all "+o+" ease"),VMM.Lib.css(t,"transition","all "+o+" ease"),VMM.Lib.cssmultiple(t,_att)}else"undefined"!=typeof jQuery&&jQuery(t).delay(e).animate(r,{duration:n,easing:i})},animate:function(e,t,n,i,r,a){var o="easein",s=!1,l=1e3,u={};if(null!=t&&(l=1>t?1:Math.round(t)),null!=n&&""!=n&&(o=n),null!=r&&""!=r&&(s=r),u=null!=i?i:{opacity:0},"mobile"==VMM.Browser.device||"tablet"==VMM.Browser.device){var c=Math.round(10*(l/1500))/10,d=c+"s";o=" cubic-bezier(0.33, 0.66, 0.66, 1)";for(x in u)Object.prototype.hasOwnProperty.call(u,x)&&(trace(x+" to "+u[x]),VMM.Lib.css(e,"-webkit-transition",x+" "+d+o),VMM.Lib.css(e,"-moz-transition",x+" "+d+o),VMM.Lib.css(e,"-o-transition",x+" "+d+o),VMM.Lib.css(e,"-ms-transition",x+" "+d+o),VMM.Lib.css(e,"transition",x+" "+d+o));VMM.Lib.cssmultiple(e,u)}else"undefined"!=typeof jQuery&&(null!=a&&""!=a?jQuery(e).animate(u,{queue:s,duration:l,easing:o,complete:a}):jQuery(e).animate(u,{queue:s,duration:l,easing:o}))}}),"undefined"!=typeof jQuery&&(function(e){window.XDomainRequest&&e.ajaxTransport(function(t){if(t.crossDomain&&t.async){t.timeout&&(t.xdrTimeout=t.timeout,delete t.timeout);var n;return{send:function(i,r){function a(t,i,a,o){n.onload=n.onerror=n.ontimeout=e.noop,n=void 0,r(t,i,a,o)}n=new XDomainRequest,n.open(t.type,t.url),n.onload=function(){a(200,"OK",{text:n.responseText},"Content-Type: "+n.contentType)},n.onerror=function(){a(404,"Not Found")},t.xdrTimeout&&(n.ontimeout=function(){a(0,"timeout")},n.timeout=t.xdrTimeout),n.send(t.hasContent&&t.data||null)},abort:function(){n&&(n.onerror=e.noop(),n.abort())}}}})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,i,r){return jQuery.easing[jQuery.easing.def](e,t,n,i,r)},easeInExpo:function(e,t,n,i,r){return 0==t?n:i*Math.pow(2,10*(t/r-1))+n},easeOutExpo:function(e,t,n,i,r){return t==r?n+i:i*(-Math.pow(2,-10*t/r)+1)+n},easeInOutExpo:function(e,t,n,i,r){return 0==t?n:t==r?n+i:1>(t/=r/2)?i/2*Math.pow(2,10*(t-1))+n:i/2*(-Math.pow(2,-10*--t)+2)+n},easeInQuad:function(e,t,n,i,r){return i*(t/=r)*t+n},easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n},easeInOutQuad:function(e,t,n,i,r){return 1>(t/=r/2)?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n}})),VMM!==void 0&&VMM.Browser===void 0&&(VMM.Browser={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS",this.device=this.searchDevice(navigator.userAgent),this.orientation=this.searchOrientation(window.orientation)},searchOrientation:function(e){var t="";return t=0==e||180==e?"portrait":90==e||-90==e?"landscape":"normal"},searchDevice:function(e){var t="";return t=e.match(/Android/i)||e.match(/iPhone|iPod/i)?"mobile":e.match(/iPad/i)?"tablet":e.match(/BlackBerry/i)||e.match(/IEMobile/i)?"other mobile":"desktop"},searchString:function(e){for(var t=0;e.length>t;t++){var n=e[t].string,i=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!=n.indexOf(e[t].subString))return e[t].identity}else if(i)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},VMM.Browser.init()),VMM!==void 0&&VMM.FileExtention===void 0&&(VMM.FileExtention={googleDocType:function(e){var t=e.replace(/\s\s*$/,""),n="",i=["DOC","DOCX","XLS","XLSX","PPT","PPTX","PDF","PAGES","AI","PSD","TIFF","DXF","SVG","EPS","PS","TTF","XPS","ZIP","RAR"],r=!1;n=t.substr(t.length-5,5);for(var a=0;i.length>a;a++)(n.toLowerCase().match((""+i[a]).toLowerCase())||t.match("docs.google.com"))&&(r=!0);return r}}),VMM!==void 0&&VMM.Date===void 0){VMM.Date={init:function(){return this},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."],hour:[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],hour_suffix:["am"],bc_format:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"dddd', 'h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"dddd',' mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>'dddd',' mmm d',' yyyy'</small>'"},setLanguage:function(e){trace("SET DATE LANGUAGE"),VMM.Date.dateformats=e.dateformats,VMM.Date.month=e.date.month,VMM.Date.month_abbr=e.date.month_abbr,VMM.Date.day=e.date.day,VMM.Date.day_abbr=e.date.day_abbr,dateFormat.i18n.dayNames=e.date.day_abbr.concat(e.date.day),dateFormat.i18n.monthNames=e.date.month_abbr.concat(e.date.month)},parse:function(e){"use strict";var t,n,i,r;if("date"==type.of(e))t=e;else if(t=new Date(0,0,1,0,0,0,0),e.match(/,/gi)){n=e.split(",");for(var a=0;n.length>a;a++)n[a]=parseInt(n[a],10);n[0]&&t.setFullYear(n[0]),n[1]>1&&t.setMonth(n[1]-1),n[2]>1&&t.setDate(n[2]),n[3]>1&&t.setHours(n[3]),n[4]>1&&t.setMinutes(n[4]),n[5]>1&&t.setSeconds(n[5]),n[6]>1&&t.setMilliseconds(n[6])}else e.match("/")?(e.match(" ")?(r=e.split(" "),e.match(":")&&(i=r[1].split(":"),i[0]>=1&&t.setHours(i[0]),i[1]>=1&&t.setMinutes(i[1]),i[2]>=1&&t.setSeconds(i[2]),i[3]>=1&&t.setMilliseconds(i[3])),n=r[0].split("/")):n=e.split("/"),n[2]&&t.setFullYear(n[2]),n[0]>1&&t.setMonth(n[0]-1),n[1]>1&&t.setDate(n[1])):5>=e.length?(t.setFullYear(parseInt(e,10)),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):e.match("T")?navigator.userAgent.match(/MSIE\s(?!9.0)/)?(r=e.split("T"),e.match(":")&&(i=_time_parse[1].split(":"),i[0]>=1&&t.setHours(i[0]),i[1]>=1&&t.setMinutes(i[1]),i[2]>=1&&t.setSeconds(i[2]),i[3]>=1&&t.setMilliseconds(i[3])),_d_array=r[0].split("-"),n[0]&&t.setFullYear(n[0]),n[1]>1&&t.setMonth(n[1]-1),n[2]>1&&t.setDate(n[2])):t=new Date(Date.parse(e)):t=new Date(parseInt(e.slice(0,4),10),parseInt(e.slice(4,6),10)-1,parseInt(e.slice(6,8),10),parseInt(e.slice(8,10),10),parseInt(e.slice(10,12),10));return t},prettyDate:function(e,t,n){var i,r,a,o,s,l,u,c=!1;if(null!=n&&(c=!0),"date"==type.of(e)){a=0===e.getMonth()&&1==e.getDate()&&0===e.getHours()&&0===e.getMinutes()?VMM.Date.dateformats.year:1>=e.getDate()&&0===e.getHours()&&0===e.getMinutes()?t?VMM.Date.dateformats.month_short:VMM.Date.dateformats.month:0===e.getHours()&&0===e.getMinutes()?t?VMM.Date.dateformats.full_short:VMM.Date.dateformats.full:0===e.getMinutes()?t?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.time_no_seconds_small_date:t?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.full_long,i=dateFormat(e,a,!1),o=i.split(" ");for(var d=0;o.length>d;d++)0>parseInt(o[d],10)&&(trace("YEAR IS BC"),s=o[d],l=Math.abs(parseInt(o[d],10)),u=""+l+" B.C.",i=i.replace(s,u));if(c){r=dateFormat(n,a),o=r.split(" ");for(var p=0;o.length>p;p++)0>parseInt(o[p],10)&&(trace("YEAR IS BC"),s=o[p],l=Math.abs(parseInt(o[p],10)),u=""+l+" B.C.",r=r.replace(s,u))}}else trace("NOT A VALID DATE?"),trace(e);return c?i+" &mdash; "+r:i}}.init();var dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,i=function(e,t){for(e+="",t=t||2;t>e.length;)e="0"+e;return e};return function(r,a,o){var s=dateFormat;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(a=r,r=void 0),isNaN(r)&&trace("invalid date "+r),a=(s.masks[a]||a||s.masks["default"])+"","UTC:"==a.slice(0,4)&&(a=a.slice(4),o=!0);var l=o?"getUTC":"get",u=r[l+"Date"](),c=r[l+"Day"](),d=r[l+"Month"](),p=r[l+"FullYear"](),h=r[l+"Hours"](),f=r[l+"Minutes"](),m=r[l+"Seconds"](),g=r[l+"Milliseconds"](),v=o?0:r.getTimezoneOffset(),y={d:u,dd:i(u),ddd:s.i18n.dayNames[c],dddd:s.i18n.dayNames[c+7],m:d+1,mm:i(d+1),mmm:s.i18n.monthNames[d],mmmm:s.i18n.monthNames[d+12],yy:(p+"").slice(2),yyyy:p,h:h%12||12,hh:i(h%12||12),H:h,HH:i(h),M:f,MM:i(f),s:m,ss:i(m),l:i(g,3),L:i(g>99?Math.round(g/10):g),t:12>h?"a":"p",tt:12>h?"am":"pm",T:12>h?"A":"P",TT:12>h?"AM":"PM",Z:o?"UTC":((r+"").match(t)||[""]).pop().replace(n,""),o:(v>0?"-":"+")+i(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][u%10>3?0:(10!=u%100-u%10)*u%10]};return a.replace(e,function(e){return e in y?y[e]:e.slice(1,e.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(e,t){return dateFormat(this,e,t)}}VMM!==void 0&&VMM.Util===void 0&&(VMM.Util={init:function(){return this},correctProtocol:function(e){var t=""+window.parent.location.protocol,n="",i=e.split("://",2);return n=t.match("http")?t:"https",n+"://"+i[1]},mergeConfig:function(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},getObjectAttributeByIndex:function(e,t){if(e!==void 0){var n=0;for(var i in e){if(t===n)return e[i];n++}return""}return""},ordinal:function(e){return["th","st","nd","rd"][!(e%10>3||1==Math.floor(e%100/10))*(e%10)]},randomBetween:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},average:function(e){for(var t,n={mean:0,variance:0,deviation:0},i=e.length,r=0,a=i;a--;r+=e[a]);for(t=n.mean=r/i,a=i,r=0;a--;r+=Math.pow(e[a]-t,2));return n.deviation=Math.sqrt(n.variance=r/i),n},customSort:function(e,t){var n=e,i=t;return n==i?0:n>i?1:-1},deDupeArray:function(e){var t,n=e.length,i=[],r={};for(t=0;n>t;t++)r[e[t]]=0;for(t in r)i.push(t);return i},number2money:function(e,t,n){var t=null!==t?t:!0,n=null!==n?n:!1,i=VMM.Math2.floatPrecision(e,2),r=this.niceNumber(i);return!r.split(/\./g)[1]&&n&&(r+=".00"),t&&(r="$"+r),r},wordCount:function(e){var t=e+" ",n=/^[^A-Za-z0-9\'\-]+/gi,i=t.replace(n,""),r=/[^A-Za-z0-9\'\-]+/gi,a=i.replace(r," "),o=a.split(" "),s=o.length-1;return 2>t.length&&(s=0),s},ratio:{fit:function(e,t,n,i){var r={width:0,height:0};return r.width=e,r.height=Math.round(e/n*i),r.height>t&&(r.height=t,r.width=Math.round(t/i*n),r.width>e&&trace("FIT: DIDN'T FIT!!! ")),r},r16_9:function(e,t){return null!==e&&""!==e?Math.round(9*(t/16)):null!==t&&""!==t?Math.round(16*(e/9)):void 0},r4_3:function(e,t){return null!==e&&""!==e?Math.round(3*(t/4)):null!==t&&""!==t?Math.round(4*(e/3)):void 0}},doubledigit:function(e){return(10>e?"0":"")+e},truncateWords:function(e,t,n){t||(t=30),n||(n=t);var i=/^[^A-Za-z0-9\'\-]+/gi,r=e.replace(i,""),a=r.split(" "),o=[];t=Math.min(a.length,t),n=Math.min(a.length,n);for(var s=0;t>s;s++)o.push(a[s]);for(;n>s;s++){var l=a[s];if(o.push(l),"."==l.charAt(l.length-1))break}return o.join(" ")},linkify:function(e){var t=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,i=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim;return e.replace(t,"<a target='_blank' href='$&' onclick='void(0)'>$&</a>").replace(n,"$1<a target='_blank' onclick='void(0)' href='http://$2'>$2</a>").replace(i,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>")},linkify_with_twitter:function(e){var t=/(\()((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\))|(\[)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\])|(\{)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\})|(<|&(?:lt|#60|#x3c);)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(>|&(?:gt|#62|#x3e);)|((?:^|[^=\s'"\]])\s*['"]?|[^=\s]\s+)(\b(?:ht|f)tps?:\/\/[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]+(?:(?!&(?:gt|#0*62|#x0*3e);|&(?:amp|apos|quot|#0*3[49]|#x0*2[27]);[.!&',:?;]?(?:[^a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]|$))&[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]*)*[a-z0-9\-_~$()*+=\/#[\]@%])/gim,n='$1$4$7$10$13<a href="$2$5$8$11$14" class="hyphenate">$2$5$8$11$14</a>$3$6$9$12',i=/(^|[^\/])(www\.[\S]+(\b|$))/gim,r=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,a=/\B@([\w-]+)/gm,o=/(#([\w]+))/g;return e.replace(t,n).replace(i,"$1<a target='_blank' class='hyphenate' onclick='void(0)' href='http://$2'>$2</a>").replace(r,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>").replace(a,"<a href='http://twitter.com/$1' target='_blank' onclick='void(0)'>@$1</a>").replace(o,"<a href='http://twitter.com/#search?q=%23$2' target='_blank' 'void(0)'>$1</a>")},linkify_wikipedia:function(e){var t=/<i[^>]*>(.*?)<\/i>/gim;return e.replace(t,"<a target='_blank' href='http://en.wikipedia.org/wiki/$&' onclick='void(0)'>$&</a>").replace(/<i\b[^>]*>/gim,"").replace(/<\/i>/gim,"").replace(/<b\b[^>]*>/gim,"").replace(/<\/b>/gim,"")},unlinkify:function(e){return e?(e=e.replace(/<a\b[^>]*>/i,""),e=e.replace(/<\/a>/i,"")):e},untagify:function(e){return e?e=e.replace(/<\s*\w.*?>/g,""):e},nl2br:function(e){return e.replace(/(\r\n|[\r\n]|\\n|\\r)/g,"<br/>")},unique_ID:function(e){var t=function(e){return Math.floor(Math.random()*e)},n=function(){var e="abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ";return e.substr(t(62),1)},i=function(e){for(var t="",i=0;e>i;i++)t+=n();return t};return i(e)},isEven:function(e){return 0===e%2?!0:!1},getUrlVars:function(e){var t=""+e;t.match("&#038;")?t=t.replace("&#038;","&"):t.match("&#38;")?t=t.replace("&#38;","&"):t.match("&amp;")&&(t=t.replace("&amp;","&"));for(var n,i=[],r=t.slice(t.indexOf("?")+1).split("&"),a=0;r.length>a;a++)n=r[a].split("="),i.push(n[0]),i[n[0]]=n[1];return i},toHTML:function(e){return e=this.nl2br(e),e=this.linkify(e),e.replace(/\s\s/g,"&nbsp;&nbsp;")},toCamelCase:function(e,t){t!==!1&&(t=!0);for(var n=(t?e.toLowerCase():e).split(" "),i=0;n.length>i;i++)n[i]=n[i].substr(0,1).toUpperCase()+n[i].substr(1);return n.join(" ")},properQuotes:function(e){return e.replace(/\"([^\"]*)\"/gi,"&#8220;$1&#8221;")},niceNumber:function(e){e+="",x=e.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");return x1+x2},toTitleCase:function(e){if("Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7)return e.replace("_","%20");var t={__smallWords:["a","an","and","as","at","but","by","en","for","if","in","of","on","or","the","to","v[.]?","via","vs[.]?"],init:function(){this.__smallRE=this.__smallWords.join("|"),this.__lowerCaseWordsRE=RegExp("\\b("+this.__smallRE+")\\b","gi"),this.__firstWordRE=RegExp("^([^a-zA-Z0-9 \\r\\n\\t]*)("+this.__smallRE+")\\b","gi"),this.__lastWordRE=RegExp("\\b("+this.__smallRE+")([^a-zA-Z0-9 \\r\\n\\t]*)$","gi")},toTitleCase:function(e){for(var t="",n=e.split(/([:.;?!][ ]|(?:[ ]|^)["“])/),i=0;n.length>i;++i){var r=n[i];r=r.replace(/\b([a-zA-Z][a-z.'’]*)\b/g,this.__titleCaseDottedWordReplacer),r=r.replace(this.__lowerCaseWordsRE,this.__lowerReplacer),r=r.replace(this.__firstWordRE,this.__firstToUpperCase),r=r.replace(this.__lastWordRE,this.__firstToUpperCase),t+=r}return t=t.replace(/ V(s?)\. /g," v$1. "),t=t.replace(/(['’])S\b/g,"$1s"),t=t.replace(/\b(AT&T|Q&A)\b/gi,this.__upperReplacer)},__titleCaseDottedWordReplacer:function(e){return e.match(/[a-zA-Z][.][a-zA-Z]/)?e:t.__firstToUpperCase(e)},__lowerReplacer:function(e){return e.toLowerCase()},__upperReplacer:function(e){return e.toUpperCase()},__firstToUpperCase:function(e){var t=e.split(/(^[^a-zA-Z0-9]*[a-zA-Z0-9])(.*)$/);return t[1]&&(t[1]=t[1].toUpperCase()),t.join("")}};return t.init(),e=e.replace(/_/g," "),e=t.toTitleCase(e)}}.init()),LazyLoad=function(e){function t(t,n){var i,r=e.createElement(t);for(i in n)n.hasOwnProperty(i)&&r.setAttribute(i,n[i]);return r}function n(e){var t,n,i=u[e];i&&(t=i.callback,n=i.urls,n.shift(),c=0,n.length||(t&&t.call(i.context,i.obj),u[e]=null,d[e].length&&r(e)))}function i(){var t=navigator.userAgent;s={async:e.createElement("script").async===!0},(s.webkit=/AppleWebKit\//.test(t))||(s.ie=/MSIE/.test(t))||(s.opera=/Opera/.test(t))||(s.gecko=/Gecko\//.test(t))||(s.unknown=!0)}function r(r,c,p,h,f){var m,g,v,y,M,b,w=function(){n(r)},x="css"===r,_=[];if(s||i(),c)if(c="string"==typeof c?[c]:c.concat(),x||s.async||s.gecko||s.opera)d[r].push({urls:c,callback:p,obj:h,context:f});else for(m=0,g=c.length;g>m;++m)d[r].push({urls:[c[m]],callback:m===g-1?p:null,obj:h,context:f});if(!u[r]&&(y=u[r]=d[r].shift())){for(l||(l=e.head||e.getElementsByTagName("head")[0]),M=y.urls,m=0,g=M.length;g>m;++m)b=M[m],x?v=s.gecko?t("style"):t("link",{href:b,rel:"stylesheet"}):(v=t("script",{src:b}),v.async=!1),v.className="lazyload",v.setAttribute("charset","utf-8"),s.ie&&!x?v.onreadystatechange=function(){/loaded|complete/.test(v.readyState)&&(v.onreadystatechange=null,w())}:x&&(s.gecko||s.webkit)?s.webkit?(y.urls[m]=v.href,o()):(v.innerHTML='@import "'+b+'";',a(v)):v.onload=v.onerror=w,_.push(v);for(m=0,g=_.length;g>m;++m)l.appendChild(_[m])}}function a(e){var t;try{t=!!e.sheet.cssRules}catch(i){return c+=1,200>c?setTimeout(function(){a(e)},50):t&&n("css"),void 0}n("css")}function o(){var e,t=u.css;if(t){for(e=p.length;--e>=0;)if(p[e].href===t.urls[0]){n("css");break}c+=1,t&&(200>c?setTimeout(o,50):n("css"))}}var s,l,u={},c=0,d={css:[],js:[]},p=e.styleSheets;return{css:function(e,t,n,i){r("css",e,t,n,i)},js:function(e,t,n,i){r("js",e,t,n,i)}}}(this.document),LoadLib=function(){function e(e){var n=0,i=!1;for(n=0;t.length>n;n++)t[n]==e&&(i=!0);return i?!0:(t.push(e),!1)}var t=[];return{css:function(t,n,i,r){e(t)||LazyLoad.css(t,n,i,r)},js:function(t,n,i,r){e(t)||LazyLoad.js(t,n,i,r)}}}(this.document),VMM!==void 0&&VMM.Language===void 0&&(VMM.Language={lang:"en",api:{wikipedia:"en"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Loading Timeline... ",return_to_title:"Return to Title",expand_timeline:"Expand Timeline",contract_timeline:"Contract Timeline",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Loading Content",loading:"Loading"}}),VMM!==void 0&&VMM.ExternalAPI===void 0&&(VMM.ExternalAPI={keys:{google:"",flickr:"",twitter:""},keys_master:{vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"jwNGnYw4hE9lmAez4ll0QD+jo6SKBJFknkopLS4FrSAuGfIwyj57AusuR0s8dAo=",twitter:""},init:function(){return this},setKeys:function(e){VMM.ExternalAPI.keys=e},pushQues:function(){VMM.master_config.googlemaps.active&&VMM.ExternalAPI.googlemaps.pushQue(),VMM.master_config.youtube.active&&VMM.ExternalAPI.youtube.pushQue(),VMM.master_config.soundcloud.active&&VMM.ExternalAPI.soundcloud.pushQue(),VMM.master_config.googledocs.active&&VMM.ExternalAPI.googledocs.pushQue(),VMM.master_config.googleplus.active&&VMM.ExternalAPI.googleplus.pushQue(),VMM.master_config.wikipedia.active&&VMM.ExternalAPI.wikipedia.pushQue(),VMM.master_config.vimeo.active&&VMM.ExternalAPI.vimeo.pushQue(),VMM.master_config.twitter.active&&VMM.ExternalAPI.twitter.pushQue(),VMM.master_config.flickr.active&&VMM.ExternalAPI.flickr.pushQue()
},twitter:{tweetArray:[],get:function(e){var t={mid:e.id,id:e.uid};VMM.master_config.twitter.que.push(t),VMM.master_config.twitter.active=!0},create:function(e,t){var n=(""+e.mid,{twitterid:e.mid},"http://api.twitter.com/1/statuses/show.json?id="+e.mid+"&include_entities=true&callback=?"),i=setTimeout(VMM.ExternalAPI.twitter.errorTimeOut,VMM.master_config.timers.api,e),r=setTimeout(t,VMM.master_config.timers.api,e);VMM.getJSON(n,function(t){var n=(t.id_str,"<blockquote><p>"),i=VMM.Util.linkify_with_twitter(t.text,"_blank");n+=i,n+="</p></blockquote>",t.entities.media!==void 0&&"photo"==t.entities.media[0].type,n+="<div class='vcard author'>",n+="<a class='screen-name url' href='https://twitter.com/"+t.user.screen_name+"' data-screen-name='"+t.user.screen_name+"' target='_blank'>",n+="<span class='avatar'><img src=' "+t.user.profile_image_url+"'  alt=''></span>",n+="<span class='fn'>"+t.user.name+"</span>",n+="<span class='nickname'>@"+t.user.screen_name+"<span class='thumbnail-inline'></span></span>",n+="</a>",n+="</div>",VMM.attachElement("#"+(""+e.id),n),VMM.attachElement("#text_thumb_"+(""+e.id),t.text),VMM.attachElement("#marker_content_"+(""+e.id),t.text)}).error(function(t,n){trace("TWITTER error"),trace("TWITTER ERROR: "+n+" "+t.responseText),VMM.attachElement("#"+e.id,VMM.MediaElement.loadingmessage("ERROR LOADING TWEET "+e.mid))}).success(function(){clearTimeout(i),clearTimeout(r),t()})},errorTimeOut:function(e){trace("TWITTER JSON ERROR TIMEOUT "+e.mid),VMM.attachElement("#"+(""+e.id),VMM.MediaElement.loadingmessage("Still waiting on Twitter: "+e.mid)),VMM.getJSON("http://api.twitter.com/1/account/rate_limit_status.json",function(t){trace("REMAINING TWITTER API CALLS "+t.remaining_hits),trace("TWITTER RATE LIMIT WILL RESET AT "+t.reset_time);var n="";0==t.remaining_hits?(n="<p>You've reached the maximum number of tweets you can load in an hour.</p>",n+="<p>You can view tweets again starting at: <br/>"+t.reset_time+"</p>"):n="<p>Still waiting on Twitter. "+e.mid+"</p>",VMM.attachElement("#"+(""+e.id),VMM.MediaElement.loadingmessage(n))})},pushQue:function(){VMM.master_config.twitter.que.length>0&&(VMM.ExternalAPI.twitter.create(VMM.master_config.twitter.que[0],VMM.ExternalAPI.twitter.pushQue),VMM.master_config.twitter.que.remove(0))},getHTML:function(e){var t="http://api.twitter.com/1/statuses/oembed.json?id="+e+"&callback=?";VMM.getJSON(t,VMM.ExternalAPI.twitter.onJSONLoaded)},onJSONLoaded:function(e){trace("TWITTER JSON LOADED");var t=e.id;VMM.attachElement("#"+t,VMM.Util.linkify_with_twitter(e.html))},parseTwitterDate:function(e){var t=new Date(Date.parse(e));return t},prettyParseTwitterDate:function(e){var t=new Date(Date.parse(e));return VMM.Date.prettyDate(t,!0)},getTweets:function(e){for(var t=[],n=e.length,i=0;e.length>i;i++){var r="";r=e[i].tweet.match("status/")?e[i].tweet.split("status/")[1]:e[i].tweet.match("statuses/")?e[i].tweet.split("statuses/")[1]:"";var a="http://api.twitter.com/1/statuses/show.json?id="+r+"&include_entities=true&callback=?";VMM.getJSON(a,function(e){var i={},r="<div class='twitter'><blockquote><p>",a=VMM.Util.linkify_with_twitter(e.text,"_blank");if(r+=a,r+="</p>",r+="— "+e.user.name+" (<a href='https://twitter.com/"+e.user.screen_name+"'>@"+e.user.screen_name+"</a>) <a href='https://twitter.com/"+e.user.screen_name+"/status/"+e.id+"'>"+VMM.ExternalAPI.twitter.prettyParseTwitterDate(e.created_at)+" </a></blockquote></div>",i.content=r,i.raw=e,t.push(i),t.length==n){var o={tweetdata:t};VMM.fireEvent(global,"TWEETSLOADED",o)}}).success(function(){trace("second success")}).error(function(){trace("error")}).complete(function(){trace("complete")})}},getTweetSearch:function(e,t){var n=40;null!=t&&""!=t&&(n=t);var i="http://search.twitter.com/search.json?q="+e+"&rpp="+n+"&include_entities=true&result_type=mixed",r=[];VMM.getJSON(i,function(e){for(var t=0;e.results.length>t;t++){var n={},i="<div class='twitter'><blockquote><p>",a=VMM.Util.linkify_with_twitter(e.results[t].text,"_blank");i+=a,i+="</p>",i+="— "+e.results[t].from_user_name+" (<a href='https://twitter.com/"+e.results[t].from_user+"'>@"+e.results[t].from_user+"</a>) <a href='https://twitter.com/"+e.results[t].from_user+"/status/"+e.id+"'>"+VMM.ExternalAPI.twitter.prettyParseTwitterDate(e.results[t].created_at)+" </a></blockquote></div>",n.content=i,n.raw=e.results[t],r.push(n)}var o={tweetdata:r};VMM.fireEvent(global,"TWEETSLOADED",o)})},prettyHTML:function(e,t){var e=""+e,n="http://api.twitter.com/1/statuses/show.json?id="+e+"&include_entities=true&callback=?",i=setTimeout(VMM.ExternalAPI.twitter.errorTimeOut,VMM.master_config.timers.api,e);VMM.getJSON(n,VMM.ExternalAPI.twitter.formatJSON).error(function(t,n){trace("TWITTER error"),trace("TWITTER ERROR: "+n+" "+t.responseText),VMM.attachElement("#twitter_"+e,"<p>ERROR LOADING TWEET "+e+"</p>")}).success(function(e){clearTimeout(i),t&&VMM.ExternalAPI.twitter.secondaryMedia(e)})},formatJSON:function(e){var t=e.id_str,n="<blockquote><p>",i=VMM.Util.linkify_with_twitter(e.text,"_blank");n+=i,n+="</p></blockquote>",n+="<div class='vcard author'>",n+="<a class='screen-name url' href='https://twitter.com/"+e.user.screen_name+"' data-screen-name='"+e.user.screen_name+"' target='_blank'>",n+="<span class='avatar'><img src=' "+e.user.profile_image_url+"'  alt=''></span>",n+="<span class='fn'>"+e.user.name+"</span>",n+="<span class='nickname'>@"+e.user.screen_name+"<span class='thumbnail-inline'></span></span>",n+="</a>",n+="</div>",e.entities.media!==void 0&&"photo"==e.entities.media[0].type&&(n+="<img src=' "+e.entities.media[0].media_url+"'  alt=''>"),VMM.attachElement("#twitter_"+(""+t),n),VMM.attachElement("#text_thumb_"+(""+t),e.text)}},googlemaps:{maptype:"toner",setMapType:function(e){""!=e&&(VMM.ExternalAPI.googlemaps.maptype=e)},get:function(e){var t,n,i,r;n=VMM.Util.getUrlVars(e.id),t=""!=VMM.ExternalAPI.keys.google?VMM.ExternalAPI.keys.google:Aes.Ctr.decrypt(VMM.ExternalAPI.keys_master.google,VMM.ExternalAPI.keys_master.vp,256),i="http://maps.googleapis.com/maps/api/js?key="+t+"&libraries=places&sensor=false&callback=VMM.ExternalAPI.googlemaps.onMapAPIReady",r={url:e.id,vars:n,id:e.uid},VMM.master_config.googlemaps.active?VMM.master_config.googlemaps.que.push(r):(VMM.master_config.googlemaps.que.push(r),VMM.master_config.googlemaps.api_loaded||LoadLib.js(i,function(){trace("Google Maps API Library Loaded")}))},create:function(e){trace(e.url),VMM.ExternalAPI.googlemaps.createAPIMap(e),e.url[0].match("msid")},createiFrameMap:function(e){var t=e.url+"&output=embed",n="",i=""+e.id+"_gmap";n+="<div class='google-map' id='"+i+"' style='width=100%;height=100%;'>",n+="<iframe width='100%' height='100%' frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='"+t+"'></iframe>",n+="</div>",VMM.attachElement("#"+e.id,n)},createAPIMap:function(e){function t(e){return e in VMM.ExternalAPI.googlemaps.map_providers?(u=VMM.ExternalAPI.googlemaps.map_attribution[VMM.ExternalAPI.googlemaps.map_providers[e].attribution],VMM.ExternalAPI.googlemaps.map_providers[e]):VMM.ExternalAPI.googlemaps.defaultType(e)?(trace("GOOGLE MAP DEFAULT TYPE"),google.maps.MapTypeId[e.toUpperCase()]):(trace("Not a maptype: "+e),void 0)}function n(){var t,n=new google.maps.Geocoder,r=VMM.Util.getUrlVars(e.url).q;if(r.match("loc:")){var a=r.split(":")[1].split("+");p=new google.maps.LatLng(parseFloat(a[0]),parseFloat(a[1])),f=!0}n.geocode({address:r},function(e,n){n==google.maps.GeocoderStatus.OK?(t=new google.maps.Marker({map:o,position:e[0].geometry.location}),e[0].geometry.viewport!==void 0?o.fitBounds(e[0].geometry.viewport):e[0].geometry.bounds!==void 0?o.fitBounds(e[0].geometry.bounds):o.setCenter(e[0].geometry.location),f&&o.panTo(p),m&&o.setZoom(h)):(trace("Geocode for "+r+" was not successful for the following reason: "+n),trace("TRYING PLACES SEARCH"),f&&o.panTo(p),m&&o.setZoom(h),i())})}function i(){function t(t,i){if(i==google.maps.places.PlacesServiceStatus.OK){for(var r=0;t.length>r;r++);f?o.panTo(p):t.length>=1&&(o.panTo(t[0].geometry.location),m&&o.setZoom(h))}else trace("Place search for "+n.query+" was not successful for the following reason: "+i),trace("YOU MAY NEED A GOOGLE MAPS API KEY IN ORDER TO USE THIS FEATURE OF TIMELINEJS"),trace("FIND OUT HOW TO GET YOUR KEY HERE: https://developers.google.com/places/documentation/#Authentication"),f?(o.panTo(p),m&&o.setZoom(h)):(trace("USING SIMPLE IFRAME MAP EMBED"),e.url[0].match("https")&&(e.url=e.url[0].replace("https","http")),VMM.ExternalAPI.googlemaps.createiFrameMap(e))}var n,i,r,a,s;place_search=new google.maps.places.PlacesService(o),i=new google.maps.InfoWindow,n={query:"",types:["country","neighborhood","political","locality","geocode"]},"string"==type.of(VMM.Util.getUrlVars(e.url).q)&&(n.query=VMM.Util.getUrlVars(e.url).q),f?(n.location=p,n.radius="15000"):(a=new google.maps.LatLng(-89.999999,-179.999999),s=new google.maps.LatLng(89.999999,179.999999),r=new google.maps.LatLngBounds(a,s)),place_search.textSearch(n,t)}function r(){var t,n,i,r;t=e.url+"&output=kml",t=t.replace("&output=embed",""),n=new google.maps.KmlLayer(t,{preserveViewport:!0}),i=new google.maps.InfoWindow,n.setMap(o),google.maps.event.addListenerOnce(n,"defaultviewport_changed",function(){f?o.panTo(p):o.fitBounds(n.getDefaultViewport()),m&&o.setZoom(h)}),google.maps.event.addListener(n,"click",function(e){function t(e){i.setContent(e),i.open(o)}r=e.featureData.description,t(r)})}var a,o,s,l,u="",c=""+e.id+"_gmap",d="",p=new google.maps.LatLng(41.875696,-87.624207),h=11,f=!1,m=!1;google.maps.VeriteMapType=function(e){if(VMM.ExternalAPI.googlemaps.defaultType(e))return google.maps.MapTypeId[e.toUpperCase()];var n=t(e);return google.maps.ImageMapType.call(this,{getTileUrl:function(e,t){var i=(t+e.x+e.y)%VMM.ExternalAPI.googlemaps.map_subdomains.length;return[n.url.replace("{S}",VMM.ExternalAPI.googlemaps.map_subdomains[i]).replace("{Z}",t).replace("{X}",e.x).replace("{Y}",e.y).replace("{z}",t).replace("{x}",e.x).replace("{y}",e.y)]},tileSize:new google.maps.Size(256,256),name:e,minZoom:n.minZoom,maxZoom:n.maxZoom})},google.maps.VeriteMapType.prototype=new google.maps.ImageMapType("_"),a=""!=VMM.ExternalAPI.googlemaps.maptype?VMM.ExternalAPI.googlemaps.defaultType(VMM.ExternalAPI.googlemaps.maptype)?google.maps.MapTypeId[VMM.ExternalAPI.googlemaps.maptype.toUpperCase()]:VMM.ExternalAPI.googlemaps.maptype:"toner","string"==type.of(VMM.Util.getUrlVars(e.url).ll)?(f=!0,l=VMM.Util.getUrlVars(e.url).ll.split(","),p=new google.maps.LatLng(parseFloat(l[0]),parseFloat(l[1]))):"string"==type.of(VMM.Util.getUrlVars(e.url).sll)&&(l=VMM.Util.getUrlVars(e.url).sll.split(","),p=new google.maps.LatLng(parseFloat(l[0]),parseFloat(l[1]))),"string"==type.of(VMM.Util.getUrlVars(e.url).z)&&(m=!0,h=parseFloat(VMM.Util.getUrlVars(e.url).z)),s={zoom:h,disableDefaultUI:!0,mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_RIGHT},center:p,mapTypeId:a,mapTypeControlOptions:{mapTypeIds:[a]}},VMM.attachElement("#"+e.id,"<div class='google-map' id='"+c+"' style='width=100%;height=100%;'></div>"),o=new google.maps.Map(document.getElementById(c),s),VMM.ExternalAPI.googlemaps.defaultType(VMM.ExternalAPI.googlemaps.maptype)||(o.mapTypes.set(a,new google.maps.VeriteMapType(a)),d="<div class='map-attribution'><div class='attribution-text'>"+u+"</div></div>",VMM.appendElement("#"+c,d)),e.url[0].match("msid")?r():"string"==type.of(VMM.Util.getUrlVars(e.url).q)&&n()},pushQue:function(){for(var e=0;VMM.master_config.googlemaps.que.length>e;e++)VMM.ExternalAPI.googlemaps.create(VMM.master_config.googlemaps.que[e]);VMM.master_config.googlemaps.que=[]},onMapAPIReady:function(){VMM.master_config.googlemaps.map_active=!0,VMM.master_config.googlemaps.places_active=!0,VMM.ExternalAPI.googlemaps.onAPIReady()},onPlacesAPIReady:function(){VMM.master_config.googlemaps.places_active=!0,VMM.ExternalAPI.googlemaps.onAPIReady()},onAPIReady:function(){!VMM.master_config.googlemaps.active&&VMM.master_config.googlemaps.map_active&&VMM.master_config.googlemaps.places_active&&(VMM.master_config.googlemaps.active=!0,VMM.ExternalAPI.googlemaps.pushQue())},defaultType:function(e){return"satellite"==e.toLowerCase()||"hybrid"==e.toLowerCase()||"terrain"==e.toLowerCase()||"roadmap"==e.toLowerCase()?!0:!1},map_subdomains:["","a.","b.","c.","d."],map_attribution:{stamen:"Map tiles by <a href='http://stamen.com'>Stamen Design</a>, under <a href='http://creativecommons.org/licenses/by/3.0'>CC BY 3.0</a>. Data by <a href='http://openstreetmap.org'>OpenStreetMap</a>, under <a href='http://creativecommons.org/licenses/by-sa/3.0'>CC BY SA</a>.",apple:"Map data &copy; 2012  Apple, Imagery &copy; 2012 Apple"},map_providers:{toner:{url:"http://{S}tile.stamen.com/toner/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-lines":{url:"http://{S}tile.stamen.com/toner-lines/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-labels":{url:"http://{S}tile.stamen.com/toner-labels/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},sterrain:{url:"http://{S}tile.stamen.com/terrain/{Z}/{X}/{Y}.jpg",minZoom:4,maxZoom:20,attribution:"stamen"},apple:{url:"http://gsp2.apple.com/tile?api=1&style=slideshow&layers=default&lang=en_US&z={z}&x={x}&y={y}&v=9",minZoom:4,maxZoom:14,attribution:"apple"},watercolor:{url:"http://{S}tile.stamen.com/watercolor/{Z}/{X}/{Y}.jpg",minZoom:3,maxZoom:16,attribution:"stamen"}}},googleplus:{get:function(e){var t={user:e.user,activity:e.id,id:e.uid};VMM.master_config.googleplus.que.push(t),VMM.master_config.googleplus.active=!0},create:function(e,t){var n,i,r="",a="",o="",s="",l="";googleplus_timeout=setTimeout(VMM.ExternalAPI.googleplus.errorTimeOut,VMM.master_config.timers.api,e),callback_timeout=setTimeout(t,VMM.master_config.timers.api,e),a=""!=VMM.master_config.Timeline.api_keys.google?VMM.master_config.Timeline.api_keys.google:Aes.Ctr.decrypt(VMM.master_config.api_keys_master.google,VMM.master_config.vp,256),n="https://www.googleapis.com/plus/v1/people/"+e.user+"/activities/public?alt=json&maxResults=100&fields=items(id,url)&key="+a,r="GOOGLE PLUS API CALL",VMM.getJSON(n,function(t){for(var n=0;t.items.length>n;n++)if(trace("loop"),t.items[n].url.split("posts/")[1]==e.activity){trace("FOUND IT!!"),o=t.items[n].id,i="https://www.googleapis.com/plus/v1/activities/"+o+"?alt=json&key="+a,VMM.getJSON(i,function(t){if(trace(t),t.annotation!==void 0?(s+="<div class='googleplus-annotation'>'"+t.annotation+"</div>",s+=t.object.content):s+=t.object.content,t.object.attachments!==void 0){for(var n=0;t.object.attachments.length>n;n++)"photo"==t.object.attachments[n].objectType?l="<a href='"+t.object.url+"' target='_blank'>"+"<img src='"+t.object.attachments[n].image.url+"' class='article-thumb'></a>"+l:"video"==t.object.attachments[n].objectType?(l="<img src='"+t.object.attachments[n].image.url+"' class='article-thumb'>"+l,l+="<div>",l+="<a href='"+t.object.attachments[n].url+"' target='_blank'>",l+="<h5>"+t.object.attachments[n].displayName+"</h5>",l+="</a>",l+="</div>"):"article"==t.object.attachments[n].objectType&&(l+="<div>",l+="<a href='"+t.object.attachments[n].url+"' target='_blank'>",l+="<h5>"+t.object.attachments[n].displayName+"</h5>",l+="<p>"+t.object.attachments[n].content+"</p>",l+="</a>",l+="</div>"),trace(t.object.attachments[n]);l="<div class='googleplus-attachments'>"+l+"</div>"}r="<div class='googleplus-content'>"+s+l+"</div>",r+="<div class='vcard author'><a class='screen-name url' href='"+t.url+"' target='_blank'>",r+="<span class='avatar'><img src='"+t.actor.image.url+"' style='max-width: 32px; max-height: 32px;'></span>",r+="<span class='fn'>"+t.actor.displayName+"</span>",r+="<span class='nickname'><span class='thumbnail-inline'></span></span>",r+="</a></div>",VMM.attachElement("#googleplus_"+e.activity,r)});break}}).error(function(t){var n=VMM.parseJSON(t.responseText);trace(n.error.message),VMM.attachElement("#googleplus_"+e.activity,VMM.MediaElement.loadingmessage("<p>ERROR LOADING GOOGLE+ </p><p>"+n.error.message+"</p>"))}).success(function(){clearTimeout(googleplus_timeout),clearTimeout(callback_timeout),t()})},pushQue:function(){VMM.master_config.googleplus.que.length>0&&(VMM.ExternalAPI.googleplus.create(VMM.master_config.googleplus.que[0],VMM.ExternalAPI.googleplus.pushQue),VMM.master_config.googleplus.que.remove(0))},errorTimeOut:function(e){trace("GOOGLE+ JSON ERROR TIMEOUT "+e.activity),VMM.attachElement("#googleplus_"+e.activity,VMM.MediaElement.loadingmessage("<p>Still waiting on GOOGLE+ </p><p>"+e.activity+"</p>"))}},googledocs:{get:function(e){var t={url:e.id,id:e.uid};VMM.master_config.googledocs.que.push(t),VMM.master_config.googledocs.active=!0},create:function(e){var t="";t=e.url.match(/docs.google.com/i)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+e.url+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='http://docs.google.com/viewer?url="+e.url+"&amp;embedded=true'></iframe>",VMM.attachElement("#"+e.id,t)},pushQue:function(){for(var e=0;VMM.master_config.googledocs.que.length>e;e++)VMM.ExternalAPI.googledocs.create(VMM.master_config.googledocs.que[e]);VMM.master_config.googledocs.que=[]}},flickr:{get:function(e){var t={mid:e.id,id:e.uid,link:e.link};VMM.master_config.flickr.que.push(t),VMM.master_config.flickr.active=!0},create:function(e,t){var n,i=setTimeout(t,VMM.master_config.timers.api,e);n=VMM.master_config.Timeline!==void 0&&""!=VMM.master_config.Timeline.api_keys.flickr?VMM.master_config.Timeline.api_keys.flickr:Aes.Ctr.decrypt(VMM.master_config.api_keys_master.flickr,VMM.master_config.vp,256);var r="http://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+n+"&photo_id="+e.mid+"&format=json&jsoncallback=?";VMM.getJSON(r,function(t){var n,i,r=(t.sizes.size[0].url.split("photos/")[1].split("/")[1],"#"+e.id),a="#"+e.id+"_thumb",o=!1,s="Large";s=VMM.ExternalAPI.flickr.sizes(VMM.master_config.sizes.api.height);for(var l=0;t.sizes.size.length>l;l++)t.sizes.size[l].label==s&&(o=!0,n=t.sizes.size[l].source);o||(n=t.sizes.size[t.sizes.size.length-1].source),i=t.sizes.size[0].source,VMM.Lib.attr(r,"src",n),VMM.attachElement(a,"<img src='"+i+"'>")}).error(function(e,t){trace("FLICKR error"),trace("FLICKR ERROR: "+t+" "+e.responseText)}).success(function(){clearTimeout(i),t()})},pushQue:function(){VMM.master_config.flickr.que.length>0&&(VMM.ExternalAPI.flickr.create(VMM.master_config.flickr.que[0],VMM.ExternalAPI.flickr.pushQue),VMM.master_config.flickr.que.remove(0))},sizes:function(e){var t="";return t=75>=e?"Thumbnail":180>=e?"Small":240>=e?"Small 320":375>=e?"Medium":480>=e?"Medium 640":600>=e?"Medium 800":"Large"}},instagram:{get:function(e,t){return t?"http://instagr.am/p/"+e+"/media/?size=t":"http://instagr.am/p/"+e+"/media/?size="+VMM.ExternalAPI.instagram.sizes(VMM.master_config.sizes.api.height)},sizes:function(e){var t="";return t=150>=e?"t":306>=e?"m":"l"}},soundcloud:{get:function(e){var t={mid:e.id,id:e.uid};VMM.master_config.soundcloud.que.push(t),VMM.master_config.soundcloud.active=!0},create:function(e,t){var n="http://soundcloud.com/oembed?url="+e.mid+"&format=js&callback=?";VMM.getJSON(n,function(n){VMM.attachElement("#"+e.id,n.html),t()})},pushQue:function(){VMM.master_config.soundcloud.que.length>0&&(VMM.ExternalAPI.soundcloud.create(VMM.master_config.soundcloud.que[0],VMM.ExternalAPI.soundcloud.pushQue),VMM.master_config.soundcloud.que.remove(0))}},wikipedia:{get:function(e){var t={url:e.id,id:e.uid,lang:e.lang};VMM.master_config.wikipedia.que.push(t),VMM.master_config.wikipedia.active=!0},create:function(e,t){var n="http://"+e.lang+".wikipedia.org/w/api.php?action=query&prop=extracts&redirects=&titles="+e.url+"&exintro=1&format=json&callback=?";if(callback_timeout=setTimeout(t,VMM.master_config.timers.api,e),"Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7&&window.XDomainRequest){var i="<h4><a href='http://"+VMM.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+e.url+"' target='_blank'>"+e.url+"</a></h4>";i+="<span class='wiki-source'>"+VMM.master_config.language.messages.wikipedia+"</span>",i+="<p>Wikipedia entry unable to load using Internet Explorer 8 or below.</p>",VMM.attachElement("#"+e.id,i)}VMM.getJSON(n,function(t){if(t.query){var n,i,r="",a="",o=1,s=[];n=VMM.Util.getObjectAttributeByIndex(t.query.pages,0).extract,i=VMM.Util.getObjectAttributeByIndex(t.query.pages,0).title,n.match("<p>")?s=n.split("<p>"):s.push(n);for(var l=0;s.length>l;l++)o>=l+1&&s.length>l+1&&(a+="<p>"+s[l+1]);r="<h4><a href='http://"+VMM.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+i+"' target='_blank'>"+i+"</a></h4>",r+="<span class='wiki-source'>"+VMM.master_config.language.messages.wikipedia+"</span>",r+=VMM.Util.linkify_wikipedia(a),n.match("REDIRECT")||VMM.attachElement("#"+e.id,r)}}).error(function(n,i,r){trace("WIKIPEDIA error"),trace("WIKIPEDIA ERROR: "+i+" "+n.responseText),trace(r),VMM.attachElement("#"+e.id,VMM.MediaElement.loadingmessage("<p>Wikipedia is not responding</p>")),clearTimeout(callback_timeout),4>VMM.master_config.wikipedia.tries?(trace("WIKIPEDIA ATTEMPT "+VMM.master_config.wikipedia.tries),trace(e),VMM.master_config.wikipedia.tries++,VMM.ExternalAPI.wikipedia.create(e,t)):t()}).success(function(){VMM.master_config.wikipedia.tries=0,clearTimeout(callback_timeout),t()})},pushQue:function(){VMM.master_config.wikipedia.que.length>0&&(trace("WIKIPEDIA PUSH QUE "+VMM.master_config.wikipedia.que.length),VMM.ExternalAPI.wikipedia.create(VMM.master_config.wikipedia.que[0],VMM.ExternalAPI.wikipedia.pushQue),VMM.master_config.wikipedia.que.remove(0))}},youtube:{get:function(e){var t="http://gdata.youtube.com/feeds/api/videos/"+e.id+"?v=2&alt=jsonc&callback=?",n={mid:e.id,id:e.uid,start:e.start,hd:e.hd};VMM.master_config.youtube.que.push(n),VMM.master_config.youtube.active||VMM.master_config.youtube.api_loaded||LoadLib.js("http://www.youtube.com/player_api",function(){trace("YouTube API Library Loaded")}),VMM.getJSON(t,function(e){VMM.ExternalAPI.youtube.createThumb(e,n)})},create:function(e){if(e.start!==void 0){var t=""+e.start,n=0,i=0;t.match("m")?(n=parseInt(t.split("m")[0],10),i=parseInt(t.split("m")[1].split("s")[0],10),e.start=60*n+i):e.start=0}else e.start=0;var r={active:!1,player:{},name:e.id,playing:!1,hd:!1};e.hd!==void 0&&(r.hd=!0),r.player[e.id]=new YT.Player(e.id,{height:"390",width:"640",playerVars:{enablejsapi:1,color:"white",showinfo:0,theme:"light",start:e.start,rel:0},videoId:e.mid,events:{onReady:VMM.ExternalAPI.youtube.onPlayerReady,onStateChange:VMM.ExternalAPI.youtube.onStateChange}}),VMM.master_config.youtube.array.push(r)},createThumb:function(e,t){if(trace("CREATE THUMB"),trace(e),trace(t),e.data!==void 0){var n="#"+t.id+"_thumb";VMM.attachElement(n,"<img src='"+e.data.thumbnail.sqDefault+"'>")}},pushQue:function(){for(var e=0;VMM.master_config.youtube.que.length>e;e++)VMM.ExternalAPI.youtube.create(VMM.master_config.youtube.que[e]);VMM.master_config.youtube.que=[]},onAPIReady:function(){VMM.master_config.youtube.active=!0,VMM.ExternalAPI.youtube.pushQue()},stopPlayers:function(){for(var e=0;VMM.master_config.youtube.array.length>e;e++)if(VMM.master_config.youtube.array[e].playing){var t=VMM.master_config.youtube.array[e].name;VMM.master_config.youtube.array[e].player[t].stopVideo()}},onStateChange:function(e){for(var t=0;VMM.master_config.youtube.array.length>t;t++){var n=VMM.master_config.youtube.array[t].name;VMM.master_config.youtube.array[t].player[n]==e.target&&e.data==YT.PlayerState.PLAYING&&(VMM.master_config.youtube.array[t].playing=!0,trace(VMM.master_config.youtube.array[t].hd),VMM.master_config.youtube.array[t].hd)}},onPlayerReady:function(){}},vimeo:{get:function(e){var t={mid:e.id,id:e.uid};VMM.master_config.vimeo.que.push(t),VMM.master_config.vimeo.active=!0},create:function(e,t){trace("VIMEO CREATE");var n="http://vimeo.com/api/v2/video/"+e.mid+".json";VMM.getJSON(n,function(n){VMM.ExternalAPI.vimeo.createThumb(n,e),t()})},createThumb:function(e,t){trace("VIMEO CREATE THUMB");var n="#"+t.id+"_thumb";VMM.attachElement(n,"<img src='"+e[0].thumbnail_small+"'>")},pushQue:function(){VMM.master_config.vimeo.que.length>0&&(VMM.ExternalAPI.vimeo.create(VMM.master_config.vimeo.que[0],VMM.ExternalAPI.vimeo.pushQue),VMM.master_config.vimeo.que.remove(0))}}}.init()),VMM!==void 0&&VMM.MediaElement===void 0&&(VMM.MediaElement={init:function(){return this},loadingmessage:function(e){return"<div class='vco-loading'><div class='vco-loading-container'><div class='vco-loading-icon'></div><div class='vco-message'><p>"+e+"</p></div></div></div>"},thumbnail:function(e,t,n,i){var r=16,a=24,o="";if(null!=t&&""!=t&&(r=t),null!=n&&""!=n&&(a=n),null!=i&&""!=i&&(o=i),null!=e.media&&""!=e.media){var s="",l=VMM.MediaType(e.media);return null!=e.thumbnail&&""!=e.thumbnail?(trace("CUSTOM THUMB"),s="<div class='thumbnail thumb-custom' id='"+i+"_custom_thumb'><img src='"+e.thumbnail+"'></div>"):s="image"==l.type?"<div class='thumbnail thumb-photo'></div>":"flickr"==l.type?"<div class='thumbnail thumb-photo' id='"+i+"_thumb'></div>":"instagram"==l.type?"<div class='thumbnail thumb-instagram' id='"+i+"_thumb'><img src='"+VMM.ExternalAPI.instagram.get(l.id,!0)+"'></div>":"youtube"==l.type?"<div class='thumbnail thumb-youtube' id='"+i+"_thumb'></div>":"googledoc"==l.type?"<div class='thumbnail thumb-document'></div>":"vimeo"==l.type?"<div class='thumbnail thumb-vimeo' id='"+i+"_thumb'></div>":"dailymotion"==l.type?"<div class='thumbnail thumb-video'></div>":"twitter"==l.type?"<div class='thumbnail thumb-twitter'></div>":"twitter-ready"==l.type?"<div class='thumbnail thumb-twitter'></div>":"soundcloud"==l.type?"<div class='thumbnail thumb-audio'></div>":"google-map"==l.type?"<div class='thumbnail thumb-map'></div>":"googleplus"==l.type?"<div class='thumbnail thumb-googleplus'></div>":"wikipedia"==l.type?"<div class='thumbnail thumb-wikipedia'></div>":"storify"==l.type?"<div class='thumbnail thumb-storify'></div>":"quote"==l.type?"<div class='thumbnail thumb-quote'></div>":"unknown"==l.type?l.id.match("blockquote")?"<div class='thumbnail thumb-quote'></div>":"<div class='thumbnail thumb-plaintext'></div>":"website"==l.type?"<div class='thumbnail thumb-website'></div>":"<div class='thumbnail thumb-plaintext'></div>"}},create:function(e,t){var n=!1,i=VMM.MediaElement.loadingmessage(VMM.master_config.language.messages.loading+"...");if(null!=e.media&&""!=e.media){var r,a="",o="",s="",l="",u=!1;return r=VMM.MediaType(e.media),r.uid=t,n=!0,null!=e.credit&&""!=e.credit&&(s="<div class='credit'>"+VMM.Util.linkify_with_twitter(e.credit,"_blank")+"</div>"),null!=e.caption&&""!=e.caption&&(o="<div class='caption'>"+VMM.Util.linkify_with_twitter(e.caption,"_blank")+"</div>"),"image"==r.type?(r.id.match("https://")&&(r.id=r.id.replace("https://","http://")),a="<div class='media-image media-shadow'><img src='"+r.id+"' class='media-image'></div>"):"flickr"==r.type?(a="<div class='media-image media-shadow'><a href='"+r.link+"' target='_blank'><img id='"+t+"'></a></div>",VMM.ExternalAPI.flickr.get(r)):"instagram"==r.type?a="<div class='media-image media-shadow'><a href='"+r.link+"' target='_blank'><img src='"+VMM.ExternalAPI.instagram.get(r.id)+"'></a></div>":"googledoc"==r.type?(a="<div class='media-frame media-shadow doc' id='"+r.uid+"'>"+i+"</div>",VMM.ExternalAPI.googledocs.get(r)):"youtube"==r.type?(a="<div class='media-shadow'><div class='media-frame video youtube' id='"+r.uid+"'>"+i+"</div></div>",VMM.ExternalAPI.youtube.get(r)):"vimeo"==r.type?(a="<div class='media-shadow'><iframe class='media-frame video vimeo' autostart='false' frameborder='0' width='100%' height='100%' src='http://player.vimeo.com/video/"+r.id+"?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'></iframe></div>",VMM.ExternalAPI.vimeo.get(r)):"dailymotion"==r.type?a="<div class='media-shadow'><iframe class='media-frame video dailymotion' autostart='false' frameborder='0' width='100%' height='100%' src='http://www.dailymotion.com/embed/video/"+r.id+"'></iframe></div>":"twitter"==r.type?(a="<div class='twitter' id='"+r.uid+"'>"+i+"</div>",u=!0,VMM.ExternalAPI.twitter.get(r)):"twitter-ready"==r.type?(u=!0,a=r.id):"soundcloud"==r.type?(a="<div class='media-frame media-shadow soundcloud' id='"+r.uid+"'>"+i+"</div>",VMM.ExternalAPI.soundcloud.get(r)):"google-map"==r.type?(a="<div class='media-frame media-shadow map' id='"+r.uid+"'>"+i+"</div>",VMM.ExternalAPI.googlemaps.get(r)):"googleplus"==r.type?(l="googleplus_"+r.id,a="<div class='googleplus' id='"+l+"'>"+i+"</div>",u=!0,VMM.ExternalAPI.googleplus.get(r)):"wikipedia"==r.type?(a="<div class='wikipedia' id='"+r.uid+"'>"+i+"</div>",u=!0,VMM.ExternalAPI.wikipedia.get(r)):"storify"==r.type?(u=!0,a="<div class='plain-text-quote'>"+r.id+"</div>"):"quote"==r.type?(u=!0,a="<div class='plain-text-quote'>"+r.id+"</div>"):"unknown"==r.type?(trace("NO KNOWN MEDIA TYPE FOUND TRYING TO JUST PLACE THE HTML"),u=!0,a="<div class='plain-text'><div class='container'>"+VMM.Util.properQuotes(r.id)+"</div></div>"):"website"==r.type?a="<div class='media-shadow website'><a href='"+r.id+"' target='_blank'>"+"<img src='http://api1.thumbalizr.com/?url="+r.id.replace(/[\./]$/g,"")+"&width=300' class='media-image'></a></div>":(trace("NO KNOWN MEDIA TYPE FOUND"),trace(r.type)),a="<div class='media-container' >"+a+s+o+"</div>",u?"<div class='text-media'><div class='media-wrapper'>"+a+"</div></div>":"<div class='media-wrapper'>"+a+"</div>"}}}.init()),VMM!==void 0&&VMM.MediaType===void 0&&(VMM.MediaType=function(e){var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),n=!1,i={type:"unknown",id:"",start:0,hd:!1,link:"",lang:VMM.Language.lang,uniqueid:VMM.Util.unique_ID(6)};if(t.match("div class='twitter'"))i.type="twitter-ready",i.id=t,n=!0;else if(t.match("(www.)?youtube|youtu.be"))i.id=t.match("v=")?VMM.Util.getUrlVars(t).v:t.match("/embed/")?t.split("embed/")[1].split(/[?&]/)[0]:t.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],i.start=VMM.Util.getUrlVars(t).t,i.hd=VMM.Util.getUrlVars(t).hd,i.type="youtube",n=!0;else if(t.match("(player.)?vimeo.com"))i.type="vimeo",i.id=t.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0],n=!0;else if(t.match("(www.)?dailymotion.com"))i.id=t.split(/video\/|\/\/dailymotion\.com\//)[1],i.type="dailymotion",n=!0;else if(t.match("(player.)?soundcloud.com"))i.type="soundcloud",i.id=t,n=!0;else if(t.match("(www.)?twitter.com")&&t.match("status"))i.id=t.match("status/")?t.split("status/")[1]:t.match("statuses/")?t.split("statuses/")[1]:"",i.type="twitter",n=!0;else if(t.match("maps.google")&&!t.match("staticmap"))i.type="google-map",i.id=t.split(/src=['|"][^'|"]*?['|"]/gi),n=!0;else if(t.match("plus.google"))i.type="googleplus",i.id=t.split("/posts/")[1],i.user=t.split("/posts/")[0].match("u/0/")?t.split("u/0/")[1].split("/posts")[0]:t.split("google.com/")[1].split("/posts/")[0],n=!0;else if(t.match("flickr.com/photos"))i.type="flickr",i.id=t.split("photos/")[1].split("/")[1],i.link=t,n=!0;else if(t.match("instagr.am/p/"))i.type="instagram",i.link=t,i.id=t.split("/p/")[1].split("/")[0],n=!0;else if(t.match(/jpg|jpeg|png|gif/i)||t.match("staticmap")||t.match("yfrog.com")||t.match("twitpic.com"))i.type="image",i.id=t,n=!0;else if(VMM.FileExtention.googleDocType(t))i.type="googledoc",i.id=t,n=!0;else if(t.match("(www.)?wikipedia.org")){i.type="wikipedia";var r=t.split("wiki/")[1].split("#")[0].replace("_"," ");i.id=r.replace(" ","%20"),i.lang=t.split("//")[1].split(".wikipedia")[0],n=!0}else 0==t.indexOf("http://")?(i.type="website",i.id=t,n=!0):t.match("storify")?(i.type="storify",i.id=t,n=!0):t.match("blockquote")?(i.type="quote",i.id=t,n=!0):(trace("unknown media"),i.type="unknown",i.id=t,n=!0);return n?i:(trace("No valid media id detected"),trace(t),!1)}),VMM!==void 0&&VMM.TextElement===void 0&&(VMM.TextElement={init:function(){return this},create:function(e){return e}}.init()),VMM!==void 0&&VMM.DragSlider===void 0&&(VMM.DragSlider=function(){var e={element:"",element_move:"",constraint:"",sliding:!1,pagex:{start:0,end:0},left:{start:0,end:0},time:{start:0,end:0},touch:!1,ease:"easeOutExpo"},t={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},n={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},i={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"};
this.createPanel=function(a,o,s,l){e.element=a,e.element_move=o,e.constraint=null!=s&&""!=s?s:!1,e.touch=l?l:!1,trace("TOUCH"+e.touch),t=e.touch?i:n,r(e.element,e.element_move)},this.updateConstraint=function(t){trace("updateConstraint"),e.constraint=t};var r=function(e,n){VMM.bindEvent(e,o,t.down,{element:n,delement:e}),VMM.bindEvent(e,s,t.up,{element:n,delement:e}),VMM.bindEvent(e,a,t.leave,{element:n,delement:e})};this.cancelSlide=function(){return VMM.unbindEvent(e.element,l,t.move),!0};var a=function(n){return VMM.unbindEvent(n.data.delement,l,t.move),e.touch||n.preventDefault(),n.stopPropagation(),e.sliding?(e.sliding=!1,c(n.data.element,n.data.delement,n),!1):!0},o=function(t){return u(t.data.element,t.data.delement,t),e.touch||t.preventDefault(),t.stopPropagation(),!0},s=function(t){return e.touch||t.preventDefault(),t.stopPropagation(),e.sliding?(e.sliding=!1,c(t.data.element,t.data.delement,t),!1):!0},l=function(e){return d(e.data.element,e),e.preventDefault(),e.stopPropagation(),!1},u=function(n,i,r){e.touch?(trace("IS TOUCH"),VMM.Lib.css(n,"-webkit-transition-duration","0"),e.pagex.start=r.originalEvent.touches[0].screenX):e.pagex.start=r.pageX,e.left.start=h(n),e.time.start=(new Date).getTime(),VMM.Lib.stop(n),VMM.bindEvent(i,l,t.move,{element:n})},c=function(e,n,i){VMM.unbindEvent(n,l,t.move),p(e,i)},d=function(t,n){e.sliding=!0,e.pagex.end=e.touch?n.originalEvent.touches[0].screenX:n.pageX,e.left.end=h(t),VMM.Lib.css(t,"left",-(e.pagex.start-e.pagex.end-e.left.start))},p=function(t){var n={left:e.left.end,left_adjust:0,change:{x:0},time:10*((new Date).getTime()-e.time.start),time_adjust:10*((new Date).getTime()-e.time.start)},i=3e3;e.touch&&(i=6e3),n.change.x=i*(Math.abs(e.pagex.end)-Math.abs(e.pagex.start)),n.left_adjust=Math.round(n.change.x/n.time),n.left=Math.min(n.left+n.left_adjust),e.constraint&&(n.left>e.constraint.left?(n.left=e.constraint.left,n.time>5e3&&(n.time=5e3)):n.left<e.constraint.right&&(n.left=e.constraint.right,n.time>5e3&&(n.time=5e3))),VMM.fireEvent(t,"DRAGUPDATE",[n]),n.time>0&&(e.touch?VMM.Lib.animate(t,n.time,"easeOutCirc",{left:n.left}):VMM.Lib.animate(t,n.time,e.ease,{left:n.left}))},h=function(e){return parseInt(VMM.Lib.css(e,"left").substring(0,VMM.Lib.css(e,"left").length-2),10)}}),VMM!==void 0&&VMM.Slider===void 0&&(VMM.Slider=function(e,t){function n(e,t){var n=!0,i=!1;null!=e&&(n=e),null!=t&&(i=t),v=s.slider.width,s.slider.nav.height=VMM.Lib.height(b.prevBtnContainer),s.slider.content.width=v-2*s.slider.content.padding,VMM.Lib.width(p,f.length*s.slider.content.width),i&&VMM.Lib.css(d,"left",f[g].leftpos()),V(),E(),VMM.Lib.css(b.nextBtn,"left",v-s.slider.nav.width),VMM.Lib.height(b.prevBtn,s.slider.height),VMM.Lib.height(b.nextBtn,s.slider.height),VMM.Lib.css(b.nextBtnContainer,"top",s.slider.height/2-s.slider.nav.height/2+10),VMM.Lib.css(b.prevBtnContainer,"top",s.slider.height/2-s.slider.nav.height/2+10),VMM.Lib.height(c,s.slider.height),VMM.Lib.width(c,v),n&&T(g,"linear",1),0==g&&VMM.Lib.visible(b.prevBtn,!1)}function i(){g==f.length-1?VMM.Lib.animate(d,s.duration,s.ease,{left:-f[g].leftpos()}):(T(g+1),o())}function r(){0==g?T(g):(T(g-1),o())}function a(e){switch(e.keyCode){case 39:i(e);break;case 37:r(e)}}function o(){s.current_slide=g,VMM.fireEvent(M,"UPDATE")}var s,l,u,c,d,p,h=[],f=[],m=[],g=0,v=960,y=!1,M=e,b={nextBtn:"",prevBtn:"",nextDate:"",prevDate:"",nextTitle:"",prevTitle:""};s=t!==void 0?t:{preload:4,current_slide:0,interval:10,something:0,width:720,height:400,ease:"easeInOutExpo",duration:1e3,timeline:!1,spacing:15,slider:{width:720,height:400,content:{width:720,height:400,padding:130},nav:{width:100,height:200}}},this.ver="0.6",s.slider.width=s.width,s.slider.height=s.height,this.init=function(e){f=[],m=[],e!==void 0?this.setData(e):trace("WAITING ON DATA")},this.width=function(e){return null==e||""==e?s.slider.width:(s.slider.width=e,n(),void 0)},this.height=function(e){return null==e||""==e?s.slider.height:(s.slider.height=e,n(),void 0)},this.setData=function(e){e!==void 0?(h=e,A()):trace("NO DATA")},this.getData=function(){return h},this.setConfig=function(e){e!==void 0?s=e:trace("NO CONFIG DATA")},this.getConfig=function(){return s},this.setSize=function(e,t){null!=e&&(s.slider.width=e),null!=t&&(s.slider.height=t),y&&n()},this.active=function(){return y},this.getCurrentNumber=function(){return g},this.setSlide=function(e){T(e)};var w=function(e){var t=0;for(VMM.attachElement(p,""),f=[],t=0;e.length>t;t++){var n=new VMM.Slider.Slide(e[t],p);f.push(n)}},x=function(e){var t=0;if(e)_();else{for(t=0;f.length>t;t++)f[t].clearTimers();l=setTimeout(_,s.duration)}},_=function(){var e=0;for(e=0;f.length>e;e++)f[e].enqueue=!0;for(e=0;s.preload>e;e++)g+e>f.length-1||(f[g+e].show(),f[g+e].enqueue=!1),0>g-e||(f[g-e].show(),f[g-e].enqueue=!1);if(f.length>50)for(e=0;f.length>e;e++)f[e].enqueue&&f[e].hide();V()},V=function(){var e=0,t=".slider-item .layout-text-media .media .media-container ",n=".slider-item .layout-media .media .media-container ",i=".slider-item .media .media-container",r={text_media:{width:60*(s.slider.content.width/100),height:s.slider.height-60,video:{width:0,height:0},text:{width:40*(s.slider.content.width/100)-30,height:s.slider.height}},media:{width:s.slider.content.width,height:s.slider.height-110,video:{width:0,height:0}}};VMM.master_config.sizes.api.width=r.media.width,VMM.master_config.sizes.api.height=r.media.height,r.text_media.video=VMM.Util.ratio.fit(r.text_media.width,r.text_media.height,16,9),r.media.video=VMM.Util.ratio.fit(r.media.width,r.media.height,16,9),VMM.Lib.css(".slider-item","width",s.slider.content.width),VMM.Lib.height(".slider-item",s.slider.height);var a=!1;for(640>=v?a=!0:"mobile"==VMM.Browser.device&&"portrait"==VMM.Browser.orientation?a=!0:"tablet"==VMM.Browser.device&&"portrait"==VMM.Browser.orientation,a?(r.text_media.width=s.slider.content.width,r.text_media.height=50*(s.slider.height/100)-50,r.media.height=70*(s.slider.height/100)-40,r.text_media.video=VMM.Util.ratio.fit(r.text_media.width,r.text_media.height,16,9),r.media.video=VMM.Util.ratio.fit(r.media.width,r.media.height,16,9),VMM.Lib.css(".slider-item .layout-text-media .text","width","100%"),VMM.Lib.css(".slider-item .layout-text-media .text","display","block"),VMM.Lib.css(".slider-item .layout-text-media .text .container","display","block"),VMM.Lib.css(".slider-item .layout-text-media .text .container","width",s.slider.content.width),VMM.Lib.css(".slider-item .layout-text-media .media","float","none"),VMM.Lib.addClass(".slider-item .content-container","pad-top"),VMM.Lib.css(".slider-item .media blockquote p","line-height","18px"),VMM.Lib.css(".slider-item .media blockquote p","font-size","16px"),VMM.Lib.css(".slider-item","overflow-y","auto")):(VMM.Lib.css(".slider-item .layout-text-media .text","width","40%"),VMM.Lib.css(".slider-item .layout-text-media .text","display","table-cell"),VMM.Lib.css(".slider-item .layout-text-media .text .container","display","table-cell"),VMM.Lib.css(".slider-item .layout-text-media .text .container","width","auto"),VMM.Lib.css(".slider-item .layout-text-media .text .container .start","width",r.text_media.text.width),VMM.Lib.removeClass(".slider-item .content-container","pad-top"),VMM.Lib.css(".slider-item .layout-text-media .media","float","left"),VMM.Lib.css(".slider-item .layout-text-media","display","table"),VMM.Lib.css(".slider-item .media blockquote p","line-height","36px"),VMM.Lib.css(".slider-item .media blockquote p","font-size","28px"),VMM.Lib.css(".slider-item","display","table"),VMM.Lib.css(".slider-item","overflow-y","auto")),VMM.Lib.css(t+".media-frame","max-width",r.text_media.width),VMM.Lib.height(t+".media-frame",r.text_media.height),VMM.Lib.width(t+".media-frame",r.text_media.width),VMM.Lib.css(t+"img","max-height",r.text_media.height),VMM.Lib.css(n+"img","max-height",r.media.height),VMM.Lib.css(t+"img","max-width",r.text_media.width),VMM.Lib.css(t+".avatar img","max-width",32),VMM.Lib.css(t+".avatar img","max-height",32),VMM.Lib.css(n+".avatar img","max-width",32),VMM.Lib.css(n+".avatar img","max-height",32),VMM.Lib.css(t+".article-thumb","max-width","50%"),VMM.Lib.css(n+".article-thumb","max-width",200),VMM.Lib.width(t+".media-frame",r.text_media.video.width),VMM.Lib.height(t+".media-frame",r.text_media.video.height),VMM.Lib.width(n+".media-frame",r.media.video.width),VMM.Lib.height(n+".media-frame",r.media.video.height),VMM.Lib.css(n+".media-frame","max-height",r.media.video.height),VMM.Lib.css(n+".media-frame","max-width",r.media.video.width),VMM.Lib.height(n+".soundcloud",168),VMM.Lib.height(t+".soundcloud",168),VMM.Lib.width(n+".soundcloud",r.media.width),VMM.Lib.width(t+".soundcloud",r.text_media.width),VMM.Lib.css(i+".soundcloud","max-height",168),VMM.Lib.height(t+".map",r.text_media.height),VMM.Lib.css(n+".map","max-height",r.media.height),VMM.Lib.width(n+".map",r.media.width),VMM.Lib.height(t+".doc",r.text_media.height),VMM.Lib.height(n+".doc",r.media.height),VMM.Lib.width(n+".wikipedia",r.media.width),VMM.Lib.width(n+".twitter",r.media.width),VMM.Lib.width(n+".plain-text-quote",r.media.width),VMM.Lib.width(n+".plain-text",r.media.width),VMM.Lib.css(t+".caption","max-width",r.text_media.video.width),VMM.Lib.css(n+".caption","max-width",r.media.video.width),e=0;f.length>e;e++)f[e].layout(a),f[e].content_height()>s.slider.height+20?f[e].css("display","block"):f[e].css("display","table")},E=function(){var e=0,t=0;for(t=0;f.length>t;t++)e=t*(s.slider.width+s.spacing),f[t].leftpos(e)},T=function(e,t,n,i,r){var a,o=s.ease,l=s.duration,u=!1,c=!1,p="";if(VMM.ExternalAPI.youtube.stopPlayers(),g=e,a=f[g].leftpos(),0==g&&(c=!0),g+1>=f.length&&(u=!0),null!=t&&""!=t&&(o=t),null!=n&&""!=n&&(l=n),c?VMM.Lib.visible(b.prevBtn,!1):(VMM.Lib.visible(b.prevBtn,!0),p=VMM.Util.unlinkify(h[g-1].title),"timeline"==s.type?h[g-1].date===void 0?(VMM.attachElement(b.prevDate,p),VMM.attachElement(b.prevTitle,"")):(VMM.attachElement(b.prevDate,VMM.Date.prettyDate(h[g-1].startdate)),VMM.attachElement(b.prevTitle,p)):VMM.attachElement(b.prevTitle,p)),u?VMM.Lib.visible(b.nextBtn,!1):(VMM.Lib.visible(b.nextBtn,!0),p=VMM.Util.unlinkify(h[g+1].title),"timeline"==s.type?h[g+1].date===void 0?(VMM.attachElement(b.nextDate,p),VMM.attachElement(b.nextTitle,"")):(VMM.attachElement(b.nextDate,VMM.Date.prettyDate(h[g+1].startdate)),VMM.attachElement(b.nextTitle,p)):VMM.attachElement(b.nextTitle,p)),i?VMM.Lib.css(d,"left",-(a-s.slider.content.padding)):(VMM.Lib.stop(d),VMM.Lib.animate(d,l,o,{left:-(a-s.slider.content.padding)})),r&&VMM.fireEvent(M,"LOADED"),f[g].height()>s.slider_height)VMM.Lib.css(".slider","overflow-y","scroll");else{VMM.Lib.css(M,"overflow-y","hidden");var m=0;try{m=VMM.Lib.prop(M,"scrollHeight"),VMM.Lib.animate(M,l,o,{scrollTop:m-VMM.Lib.height(M)})}catch(v){m=VMM.Lib.height(M)}}x()},k=function(){var e="<div class='icon'>&nbsp;</div>";b.nextBtn=VMM.appendAndGetElement(u,"<div>","nav-next"),b.prevBtn=VMM.appendAndGetElement(u,"<div>","nav-previous"),b.nextBtnContainer=VMM.appendAndGetElement(b.nextBtn,"<div>","nav-container",e),b.prevBtnContainer=VMM.appendAndGetElement(b.prevBtn,"<div>","nav-container",e),"timeline"==s.type&&(b.nextDate=VMM.appendAndGetElement(b.nextBtnContainer,"<div>","date",""),b.prevDate=VMM.appendAndGetElement(b.prevBtnContainer,"<div>","date","")),b.nextTitle=VMM.appendAndGetElement(b.nextBtnContainer,"<div>","title",""),b.prevTitle=VMM.appendAndGetElement(b.prevBtnContainer,"<div>","title",""),VMM.bindEvent(".nav-next",i),VMM.bindEvent(".nav-previous",r),VMM.bindEvent(window,a,"keydown")},A=function(){var e=3e3;VMM.attachElement(M,""),u=VMM.getElement(M),c=VMM.appendAndGetElement(u,"<div>","slider-container-mask"),d=VMM.appendAndGetElement(c,"<div>","slider-container"),p=VMM.appendAndGetElement(d,"<div>","slider-item-container"),k(),w(h),"tablet"==VMM.Browser.device||"mobile"==VMM.Browser.device?(s.duration=500,e=1e3):"mobile"==VMM.Browser.device,n(!1,!0),VMM.Lib.visible(b.prevBtn,!1),T(s.current_slide,"easeOutExpo",e,!0,!0),y=!0}}),VMM.Slider!==void 0&&(VMM.Slider.Slide=function(e,t){var n,i,r,a,o,s,l=e,o="",u=!1,c=!1,d=!1,p=!0,h=!1,f="slide_",m={pushque:"",render:"",relayout:"",remove:"",skinny:!1},g={pushque:500,render:100,relayout:100,remove:3e4};f+=l.uniqueid,this.enqueue=p,this.id=f,o=VMM.appendAndGetElement(t,"<div>","slider-item"),s={slide:"",text:"",media:"",media_element:"",layout:"content-container layout",has:{headline:!1,text:!1,media:!1}},this.show=function(e){p=!1,m.skinny=e,h=!1,clearTimeout(m.remove),u||(c?(clearTimeout(m.relayout),m.relayout=setTimeout(M,g.relayout)):v(e))},this.hide=function(){u&&!h&&(h=!0,clearTimeout(m.remove),m.remove=setTimeout(y,g.remove))},this.clearTimers=function(){clearTimeout(m.relayout),clearTimeout(m.pushque),clearTimeout(m.render)},this.layout=function(e){u&&c&&b(e)},this.elem=function(){return o},this.position=function(){return VMM.Lib.position(o)},this.leftpos=function(e){return e===void 0?VMM.Lib.position(o).left:(VMM.Lib.css(o,"left",e),void 0)},this.animate=function(e,t,n){VMM.Lib.animate(o,e,t,n)},this.css=function(e,t){VMM.Lib.css(o,e,t)},this.opacity=function(e){VMM.Lib.css(o,"opacity",e)},this.width=function(){return VMM.Lib.width(o)},this.height=function(){return VMM.Lib.height(o)},this.content_height=function(){var e=VMM.Lib.find(o,".content")[0];return"undefined"!=e&&null!=e?VMM.Lib.height(e):0};var v=function(e){trace("RENDER "+f),u=!0,c=!0,m.skinny=e,w(),clearTimeout(m.pushque),clearTimeout(m.render),m.pushque=setTimeout(VMM.ExternalAPI.pushQues,g.pushque)},y=function(){trace("REMOVE SLIDE TIMER FINISHED"),u=!1,VMM.Lib.detach(i),VMM.Lib.detach(n)},M=function(){u=!0,b(m.skinny,!0)},b=function(e,t){s.has.text?e?(!d||t)&&(VMM.Lib.removeClass(r,"pad-left"),VMM.Lib.detach(i),VMM.Lib.detach(n),VMM.Lib.append(r,i),VMM.Lib.append(r,n),d=!0):(d||t)&&(VMM.Lib.addClass(r,"pad-left"),VMM.Lib.detach(i),VMM.Lib.detach(n),VMM.Lib.append(r,n),VMM.Lib.append(r,i),d=!1):t&&(s.has.headline&&(VMM.Lib.detach(i),VMM.Lib.append(r,i)),VMM.Lib.detach(n),VMM.Lib.append(r,n))},w=function(){if(trace("BUILDSLIDE"),a=VMM.appendAndGetElement(o,"<div>","content"),r=VMM.appendAndGetElement(a,"<div>"),null!=l.startdate&&""!=l.startdate&&"date"==type.of(l.startdate)&&"start"!=l.type){var e=VMM.Date.prettyDate(l.startdate),t=VMM.Date.prettyDate(l.enddate),u="";null!=l.tag&&""!=l.tag&&(u=VMM.createElement("span",l.tag,"slide-tag")),s.text+=e!=t?VMM.createElement("h2",e+" &mdash; "+t+u,"date"):VMM.createElement("h2",e+u,"date")}null!=l.headline&&""!=l.headline&&(s.has.headline=!0,s.text+="start"==l.type?VMM.createElement("h2",VMM.Util.linkify_with_twitter(l.headline,"_blank"),"start"):VMM.createElement("h3",VMM.Util.linkify_with_twitter(l.headline,"_blank"))),null!=l.text&&""!=l.text&&(s.has.text=!0,s.text+=VMM.createElement("p",VMM.Util.linkify_with_twitter(l.text,"_blank"))),(s.has.text||s.has.headline)&&(s.text=VMM.createElement("div",s.text,"container"),i=VMM.appendAndGetElement(r,"<div>","text",VMM.TextElement.create(s.text))),l.needs_slug,null!=l.asset&&""!=l.asset&&null!=l.asset.media&&""!=l.asset.media&&(s.has.media=!0,n=VMM.appendAndGetElement(r,"<div>","media",VMM.MediaElement.create(l.asset,l.uniqueid))),s.has.text&&(s.layout+="-text"),s.has.media&&(s.layout+="-media"),s.has.text?m.skinny?(VMM.Lib.addClass(r,s.layout),d=!0):(VMM.Lib.addClass(r,s.layout),VMM.Lib.addClass(r,"pad-left"),VMM.Lib.detach(i),VMM.Lib.append(r,i)):VMM.Lib.addClass(r,s.layout)}});var Aes={};Aes.cipher=function(e,t){for(var n=4,i=t.length/n-1,r=[[],[],[],[]],a=0;4*n>a;a++)r[a%4][Math.floor(a/4)]=e[a];r=Aes.addRoundKey(r,t,0,n);for(var o=1;i>o;o++)r=Aes.subBytes(r,n),r=Aes.shiftRows(r,n),r=Aes.mixColumns(r,n),r=Aes.addRoundKey(r,t,o,n);r=Aes.subBytes(r,n),r=Aes.shiftRows(r,n),r=Aes.addRoundKey(r,t,i,n);for(var s=Array(4*n),a=0;4*n>a;a++)s[a]=r[a%4][Math.floor(a/4)];return s},Aes.keyExpansion=function(e){for(var t=4,n=e.length/4,i=n+6,r=Array(t*(i+1)),a=Array(4),o=0;n>o;o++){var s=[e[4*o],e[4*o+1],e[4*o+2],e[4*o+3]];r[o]=s}for(var o=n;t*(i+1)>o;o++){r[o]=Array(4);for(var l=0;4>l;l++)a[l]=r[o-1][l];if(0==o%n){a=Aes.subWord(Aes.rotWord(a));for(var l=0;4>l;l++)a[l]^=Aes.rCon[o/n][l]}else n>6&&4==o%n&&(a=Aes.subWord(a));for(var l=0;4>l;l++)r[o][l]=r[o-n][l]^a[l]}return r},Aes.subBytes=function(e,t){for(var n=0;4>n;n++)for(var i=0;t>i;i++)e[n][i]=Aes.sBox[e[n][i]];return e},Aes.shiftRows=function(e,t){for(var n=Array(4),i=1;4>i;i++){for(var r=0;4>r;r++)n[r]=e[i][(r+i)%t];for(var r=0;4>r;r++)e[i][r]=n[r]}return e},Aes.mixColumns=function(e){for(var t=0;4>t;t++){for(var n=Array(4),i=Array(4),r=0;4>r;r++)n[r]=e[r][t],i[r]=128&e[r][t]?283^e[r][t]<<1:e[r][t]<<1;e[0][t]=i[0]^n[1]^i[1]^n[2]^n[3],e[1][t]=n[0]^i[1]^n[2]^i[2]^n[3],e[2][t]=n[0]^n[1]^i[2]^n[3]^i[3],e[3][t]=n[0]^i[0]^n[1]^n[2]^i[3]}return e},Aes.addRoundKey=function(e,t,n,i){for(var r=0;4>r;r++)for(var a=0;i>a;a++)e[r][a]^=t[4*n+a][r];return e},Aes.subWord=function(e){for(var t=0;4>t;t++)e[t]=Aes.sBox[e[t]];return e},Aes.rotWord=function(e){for(var t=e[0],n=0;3>n;n++)e[n]=e[n+1];return e[3]=t,e},Aes.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Aes.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Aes.Ctr={},Aes.Ctr.encrypt=function(e,t,n){var i=16;if(128!=n&&192!=n&&256!=n)return"";e=Utf8.encode(e),t=Utf8.encode(t);for(var r=n/8,a=Array(r),o=0;r>o;o++)a[o]=isNaN(t.charCodeAt(o))?0:t.charCodeAt(o);var s=Aes.cipher(a,Aes.keyExpansion(a));s=s.concat(s.slice(0,r-16));for(var l=Array(i),u=(new Date).getTime(),c=u%1e3,d=Math.floor(u/1e3),p=Math.floor(65535*Math.random()),o=0;2>o;o++)l[o]=255&c>>>8*o;for(var o=0;2>o;o++)l[o+2]=255&p>>>8*o;for(var o=0;4>o;o++)l[o+4]=255&d>>>8*o;for(var h="",o=0;8>o;o++)h+=String.fromCharCode(l[o]);for(var f=Aes.keyExpansion(s),m=Math.ceil(e.length/i),g=Array(m),v=0;m>v;v++){for(var y=0;4>y;y++)l[15-y]=255&v>>>8*y;for(var y=0;4>y;y++)l[15-y-4]=v/4294967296>>>8*y;for(var M=Aes.cipher(l,f),b=m-1>v?i:(e.length-1)%i+1,w=Array(b),o=0;b>o;o++)w[o]=M[o]^e.charCodeAt(v*i+o),w[o]=String.fromCharCode(w[o]);g[v]=w.join("")}var x=h+g.join("");return x=Base64.encode(x)},Aes.Ctr.decrypt=function(e,t,n){var i=16;if(128!=n&&192!=n&&256!=n)return"";e=Base64.decode(e),t=Utf8.encode(t);for(var r=n/8,a=Array(r),o=0;r>o;o++)a[o]=isNaN(t.charCodeAt(o))?0:t.charCodeAt(o);var s=Aes.cipher(a,Aes.keyExpansion(a));s=s.concat(s.slice(0,r-16));var l=Array(8);ctrTxt=e.slice(0,8);for(var o=0;8>o;o++)l[o]=ctrTxt.charCodeAt(o);for(var u=Aes.keyExpansion(s),c=Math.ceil((e.length-8)/i),d=Array(c),p=0;c>p;p++)d[p]=e.slice(8+p*i,8+p*i+i);e=d;for(var h=Array(e.length),p=0;c>p;p++){for(var f=0;4>f;f++)l[15-f]=255&p>>>8*f;for(var f=0;4>f;f++)l[15-f-4]=255&(p+1)/4294967296-1>>>8*f;for(var m=Aes.cipher(l,u),g=Array(e[p].length),o=0;e[p].length>o;o++)g[o]=m[o]^e[p].charCodeAt(o),g[o]=String.fromCharCode(g[o]);h[p]=g.join("")}var v=h.join("");return v=Utf8.decode(v)};var Base64={};Base64.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64.encode=function(e,t){t=t===void 0?!1:t;var n,i,r,a,o,s,l,u,c,d,p,h=[],f="",m=Base64.code;if(d=t?e.encodeUTF8():e,c=d.length%3,c>0)for(;3>c++;)f+="=",d+="\0";for(c=0;d.length>c;c+=3)n=d.charCodeAt(c),i=d.charCodeAt(c+1),r=d.charCodeAt(c+2),a=n<<16|i<<8|r,o=63&a>>18,s=63&a>>12,l=63&a>>6,u=63&a,h[c/3]=m.charAt(o)+m.charAt(s)+m.charAt(l)+m.charAt(u);return p=h.join(""),p=p.slice(0,p.length-f.length)+f},Base64.decode=function(e,t){t=t===void 0?!1:t;var n,i,r,a,o,s,l,u,c,d,p=[],h=Base64.code;d=t?e.decodeUTF8():e;for(var f=0;d.length>f;f+=4)a=h.indexOf(d.charAt(f)),o=h.indexOf(d.charAt(f+1)),s=h.indexOf(d.charAt(f+2)),l=h.indexOf(d.charAt(f+3)),u=a<<18|o<<12|s<<6|l,n=255&u>>>16,i=255&u>>>8,r=255&u,p[f/4]=String.fromCharCode(n,i,r),64==l&&(p[f/4]=String.fromCharCode(n,i)),64==s&&(p[f/4]=String.fromCharCode(n));return c=p.join(""),t?c.decodeUTF8():c};var Utf8={};Utf8.encode=function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)});return t=t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|63&t>>6,128|63&t)})},Utf8.decode=function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)});return t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)})},!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,a;this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,"manual"!=this.options.trigger&&(r="hover"==this.options.trigger?"mouseenter":"focus",a="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(r,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n.options.delay&&n.options.delay.show?(n.hoverState="in",setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n.options.delay&&n.options.delay.hide?(n.hoverState="out",setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},show:function(){var e,t,n,i,r,a,o;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(a),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),i=e[0].offsetWidth,r=e[0].offsetHeight,t?a.split(" ")[1]:a){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":o={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width}}e.css(o).addClass(a).addClass("in")}},setContent:function(){var e=this.tip();e.find(".tooltip-inner").html(this.getTitle()),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var n=this.tip();n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title),e=(""+e).replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),a="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),VMM!==void 0&&VMM.StoryJS===void 0&&(VMM.StoryJS=function(){this.init=function(){}}),VMM!==void 0&&VMM.Timeline===void 0&&(VMM.Timeline=function(e,t,n){function i(e){"object"==typeof embed_config&&(timeline_config=embed_config),"object"==typeof timeline_config?(trace("HAS TIMELINE CONFIG"),I=VMM.Util.mergeConfig(I,timeline_config)):"object"==typeof e&&(I=VMM.Util.mergeConfig(I,e)),("mobile"==VMM.Browser.device||"tablet"==VMM.Browser.device)&&(I.touch=!0),I.nav.width=I.width,I.nav.height=200,I.feature.width=I.width,I.feature.height=I.height-I.nav.height,I.nav.zoom.adjust=parseInt(I.start_zoom_adjust,10),VMM.Timeline.Config=I,VMM.master_config.Timeline=VMM.Timeline.Config,this.events=I.events,""!=I.gmap_key&&(I.api_keys.google=I.gmap_key)}function r(){V=VMM.getElement(D),VMM.Lib.addClass(V,"vco-timeline"),VMM.Lib.addClass(V,"vco-storyjs"),E=VMM.appendAndGetElement(V,"<div>","vco-container vco-main"),T=VMM.appendAndGetElement(E,"<div>","vco-feature"),A=VMM.appendAndGetElement(T,"<div>","vco-slider"),S=VMM.appendAndGetElement(E,"<div>","vco-navigation"),k=VMM.appendAndGetElement(V,"<div>","vco-feedback",""),I.touch?VMM.Lib.addClass(V,"vco-touch"):VMM.Lib.addClass(V,"vco-notouch"),I.language.right_to_left!==void 0&&VMM.Lib.addClass(V,"vco-right-to-left"),L=new VMM.Slider(A,I),C=new VMM.Timeline.TimeNav(S),P?VMM.Lib.width(V,I.width):I.width=VMM.Lib.width(V),F?VMM.Lib.height(V,I.height):I.height=VMM.Lib.height(V)}function a(e,t){trace("onDataReady"),trace(t),N=t.timeline,"array"!=type.of(N.era)&&(N.era=[]),_()}function o(){w()}function s(){x(),L.setSize(I.feature.width,I.feature.height),C.setSize(I.width,I.height),v()&&m()}function l(){I.loaded.slider=!0,u()}function u(){I.loaded.percentloaded=I.loaded.percentloaded+25,I.loaded.slider&&I.loaded.timenav&&M()}function c(){I.loaded.timenav=!0,u()}function d(){$=!0,I.current_slide=L.getCurrentNumber(),f(I.current_slide),C.setMarker(I.current_slide,I.ease,I.duration)}function p(){$=!0,I.current_slide=C.getCurrentNumber(),f(I.current_slide),L.setSlide(I.current_slide)}function h(e){O.length-1>=e&&e>=0&&(I.current_slide=e,L.setSlide(I.current_slide),C.setMarker(I.current_slide,I.ease,I.duration))}function f(e){I.hash_bookmark&&(window.location.hash="#"+(""+e))}function m(){var e="",t=g(window.orientation);"mobile"==VMM.Browser.device?e="portrait"==t?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"landscape"==t?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"width=device-width, initial-scale=1, maximum-scale=1.0":"tablet"==VMM.Browser.device,document.getElementById("viewport")}function g(e){var t="";return t=0==e||180==e?"portrait":90==e||-90==e?"landscape":"normal"}function v(){var e=g(window.orientation);return e==I.orientation?!1:(I.orientation=e,!0)}function y(e,t){trace("showMessege "+t),VMM.attachElement(k,VMM.MediaElement.loadingmessage(t))}function M(){VMM.Lib.animate(k,I.duration,4*I.ease,{opacity:0},b)}function b(){VMM.Lib.detach(k)}function w(){parseInt(I.start_at_slide)>0&&0==I.current_slide&&(I.current_slide=parseInt(I.start_at_slide)),I.start_at_end&&0==I.current_slide&&(I.current_slide=O.length-1),R?(R=!0,VMM.fireEvent(global,I.events.messege,"Internet Explorer "+VMM.Browser.version+" is not supported by TimelineJS. Please update your browser to version 8 or higher.")):(b(),s(),VMM.bindEvent(A,l,"LOADED"),VMM.bindEvent(S,c,"LOADED"),VMM.bindEvent(A,d,"UPDATE"),VMM.bindEvent(S,p,"UPDATE"),L.init(O),C.init(O,N.era),VMM.bindEvent(global,s,I.events.resize))}function x(){trace("UPDATE SIZE"),I.width=VMM.Lib.width(V),I.height=VMM.Lib.height(V),I.nav.width=I.width,I.feature.width=I.width,"mobile"==VMM.Browser.device,I.feature.height=I.height-I.nav.height-3}function _(){O=[],VMM.fireEvent(global,I.events.messege,"Building Dates"),x();for(var e=0;N.date.length>e;e++)if(null!=N.date[e].startDate&&""!=N.date[e].startDate){var t={};t.startdate="tweets"==N.date[e].type?VMM.ExternalAPI.twitter.parseTwitterDate(N.date[e].startDate):VMM.Date.parse(N.date[e].startDate),isNaN(t.startdate)||(t.enddate=null!=N.date[e].endDate&&""!=N.date[e].endDate?"tweets"==N.date[e].type?VMM.ExternalAPI.twitter.parseTwitterDate(N.date[e].endDate):VMM.Date.parse(N.date[e].endDate):t.startdate,t.needs_slug=!1,""==N.date[e].headline&&null!=N.date[e].slug&&""!=N.date[e].slug&&(t.needs_slug=!0),t.title=N.date[e].headline,t.headline=N.date[e].headline,t.type=N.date[e].type,t.date=VMM.Date.prettyDate(t.startdate),t.asset=N.date[e].asset,t.fulldate=t.startdate.getTime(),t.text=N.date[e].text,t.content="",t.tag=N.date[e].tag,t.slug=N.date[e].slug,t.uniqueid=VMM.Util.unique_ID(7),O.push(t))}if("storify"!=N.type&&O.sort(function(e,t){return e.fulldate-t.fulldate}),null!=N.headline&&""!=N.headline&&null!=N.text&&""!=N.text){var n,i,t={};n=N.startDate!==void 0?VMM.Date.parse(N.startDate):!1,trace("HAS STARTPAGE"),trace(n),n&&O[0].startdate>n?t.startdate=new Date(n):(i=O[0].startdate,t.startdate=new Date(O[0].startdate),0===i.getMonth()&&1==i.getDate()&&0===i.getHours()&&0===i.getMinutes()?t.startdate.setFullYear(i.getFullYear()-1):1>=i.getDate()&&0===i.getHours()&&0===i.getMinutes()?t.startdate.setMonth(i.getMonth()-1):0===i.getHours()&&0===i.getMinutes()?t.startdate.setDate(i.getDate()-1):0===i.getMinutes()?t.startdate.setHours(i.getHours()-1):t.startdate.setMinutes(i.getMinutes()-1)),t.uniqueid=VMM.Util.unique_ID(7),t.enddate=t.startdate,t.title=N.headline,t.headline=N.headline,t.text=N.text,t.type="start",t.date=VMM.Date.prettyDate(N.startDate),t.asset=N.asset,t.slug=!1,t.needs_slug=!1,t.fulldate=t.startdate.getTime(),I.embed&&VMM.fireEvent(global,I.events.headline,t.headline),O.unshift(t)}"storify"!=N.type&&O.sort(function(e,t){return e.fulldate-t.fulldate}),o()}var V,E,T,k,A,S,L,C,j="2.x",D="#timelinejs",N={},O=[],I={},P=!1,F=!1,R=!1,$=!1;if(D="string"==type.of(e)?e.match("#")?e:"#"+e:"#timelinejs",trace("VERSION "+j),I={embed:!1,events:{data_ready:"DATAREADY",messege:"MESSEGE",headline:"HEADLINE",slide_change:"SLIDE_CHANGE",resize:"resize"},id:D,source:"nothing",type:"timeline",touch:!1,orientation:"normal",maptype:"toner",preload:4,current_slide:0,hash_bookmark:!1,start_at_end:!1,start_at_slide:0,start_zoom_adjust:0,start_page:!1,api_keys:{google:"",flickr:"",twitter:""},interval:10,something:0,width:960,height:540,spacing:15,loaded:{slider:!1,timenav:!1,percentloaded:0},nav:{start_page:!1,interval_width:200,density:4,minor_width:0,minor_left:0,constraint:{left:0,right:0,right_min:0,right_max:0},zoom:{adjust:0},multiplier:{current:6,min:.1,max:50},rows:[1,1,1],width:960,height:200,marker:{width:150,height:50}},feature:{width:960,height:540},slider:{width:720,height:400,content:{width:720,height:400,padding:130},nav:{width:100,height:200}},ease:"easeInOutExpo",duration:1e3,gmap_key:"",language:VMM.Language},null!=t&&""!=t&&(I.width=t,P=!0),null!=n&&""!=n&&(I.height=n,F=!0),window.location.hash){var q=window.location.hash.substring(1);isNaN(q)||(I.current_slide=parseInt(q))}window.onhashchange=function(){var e=window.location.hash.substring(1);
I.hash_bookmark?$?h(parseInt(e)):$=!1:h(parseInt(e))},this.init=function(e,t){trace("INIT"),m(),i(e),r(),"string"==type.of(t)&&(I.source=t),VMM.Date.setLanguage(I.language),VMM.master_config.language=I.language,VMM.ExternalAPI.setKeys(I.api_keys),VMM.ExternalAPI.googlemaps.setMapType(I.maptype),VMM.bindEvent(global,a,I.events.data_ready),VMM.bindEvent(global,y,I.events.messege),VMM.fireEvent(global,I.events.messege,I.language.messages.loading_timeline),("Explorer"==VMM.Browser.browser||"MSIE"==VMM.Browser.browser)&&7>=parseInt(VMM.Browser.version,10)&&(R=!0),"string"==type.of(I.source)||"object"==type.of(I.source)?VMM.Timeline.DataObj.getData(I.source):VMM.Timeline.DataObj.getData(VMM.getElement(D))},this.iframeLoaded=function(){trace("iframeLoaded")},this.reload=function(e){trace("loadNewDates"+e),VMM.fireEvent(global,I.events.messege,I.language.messages.loading_timeline),N={},VMM.Timeline.DataObj.getData(e)}},VMM.Timeline.Config={}),VMM.Timeline!==void 0&&VMM.Timeline.TimeNav===void 0&&(VMM.Timeline.TimeNav=function(e,t,n){function r(e){S.nav.constraint.left=S.width/2,S.nav.constraint.right=S.nav.constraint.right_min-S.width/2,T.updateConstraint(S.nav.constraint),VMM.Lib.css(b,"left",Math.round(S.width/2)+2),VMM.Lib.css(w,"left",Math.round(S.width/2)-8),G(S.current_slide,S.ease,S.duration,!0,e)}function a(){VMM.fireEvent(C,"UPDATE")}function o(){T.cancelSlide(),S.nav.multiplier.current>S.nav.multiplier.min&&(S.nav.multiplier.current=1>=S.nav.multiplier.current?S.nav.multiplier.current-.25:S.nav.multiplier.current>5?S.nav.multiplier.current>16?Math.round(S.nav.multiplier.current-10):Math.round(S.nav.multiplier.current-4):Math.round(S.nav.multiplier.current-1),0>=S.nav.multiplier.current&&(S.nav.multiplier.current=S.nav.multiplier.min),W())}function s(){T.cancelSlide(),S.nav.multiplier.current<S.nav.multiplier.max&&(S.nav.multiplier.current=S.nav.multiplier.current>4?S.nav.multiplier.current>16?Math.round(S.nav.multiplier.current+10):Math.round(S.nav.multiplier.current+4):Math.round(S.nav.multiplier.current+1),S.nav.multiplier.current>=S.nav.multiplier.max&&(S.nav.multiplier.current=S.nav.multiplier.max),W())}function l(){T.cancelSlide(),G(0),a()}function u(e){var t=0,n=0;e||(e=window.event),e.originalEvent&&(e=e.originalEvent),e.wheelDelta?t=e.wheelDelta/6:e.detail&&(t=12*-e.detail),t&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.wheelDeltaX!==void 0&&(t=e.wheelDeltaY/6,t=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?e.wheelDeltaX/6:e.wheelDeltaY/6),n=VMM.Lib.position(p).left+t,n>S.nav.constraint.left?n=S.width/2:S.nav.constraint.right>n&&(n=S.nav.constraint.right),VMM.Lib.css(p,"left",n)}function c(e){T.cancelSlide(),G(e.data.number),a()}function d(e){VMM.Lib.toggleClass(e.data.elem,"zFront")}trace("VMM.Timeline.TimeNav");var p,h,f,m,g,v,y,M,b,w,x,_,V,E,T,k,A,S=VMM.Timeline.Config,L={},C=e,j=[],D=[],N=[],O=[],I=[],P=[],F=0,R=!1,$={left:"",visible:{left:"",right:""}},q={day:24,month:12,year:10,hour:60,minute:60,second:1e3,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8,week:4.34812141,days_in_month:30.4368499,days_in_week:7,weeks_in_month:4.34812141,weeks_in_year:52.177457,days_in_year:365.242199,hours_in_day:24},H={day:864e5,week:7,month:30.4166666667,year:12,hour:24,minute:1440,second:86400,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8},B={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_idd",interval_type:"interval"},U={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"major",interval_type:"interval major"},z={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_dd_minor",interval_type:"interval minor"},Q={day:{},month:{},year:{},hour:{},minute:{},second:{},decade:{},century:{},millenium:{},week:{},age:{},epoch:{},era:{},eon:{}};k=S.nav.marker.height/2,S.nav.rows={full:[1,2*k,4*k],half:[1,k,2*k,3*k,4*k,5*k],current:[]},null!=t&&""!=t&&(S.nav.width=t),null!=n&&""!=n&&(S.nav.height=n),this.init=function(e,t){trace("VMM.Timeline.TimeNav init"),e!==void 0?this.setData(e,t):trace("WAITING ON DATA")},this.setData=function(e,t){e!==void 0?(j={},j=e,A=t,at()):trace("NO DATA")},this.setSize=function(e,t){null!=e&&(S.width=e),null!=t&&(S.height=t),R&&r()},this.setMarker=function(e,t,n){G(e,t,n)},this.getCurrentNumber=function(){return F};var W=function(){trace("config.nav.multiplier "+S.nav.multiplier.current),tt(!0),nt(!0),it(g,O,!0,!0),it(v,I,!0),S.nav.constraint.left=S.width/2,S.nav.constraint.right=S.nav.constraint.right_min-S.width/2,T.updateConstraint(S.nav.constraint)},G=function(e,t,n){trace("GO TO MARKER");var i=S.ease,r=S.duration,a=!1,o=!1;F=e,$.left=S.width/2-N[F].pos_left,$.visible.left=Math.abs($.left)-100,$.visible.right=Math.abs($.left)+S.width+100,0==F&&(o=!0),F+1==N.length&&(a=!0),null!=t&&""!=t&&(i=t),null!=n&&""!=n&&(r=n);for(var s=0;N.length>s;s++)VMM.Lib.removeClass(N[s].marker,"active");S.start_page&&"start"==N[0].type&&(VMM.Lib.visible(N[0].marker,!1),VMM.Lib.addClass(N[0].marker,"start")),VMM.Lib.addClass(N[F].marker,"active"),VMM.Lib.stop(p),VMM.Lib.animate(p,r,i,{left:$.left})},J=function(){var e=0,t=0,n=0,i=[],r=0;for(r=0;N.length>r;r++)if("start"!=j[r].type){var a=et(B,N[r].relative_pos),e=t;t=a.begin,n=t-e,i.push(n)}return VMM.Util.average(i).mean},Y=function(){var e=S.nav.multiplier.current,t=0;for(t=0;e>t;t++)75>J()&&S.nav.multiplier.current>1&&(S.nav.multiplier.current=S.nav.multiplier.current-1)},X=function(){var e=Z(j[0].startdate),t=Z(j[j.length-1].enddate);Q.eon.type="eon",Q.eon.first=e.eons,Q.eon.base=Math.floor(e.eons),Q.eon.last=t.eons,Q.eon.number=L.eons,Q.eon.multiplier=q.eons,Q.eon.minor=q.eons,Q.era.type="era",Q.era.first=e.eras,Q.era.base=Math.floor(e.eras),Q.era.last=t.eras,Q.era.number=L.eras,Q.era.multiplier=q.eras,Q.era.minor=q.eras,Q.epoch.type="epoch",Q.epoch.first=e.epochs,Q.epoch.base=Math.floor(e.epochs),Q.epoch.last=t.epochs,Q.epoch.number=L.epochs,Q.epoch.multiplier=q.epochs,Q.epoch.minor=q.epochs,Q.age.type="age",Q.age.first=e.ages,Q.age.base=Math.floor(e.ages),Q.age.last=t.ages,Q.age.number=L.ages,Q.age.multiplier=q.ages,Q.age.minor=q.ages,Q.millenium.type="millenium",Q.millenium.first=e.milleniums,Q.millenium.base=Math.floor(e.milleniums),Q.millenium.last=t.milleniums,Q.millenium.number=L.milleniums,Q.millenium.multiplier=q.millenium,Q.millenium.minor=q.millenium,Q.century.type="century",Q.century.first=e.centuries,Q.century.base=Math.floor(e.centuries),Q.century.last=t.centuries,Q.century.number=L.centuries,Q.century.multiplier=q.century,Q.century.minor=q.century,Q.decade.type="decade",Q.decade.first=e.decades,Q.decade.base=Math.floor(e.decades),Q.decade.last=t.decades,Q.decade.number=L.decades,Q.decade.multiplier=q.decade,Q.decade.minor=q.decade,Q.year.type="year",Q.year.first=e.years,Q.year.base=Math.floor(e.years),Q.year.last=t.years,Q.year.number=L.years,Q.year.multiplier=1,Q.year.minor=q.month,Q.month.type="month",Q.month.first=e.months,Q.month.base=Math.floor(e.months),Q.month.last=t.months,Q.month.number=L.months,Q.month.multiplier=1,Q.month.minor=Math.round(q.week),Q.week.type="week",Q.week.first=e.weeks,Q.week.base=Math.floor(e.weeks),Q.week.last=t.weeks,Q.week.number=L.weeks,Q.week.multiplier=1,Q.week.minor=7,Q.day.type="day",Q.day.first=e.days,Q.day.base=Math.floor(e.days),Q.day.last=t.days,Q.day.number=L.days,Q.day.multiplier=1,Q.day.minor=24,Q.hour.type="hour",Q.hour.first=e.hours,Q.hour.base=Math.floor(e.hours),Q.hour.last=t.hours,Q.hour.number=L.hours,Q.hour.multiplier=1,Q.hour.minor=60,Q.minute.type="minute",Q.minute.first=e.minutes,Q.minute.base=Math.floor(e.minutes),Q.minute.last=t.minutes,Q.minute.number=L.minutes,Q.minute.multiplier=1,Q.minute.minor=60,Q.second.type="decade",Q.second.first=e.seconds,Q.second.base=Math.floor(e.seconds),Q.second.last=t.seconds,Q.second.number=L.seconds,Q.second.multiplier=1,Q.second.minor=10},Z=function(e){var t={};return t.days=e/H.day,t.weeks=t.days/H.week,t.months=t.days/H.month,t.years=t.months/H.year,t.hours=t.days*H.hour,t.minutes=t.days*H.minute,t.seconds=t.days*H.second,t.decades=t.years/H.decade,t.centuries=t.years/H.century,t.milleniums=t.years/H.millenium,t.ages=t.years/H.age,t.epochs=t.years/H.epoch,t.eras=t.years/H.era,t.eons=t.years/H.eon,t},K=function(e,t,n){var i,r,a=e.type,o={start:"",end:"",type:a};return i=Z(t),o.start=t.months,"eon"==a?o.start=i.eons:"era"==a?o.start=i.eras:"epoch"==a?o.start=i.epochs:"age"==a?o.start=i.ages:"millenium"==a?o.start=t.milleniums:"century"==a?o.start=i.centuries:"decade"==a?o.start=i.decades:"year"==a?o.start=i.years:"month"==a?o.start=i.months:"week"==a?o.start=i.weeks:"day"==a?o.start=i.days:"hour"==a?o.start=i.hours:"minute"==a&&(o.start=i.minutes),"date"==type.of(n)?(r=Z(n),o.end=n.months,"eon"==a?o.end=r.eons:"era"==a?o.end=r.eras:"epoch"==a?o.end=r.epochs:"age"==a?o.end=r.ages:"millenium"==a?o.end=n.milleniums:"century"==a?o.end=r.centuries:"decade"==a?o.end=r.decades:"year"==a?o.end=r.years:"month"==a?o.end=r.months:"week"==a?o.end=r.weeks:"day"==a?o.end=r.days:"hour"==a?o.end=r.hours:"minute"==a&&(o.end=r.minutes)):o.end=o.start,o},et=function(e,t){return{begin:(t.start-B.base)*(S.nav.interval_width/S.nav.multiplier.current),end:(t.end-B.base)*(S.nav.interval_width/S.nav.multiplier.current)}},tt=function(e){var t=2,n=0,i=-2,r=0,a=150,o=6,s=0,l=S.width,u=[],c=6,d={left:$.visible.left-l,right:$.visible.right+l},h=0,f=0;for(S.nav.minor_width=S.width,VMM.Lib.removeClass(".flag","row1"),VMM.Lib.removeClass(".flag","row2"),VMM.Lib.removeClass(".flag","row3"),h=0;N.length>h;h++){var m,g=N[h],v=et(B,N[h].relative_pos),y=0,M=!1,b={id:h,pos:0,row:0};if(v.begin=Math.round(v.begin+i),v.end=Math.round(v.end+i),m=Math.round(v.end-v.begin),g.pos_left=v.begin,F==h&&($.left=S.width/2-v,$.visible.left=Math.abs($.left),$.visible.right=Math.abs($.left)+S.width,d.left=$.visible.left-l,d.right=$.visible.right+l),Math.abs(v.begin)>=d.left&&Math.abs(v.begin)<=d.right&&(M=!0),e?(VMM.Lib.stop(g.marker),VMM.Lib.animate(g.marker,S.duration/2,S.ease,{left:v.begin})):(VMM.Lib.stop(g.marker),VMM.Lib.css(g.marker,"left",v.begin)),h==F&&(s=v.begin),m>5&&(VMM.Lib.css(g.lineevent,"height",o),VMM.Lib.css(g.lineevent,"top",a),e?VMM.Lib.animate(g.lineevent,S.duration/2,S.ease,{width:m}):VMM.Lib.css(g.lineevent,"width",m)),P.length>0){for(f=0;P.length>f;f++)S.nav.rows.current.length>f&&g.tag==P[f]&&(t=f,f==S.nav.rows.current.length-1&&(trace("ON LAST ROW"),VMM.Lib.addClass(g.flag,"flag-small-last")));y=S.nav.rows.current[t]}else v.begin-n.begin<S.nav.marker.width+S.spacing?S.nav.rows.current.length-1>t?t++:(t=0,r++):(r=1,t=1),y=S.nav.rows.current[t];n=v,b.pos=v,b.row=t,u.push(b),u.length>c&&u.remove(0),e?(VMM.Lib.stop(g.flag),VMM.Lib.animate(g.flag,S.duration,S.ease,{top:y})):(VMM.Lib.stop(g.flag),VMM.Lib.css(g.flag,"top",y)),S.start_page&&"start"==N[h].type&&VMM.Lib.visible(g.marker,!1),v>S.nav.minor_width&&(S.nav.minor_width=v),S.nav.minor_left>v&&(S.nav.minor_left=v)}e&&(VMM.Lib.stop(p),VMM.Lib.animate(p,S.duration/2,S.ease,{left:S.width/2-s}))},nt=function(e){var t=0,n=0;for(t=0;D.length>t;t++){var i=D[t],r=et(B,i.relative_pos),a=0,o=S.nav.marker.height*S.nav.rows.full.length,s=r.end-r.begin;if(""!=i.tag){for(o=S.nav.marker.height*S.nav.rows.full.length/S.nav.rows.current.length,n=0;P.length>n;n++)S.nav.rows.current.length>n&&i.tag==P[n]&&(row=n);a=S.nav.rows.current[row]}else a=-1;e?(VMM.Lib.stop(i.content),VMM.Lib.stop(i.text_content),VMM.Lib.animate(i.content,S.duration/2,S.ease,{top:a,left:r.begin,width:s,height:o}),VMM.Lib.animate(i.text_content,S.duration/2,S.ease,{left:r.begin})):(VMM.Lib.stop(i.content),VMM.Lib.stop(i.text_content),VMM.Lib.css(i.content,"left",r.begin),VMM.Lib.css(i.content,"width",s),VMM.Lib.css(i.content,"height",o),VMM.Lib.css(i.content,"top",a),VMM.Lib.css(i.text_content,"left",r.begin))}},it=function(e,t,n,r){var a=0,o=S.width,s={left:$.visible.left-o,right:$.visible.right+o};for(not_too_many=!0,i=0,S.nav.minor_left=0,t.length>100&&(not_too_many=!1,trace("TOO MANY "+t.length)),i=0;t.length>i;i++){var l=t[i].element,u=(t[i].date,t[i].visible),c=et(B,t[i].relative_pos),d=c.begin,p=t[i].animation,h=!0,f=!1;p.pos=d,p.animate=!1,Math.abs(d)>=s.left&&Math.abs(d)<=s.right&&(f=!0),S.nav.multiplier.current>16&&r?h=!1:65>d-a&&(35>d-a?0==i%4?0==d&&(h=!1):h=!1:VMM.Util.isEven(i)||(h=!1)),h?t[i].is_detached&&(VMM.Lib.append(e,l),t[i].is_detached=!1):(t[i].is_detached=!0,VMM.Lib.detach(l)),u?h?(p.opacity="100",n&&f&&(p.animate=!0)):(p.opacity="0",n&&not_too_many&&(p.animate=!0),t[i].interval_visible=!1):(p.opacity="100",h?(n&&not_too_many?p.animate=!0:n&&f&&(p.animate=!0),t[i].interval_visible=!0):n&&not_too_many&&(p.animate=!0)),a=d,d>S.nav.minor_width&&(S.nav.minor_width=d),S.nav.minor_left>d&&(S.nav.minor_left=d),p.animate?VMM.Lib.animate(l,S.duration/2,S.ease,{opacity:p.opacity,left:p.pos}):(VMM.Lib.css(l,"opacity",p.opacity),VMM.Lib.css(l,"left",d))}S.nav.constraint.right_min=-S.nav.minor_width+S.width,S.nav.constraint.right=S.nav.constraint.right_min+S.width/2,VMM.Lib.css(x,"left",S.nav.minor_left-S.width/2),VMM.Lib.width(x,S.nav.minor_width+S.width+Math.abs(S.nav.minor_left))},rt=function(e,t,n){var i,r,a=0,o=!0,s=0,l=0,u=Math.ceil(e.number)+2,c={flag:!1,offset:0},d=0;for(VMM.attachElement(n,""),e.date=new Date(j[0].startdate.getFullYear(),0,1,0,0,0),i=e.date.getTimezoneOffset(),d=0;u>d;d++){trace(e.type);var p=!1,h={element:VMM.appendAndGetElement(n,"<div>",e.classname),date:new Date(j[0].startdate.getFullYear(),0,1,0,0,0),visible:!1,date_string:"",type:e.interval_type,relative_pos:0,is_detached:!1,animation:{animate:!1,pos:"",opacity:"100"}};"eon"==e.type?(o&&(r=5e8*Math.floor(j[0].startdate.getFullYear()/5e8)),h.date.setFullYear(r+5e8*a),p=!0):"era"==e.type?(o&&(r=1e8*Math.floor(j[0].startdate.getFullYear()/1e8)),h.date.setFullYear(r+1e8*a),p=!0):"epoch"==e.type?(o&&(r=1e7*Math.floor(j[0].startdate.getFullYear()/1e7)),h.date.setFullYear(r+1e7*a),p=!0):"age"==e.type?(o&&(r=1e6*Math.floor(j[0].startdate.getFullYear()/1e6)),h.date.setFullYear(r+1e6*a),p=!0):"millenium"==e.type?(o&&(r=1e3*Math.floor(j[0].startdate.getFullYear()/1e3)),h.date.setFullYear(r+1e3*a),p=!0):"century"==e.type?(o&&(r=100*Math.floor(j[0].startdate.getFullYear()/100)),h.date.setFullYear(r+100*a),p=!0):"decade"==e.type?(o&&(r=10*Math.floor(j[0].startdate.getFullYear()/10)),h.date.setFullYear(r+10*a),p=!0):"year"==e.type?(o&&(r=j[0].startdate.getFullYear()),h.date.setFullYear(r+a),p=!0):"month"==e.type?(o&&(r=j[0].startdate.getMonth()),h.date.setMonth(r+a)):"week"==e.type?(o&&(r=j[0].startdate.getMonth()),h.date.setMonth(j[0].startdate.getMonth()),h.date.setDate(r+7*a)):"day"==e.type?(o&&(r=j[0].startdate.getDate()),h.date.setMonth(j[0].startdate.getMonth()),h.date.setDate(r+a)):"hour"==e.type?(o&&(r=j[0].startdate.getHours()),h.date.setMonth(j[0].startdate.getMonth()),h.date.setDate(j[0].startdate.getDate()),h.date.setHours(r+a)):"minute"==e.type?(o&&(r=j[0].startdate.getMinutes()),h.date.setMonth(j[0].startdate.getMonth()),h.date.setDate(j[0].startdate.getDate()),h.date.setHours(j[0].startdate.getHours()),h.date.setMinutes(r+a)):"second"==e.type?(o&&(r=j[0].startdate.getSeconds()),h.date.setMonth(j[0].startdate.getMonth()),h.date.setDate(j[0].startdate.getDate()),h.date.setHours(j[0].startdate.getHours()),h.date.setMinutes(j[0].startdate.getMinutes()),h.date.setSeconds(r+a)):"millisecond"==e.type&&(o&&(r=j[0].startdate.getMilliseconds()),h.date.setMonth(j[0].startdate.getMonth()),h.date.setDate(j[0].startdate.getDate()),h.date.setHours(j[0].startdate.getHours()),h.date.setMinutes(j[0].startdate.getMinutes()),h.date.setSeconds(j[0].startdate.getSeconds()),h.date.setMilliseconds(r+a)),"Firefox"==VMM.Browser.browser&&("1970"==h.date.getFullYear()&&h.date.getTimezoneOffset()!=i?(trace("FIREFOX 1970 TIMEZONE OFFSET "+h.date.getTimezoneOffset()+" SHOULD BE "+i),trace(e.type+" "+e.date),c.offset=h.date.getTimezoneOffset()/60,c.flag=!0,h.date.setHours(h.date.getHours()+c.offset)):c.flag&&(c.flag=!1,h.date.setHours(h.date.getHours()+c.offset),p&&(c.flag=!0))),h.date_string=p?0>h.date.getFullYear()?""+Math.abs(h.date.getFullYear())+" B.C.":h.date.getFullYear():VMM.Date.prettyDate(h.date,!0),a+=1,o=!1,h.relative_pos=K(B,h.date),s=h.relative_pos.begin,h.relative_pos.begin>l&&(l=h.relative_pos.begin),VMM.appendElement(h.element,h.date_string),VMM.Lib.css(h.element,"text-indent",-(VMM.Lib.width(h.element)/2)),VMM.Lib.css(h.element,"opacity","0"),t.push(h)}VMM.Lib.width(x,l),it(n,t)},at=function(){var e=0,t=0;if(VMM.attachElement(C,""),p=VMM.appendAndGetElement(C,"<div>","timenav"),h=VMM.appendAndGetElement(p,"<div>","content"),f=VMM.appendAndGetElement(p,"<div>","time"),m=VMM.appendAndGetElement(f,"<div>","time-interval-minor"),x=VMM.appendAndGetElement(m,"<div>","minor"),v=VMM.appendAndGetElement(f,"<div>","time-interval-major"),g=VMM.appendAndGetElement(f,"<div>","time-interval"),y=VMM.appendAndGetElement(C,"<div>","timenav-background"),b=VMM.appendAndGetElement(y,"<div>","timenav-line"),w=VMM.appendAndGetElement(y,"<div>","timenav-indicator"),M=VMM.appendAndGetElement(y,"<div>","timenav-interval-background","<div class='top-highlight'></div>"),_=VMM.appendAndGetElement(C,"<div>","toolbar"),ot(),st(),lt(),Y(),tt(!1),nt(),it(g,O,!1,!0),it(v,I),S.start_page&&($backhome=VMM.appendAndGetElement(_,"<div>","back-home","<div class='icon'></div>"),VMM.bindEvent(".back-home",l,"click"),VMM.Lib.css(_,"top",27),VMM.Lib.attribute($backhome,"title",VMM.master_config.language.messages.return_to_title),VMM.Lib.attribute($backhome,"rel","tooltip")),V=VMM.appendAndGetElement(_,"<div>","zoom-in","<div class='icon'></div>"),E=VMM.appendAndGetElement(_,"<div>","zoom-out","<div class='icon'></div>"),T=new VMM.DragSlider,T.createPanel(C,p,S.nav.constraint,S.touch),VMM.bindEvent(V,o,"click"),VMM.bindEvent(E,s,"click"),S.touch||(VMM.Lib.attribute(V,"title",VMM.master_config.language.messages.expand_timeline),VMM.Lib.attribute(V,"rel","tooltip"),VMM.Lib.attribute(E,"title",VMM.master_config.language.messages.contract_timeline),VMM.Lib.attribute(E,"rel","tooltip"),_.tooltip({selector:"div[rel=tooltip]",placement:"right"}),VMM.bindEvent(C,u,"DOMMouseScroll"),VMM.bindEvent(C,u,"mousewheel")),0!=S.nav.zoom.adjust)if(0>S.nav.zoom.adjust)for(e=0;Math.abs(S.nav.zoom.adjust)>e;e++)s();else for(t=0;S.nav.zoom.adjust>t;t++)o();R=!0,r(!0),VMM.fireEvent(C,"LOADED")},ot=function(){var e=0,t=0;for(L=Z(j[j.length-1].enddate-j[0].startdate,!0),trace(L),X(),L.centuries>j.length/S.nav.density?(B=Q.century,U=Q.millenium,z=Q.decade):L.decades>j.length/S.nav.density?(B=Q.decade,U=Q.century,z=Q.year):L.years>j.length/S.nav.density?(B=Q.year,U=Q.decade,z=Q.month):L.months>j.length/S.nav.density?(B=Q.month,U=Q.year,z=Q.day):L.days>j.length/S.nav.density?(B=Q.day,U=Q.month,z=Q.hour):L.hours>j.length/S.nav.density?(B=Q.hour,U=Q.day,z=Q.minute):L.minutes>j.length/S.nav.density?(B=Q.minute,U=Q.hour,z=Q.second):L.seconds>j.length/S.nav.density?(B=Q.second,U=Q.minute,z=Q.second):(trace("NO IDEA WHAT THE TYPE SHOULD BE"),B=Q.day,U=Q.month,z=Q.hour),trace("INTERVAL TYPE: "+B.type),trace("INTERVAL MAJOR TYPE: "+U.type),rt(B,O,g),rt(U,I,v),e=0;O.length>e;e++)for(t=0;I.length>t;t++)O[e].date_string==I[t].date_string&&VMM.attachElement(O[e].element,"")},st=function(){var e=0,t=0,n=0;for(N=[],D=[],e=0;j.length>e;e++){var i,r,a,o,s,l,u,p="",f=!1;if(i=VMM.appendAndGetElement(h,"<div>","marker"),r=VMM.appendAndGetElement(i,"<div>","flag"),a=VMM.appendAndGetElement(r,"<div>","flag-content"),o=VMM.appendAndGetElement(i,"<div>","dot"),s=VMM.appendAndGetElement(i,"<div>","line"),l=VMM.appendAndGetElement(s,"<div>","event-line"),_marker_relative_pos=K(B,j[e].startdate,j[e].enddate),_marker_thumb="",null!=j[e].asset&&""!=j[e].asset?VMM.appendElement(a,VMM.MediaElement.thumbnail(j[e].asset,24,24,j[e].uniqueid)):VMM.appendElement(a,"<div style='margin-right:7px;height:50px;width:2px;float:left;'></div>"),""==j[e].title||" "==j[e].title)if(trace("TITLE NOTHING"),j[e].slug!==void 0&&""!=j[e].slug)trace("SLUG"),p=VMM.Util.untagify(j[e].slug),f=!0;else{var m=VMM.MediaType(j[e].asset.media);"quote"==m.type||"unknown"==m.type?(p=VMM.Util.untagify(m.id),f=!0):f=!1}else""!=j[e].title||" "!=j[e].title?(trace(j[e].title),p=VMM.Util.untagify(j[e].title),f=!0):trace("TITLE SLUG NOT FOUND "+j[e].slug);f?VMM.appendElement(a,"<h3>"+p+"</h3>"):(VMM.appendElement(a,"<h3>"+p+"</h3>"),VMM.appendElement(a,"<h3 id='marker_content_"+j[e].uniqueid+"'>"+p+"</h3>")),VMM.Lib.attr(i,"id",""+("marker_"+j[e].uniqueid)),VMM.bindEvent(r,c,"",{number:e}),VMM.bindEvent(r,d,"mouseenter mouseleave",{number:e,elem:r}),u={marker:i,flag:r,lineevent:l,type:"marker",full:!0,relative_pos:_marker_relative_pos,tag:j[e].tag,pos_left:0},"start"==j[e].type&&(trace("BUILD MARKER HAS START PAGE"),S.start_page=!0,u.type="start"),"storify"==j[e].type&&(u.type="storify"),j[e].tag&&P.push(j[e].tag),N.push(u)}for(P=VMM.Util.deDupeArray(P),S.nav.rows.current=P.length>3?S.nav.rows.half:S.nav.rows.full,t=0;P.length>t;t++)if(S.nav.rows.current.length>t){var g=VMM.appendAndGetElement(y,"<div>","timenav-tag");VMM.Lib.addClass(g,"timenav-tag-row-"+(t+1)),P.length>3?VMM.Lib.addClass(g,"timenav-tag-size-half"):VMM.Lib.addClass(g,"timenav-tag-size-full"),VMM.appendElement(g,"<div><h3>"+P[t]+"</h3></div>")}if(P.length>3)for(n=0;N.length>n;n++)VMM.Lib.addClass(N[n].flag,"flag-small"),N[n].full=!1},lt=function(){var e=6,t=0,n=0;for(n=0;A.length>n;n++){var i={content:VMM.appendAndGetElement(h,"<div>","era"),text_content:VMM.appendAndGetElement(g,"<div>","era"),startdate:VMM.Date.parse(A[n].startDate),enddate:VMM.Date.parse(A[n].endDate),title:A[n].headline,uniqueid:VMM.Util.unique_ID(6),tag:"",relative_pos:""},r=(VMM.Date.prettyDate(i.startdate),VMM.Date.prettyDate(i.enddate),"<div>&nbsp;</div>");A[n].tag!==void 0&&(i.tag=A[n].tag),i.relative_pos=K(B,i.startdate,i.enddate),VMM.Lib.attr(i.content,"id",i.uniqueid),VMM.Lib.attr(i.text_content,"id",i.uniqueid+"_text"),VMM.Lib.addClass(i.content,"era"+(t+1)),VMM.Lib.addClass(i.text_content,"era"+(t+1)),e>t?t++:t=0,VMM.appendElement(i.content,r),VMM.appendElement(i.text_content,VMM.Util.unlinkify(i.title)),D.push(i)}}}),VMM.Timeline!==void 0&&VMM.Timeline.DataObj===void 0&&(VMM.Timeline.DataObj={data_obj:{},model_array:[],getData:function(e){VMM.Timeline.DataObj.data_obj={},VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Timeline.Config.language.messages.loading_timeline),"object"==type.of(e)?(trace("DATA SOURCE: JSON OBJECT"),VMM.Timeline.DataObj.parseJSON(e)):"string"==type.of(e)?e.match("%23")?(trace("DATA SOURCE: TWITTER SEARCH"),VMM.Timeline.DataObj.model.tweets.getData("%23medill")):e.match("spreadsheet")?(trace("DATA SOURCE: GOOGLE SPREADSHEET"),VMM.Timeline.DataObj.model.googlespreadsheet.getData(e)):e.match("storify.com")?(trace("DATA SOURCE: STORIFY"),VMM.Timeline.DataObj.model.storify.getData(e)):e.match(".jsonp")?(trace("DATA SOURCE: JSONP"),LoadLib.js(e,VMM.Timeline.DataObj.onJSONPLoaded)):(trace("DATA SOURCE: JSON"),VMM.getJSON(e+"?callback=onJSONP_Data",VMM.Timeline.DataObj.parseJSON)):"html"==type.of(e)?(trace("DATA SOURCE: HTML"),VMM.Timeline.DataObj.parseHTML(e)):trace("DATA SOURCE: UNKNOWN")},onJSONPLoaded:function(){trace("JSONP IS LOADED"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,storyjs_jsonp_data)},parseHTML:function(){trace("parseHTML"),trace("WARNING: THIS IS STILL ALPHA AND WILL NOT WORK WITH ID's other than #timeline");var e=VMM.Timeline.DataObj.data_template_obj;if(VMM.Lib.find("#timeline section","time")[0]){e.timeline.startDate=VMM.Lib.html(VMM.Lib.find("#timeline section","time")[0]),e.timeline.headline=VMM.Lib.html(VMM.Lib.find("#timeline section","h2")),e.timeline.text=VMM.Lib.html(VMM.Lib.find("#timeline section","article"));var t=!1;0!=VMM.Lib.find("#timeline section","figure img").length?(t=!0,e.timeline.asset.media=VMM.Lib.attr(VMM.Lib.find("#timeline section","figure img"),"src")):0!=VMM.Lib.find("#timeline section","figure a").length&&(t=!0,e.timeline.asset.media=VMM.Lib.attr(VMM.Lib.find("#timeline section","figure a"),"href")),t&&(0!=VMM.Lib.find("#timeline section","cite").length&&(e.timeline.asset.credit=VMM.Lib.html(VMM.Lib.find("#timeline section","cite"))),0!=VMM.Lib.find(this,"figcaption").length&&(e.timeline.asset.caption=VMM.Lib.html(VMM.Lib.find("#timeline section","figcaption"))))}VMM.Lib.each("#timeline li",function(){var t=!1,n={type:"default",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};if(0!=VMM.Lib.find(this,"time")){t=!0,n.startDate=VMM.Lib.html(VMM.Lib.find(this,"time")[0]),VMM.Lib.find(this,"time")[1]&&(n.endDate=VMM.Lib.html(VMM.Lib.find(this,"time")[1])),n.headline=VMM.Lib.html(VMM.Lib.find(this,"h3")),n.text=VMM.Lib.html(VMM.Lib.find(this,"article"));var i=!1;0!=VMM.Lib.find(this,"figure img").length?(i=!0,n.asset.media=VMM.Lib.attr(VMM.Lib.find(this,"figure img"),"src")):0!=VMM.Lib.find(this,"figure a").length&&(i=!0,n.asset.media=VMM.Lib.attr(VMM.Lib.find(this,"figure a"),"href")),i&&(0!=VMM.Lib.find(this,"cite").length&&(n.asset.credit=VMM.Lib.html(VMM.Lib.find(this,"cite"))),0!=VMM.Lib.find(this,"figcaption").length&&(n.asset.caption=VMM.Lib.html(VMM.Lib.find(this,"figcaption")))),trace(n),e.timeline.date.push(n)}}),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,e)},parseJSON:function(e){trace("parseJSON"),"default"==e.timeline.type?(trace("DATA SOURCE: JSON STANDARD TIMELINE"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,e)):"twitter"==e.timeline.type?(trace("DATA SOURCE: JSON TWEETS"),VMM.Timeline.DataObj.model_Tweets.buildData(e)):(trace("DATA SOURCE: UNKNOWN JSON"),trace(type.of(e.timeline)))},model:{googlespreadsheet:{getData:function(e){var t,n,i;t=VMM.Util.getUrlVars(e).key,n="https://spreadsheets.google.com/feeds/list/"+t+"/od6/public/values?alt=json",i=setTimeout(function(){trace("Google Docs timeout"),VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Google Docs is not responding")},6e3),VMM.getJSON(n,VMM.Timeline.DataObj.model.googlespreadsheet.buildData).error(function(e,t){trace("Google Docs ERROR"),trace("Google Docs ERROR: "+t+" "+e.responseText)}).success(function(){clearTimeout(i)})},buildData:function(e){function t(e){return e!==void 0?e.$t:""}var n=VMM.Timeline.DataObj.data_template_obj;VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Parsing Data");for(var i=0;e.feed.entry.length>i;i++){var r=e.feed.entry[i],a="";if(r.gsx$type!==void 0?a=r.gsx$type.$t:r.gsx$titleslide!==void 0&&(a=r.gsx$titleslide.$t),a.match("start")||a.match("title"))n.timeline.startDate=t(r.gsx$startdate),n.timeline.headline=t(r.gsx$headline),n.timeline.asset.media=t(r.gsx$media),n.timeline.asset.caption=t(r.gsx$mediacaption),n.timeline.asset.credit=t(r.gsx$mediacredit),n.timeline.text=t(r.gsx$text),n.timeline.type="google spreadsheet";else if(a.match("era")){var o={startDate:t(r.gsx$startdate),endDate:t(r.gsx$enddate),headline:t(r.gsx$headline),text:t(r.gsx$text),tag:t(r.gsx$tag)};n.timeline.era.push(o)}else{var s={type:"google spreadsheet",startDate:t(r.gsx$startdate),endDate:t(r.gsx$enddate),headline:t(r.gsx$headline),text:t(r.gsx$text),tag:t(r.gsx$tag),asset:{media:t(r.gsx$media),credit:t(r.gsx$mediacredit),caption:t(r.gsx$mediacaption),thumbnail:t(r.gsx$mediathumbnail)}};n.timeline.date.push(s)}}VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Finished Parsing Data"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,n)}},storify:{getData:function(e){var t,n,i;VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Loading Storify..."),t=e.split("storify.com/")[1],n="http://api.storify.com/v1/stories/"+t+"?per_page=300&callback=?",i=setTimeout(function(){trace("STORIFY timeout"),VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Storify is not responding")},6e3),VMM.getJSON(n,VMM.Timeline.DataObj.model.storify.buildData).error(function(e,t){trace("STORIFY error"),trace("STORIFY ERROR: "+t+" "+e.responseText)}).success(function(){clearTimeout(i)})},buildData:function(e){VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Parsing Data");var t=VMM.Timeline.DataObj.data_template_obj;t.timeline.startDate=new Date(e.content.date.created),t.timeline.headline=e.content.title,trace(e);var n="",i=e.content.author.username,r="";e.content.author.name!==void 0&&(i=e.content.author.name,r=e.content.author.username+"&nbsp;"),e.content.description!==void 0&&null!=e.content.description&&(n+=e.content.description),n+="<div class='storify'>",n+="<div class='vcard author'><a class='screen-name url' href='"+e.content.author.permalink+"' target='_blank'>",n+="<span class='avatar'><img src='"+e.content.author.avatar+"' style='max-width: 32px; max-height: 32px;'></span>",n+="<span class='fn'>"+i+"</span>",n+="<span class='nickname'>"+r+"<span class='thumbnail-inline'></span></span>",n+="</a>",n+="</div>",n+="</div>",t.timeline.text=n,t.timeline.asset.media=e.content.thumbnail,t.timeline.type="storify";for(var a=0;e.content.elements.length>a;a++){var o=e.content.elements[a],s=!1;new Date(o.posted_at),trace(o.type);var l={type:"storify",startDate:o.posted_at,endDate:o.posted_at,headline:" ",slug:"",text:"",asset:{media:"",credit:"",caption:""}};if("image"==o.type)o.source.name!==void 0?"flickr"==o.source.name?(l.asset.media="http://flickr.com/photos/"+o.meta.pathalias+"/"+o.meta.id+"/",l.asset.credit="<a href='"+l.asset.media+"'>"+o.attribution.name+"</a>",l.asset.credit+=" on <a href='"+o.source.href+"'>"+o.source.name+"</a>"):"instagram"==o.source.name?(l.asset.media=o.permalink,l.asset.credit="<a href='"+o.permalink+"'>"+o.attribution.name+"</a>",l.asset.credit+=" on <a href='"+o.source.href+"'>"+o.source.name+"</a>"):(l.asset.credit="<a href='"+o.permalink+"'>"+o.attribution.name+"</a>",o.source.href!==void 0&&(l.asset.credit+=" on <a href='"+o.source.href+"'>"+o.source.name+"</a>"),l.asset.media=o.data.image.src):(l.asset.credit="<a href='"+o.permalink+"'>"+o.attribution.name+"</a>",l.asset.media=o.data.image.src),l.slug=o.attribution.name,o.data.image.caption!==void 0&&"undefined"!=o.data.image.caption&&(l.asset.caption=o.data.image.caption,l.slug=o.data.image.caption);else if("quote"==o.type)o.permalink.match("twitter")?(l.asset.media=o.permalink,l.slug=VMM.Util.untagify(o.data.quote.text)):o.permalink.match("storify")&&(s=!0,l.asset.media="<blockquote>"+o.data.quote.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</blockquote>");else if("link"==o.type)l.headline=o.data.link.title,l.text=o.data.link.description,l.asset.media="undefined"!=o.data.link.thumbnail&&""!=o.data.link.thumbnail?o.data.link.thumbnail:o.permalink,l.asset.caption="<a href='"+o.permalink+"' target='_blank'>"+o.data.link.title+"</a>",l.slug=o.data.link.title;else if("text"==o.type){if(o.permalink.match("storify")){s=!0,e.content.author.username,o.attribution.name!==void 0&&(i=o.attribution.name,r=o.attribution.username+"&nbsp;");var u="<div class='storify'>";u+="<blockquote><p>"+o.data.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</p></blockquote>",u+="<div class='vcard author'><a class='screen-name url' href='"+o.attribution.href+"' target='_blank'>",u+="<span class='avatar'><img src='"+o.attribution.thumbnail+"' style='max-width: 32px; max-height: 32px;'></span>",u+="<span class='fn'>"+i+"</span>",u+="<span class='nickname'>"+r+"<span class='thumbnail-inline'></span></span>",u+="</a></div></div>",l.text=u,a+1>=e.content.elements.length?l.startDate=e.content.elements[a-1].posted_at:"text"==e.content.elements[a+1].type&&e.content.elements[a+1].permalink.match("storify")?a+2>=e.content.elements.length?l.startDate=e.content.elements[a-1].posted_at:"text"==e.content.elements[a+2].type&&e.content.elements[a+2].permalink.match("storify")?a+3>=e.content.elements.length?l.startDate=e.content.elements[a-1].posted_at:"text"==e.content.elements[a+3].type&&e.content.elements[a+3].permalink.match("storify")?l.startDate=e.content.elements[a-1].posted_at:(trace("LEVEL 3"),l.startDate=e.content.elements[a+3].posted_at):(trace("LEVEL 2"),l.startDate=e.content.elements[a+2].posted_at):(trace("LEVEL 1"),l.startDate=e.content.elements[a+1].posted_at),l.endDate=l.startDate
}}else"video"==o.type?(l.headline=o.data.video.title,l.asset.caption=o.data.video.description,l.asset.caption=o.source.username,l.asset.media=o.data.video.src):(trace("NO MATCH "),trace(o));s&&(l.slug=VMM.Util.untagify(o.data.text)),t.timeline.date.push(l)}VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,t)}},tweets:{type:"twitter",buildData:function(e){VMM.bindEvent(global,VMM.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),VMM.ExternalAPI.twitter.getTweets(e.timeline.tweets)},getData:function(e){VMM.bindEvent(global,VMM.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),VMM.ExternalAPI.twitter.getTweetSearch(e)},onTwitterDataReady:function(e,t){for(var n=VMM.Timeline.DataObj.data_template_obj,i=0;t.tweetdata.length>i;i++){var r={type:"tweets",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};r.startDate=t.tweetdata[i].raw.created_at,r.headline=type.of(t.tweetdata[i].raw.from_user_name)?t.tweetdata[i].raw.from_user_name+" (<a href='https://twitter.com/"+t.tweetdata[i].raw.from_user+"'>"+"@"+t.tweetdata[i].raw.from_user+"</a>)":t.tweetdata[i].raw.user.name+" (<a href='https://twitter.com/"+t.tweetdata[i].raw.user.screen_name+"'>"+"@"+t.tweetdata[i].raw.user.screen_name+"</a>)",r.asset.media=t.tweetdata[i].content,n.timeline.date.push(r)}VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,n)}}},data_template_obj:{timeline:{headline:"",description:"",asset:{media:"",credit:"",caption:""},date:[],era:[]}},date_obj:{startDate:"2012,2,2,11,30",headline:"",text:"",asset:{media:"http://youtu.be/vjVfu8-Wp6s",credit:"",caption:""},tags:"Optional"}}),VMM.debug=!1,LazyLoad=function(e){function t(t,n){var i,r=e.createElement(t);for(i in n)n.hasOwnProperty(i)&&r.setAttribute(i,n[i]);return r}function n(e){var t,n,i=u[e];i&&(t=i.callback,n=i.urls,n.shift(),c=0,n.length||(t&&t.call(i.context,i.obj),u[e]=null,d[e].length&&r(e)))}function i(){var t=navigator.userAgent;s={async:e.createElement("script").async===!0},(s.webkit=/AppleWebKit\//.test(t))||(s.ie=/MSIE/.test(t))||(s.opera=/Opera/.test(t))||(s.gecko=/Gecko\//.test(t))||(s.unknown=!0)}function r(r,c,p,h,f){var m,g,v,y,M,b,w=function(){n(r)},x="css"===r,_=[];if(s||i(),c)if(c="string"==typeof c?[c]:c.concat(),x||s.async||s.gecko||s.opera)d[r].push({urls:c,callback:p,obj:h,context:f});else for(m=0,g=c.length;g>m;++m)d[r].push({urls:[c[m]],callback:m===g-1?p:null,obj:h,context:f});if(!u[r]&&(y=u[r]=d[r].shift())){for(l||(l=e.head||e.getElementsByTagName("head")[0]),M=y.urls,m=0,g=M.length;g>m;++m)b=M[m],x?v=s.gecko?t("style"):t("link",{href:b,rel:"stylesheet"}):(v=t("script",{src:b}),v.async=!1),v.className="lazyload",v.setAttribute("charset","utf-8"),s.ie&&!x?v.onreadystatechange=function(){/loaded|complete/.test(v.readyState)&&(v.onreadystatechange=null,w())}:x&&(s.gecko||s.webkit)?s.webkit?(y.urls[m]=v.href,o()):(v.innerHTML='@import "'+b+'";',a(v)):v.onload=v.onerror=w,_.push(v);for(m=0,g=_.length;g>m;++m)l.appendChild(_[m])}}function a(e){var t;try{t=!!e.sheet.cssRules}catch(i){return c+=1,200>c?setTimeout(function(){a(e)},50):t&&n("css"),void 0}n("css")}function o(){var e,t=u.css;if(t){for(e=p.length;--e>=0;)if(p[e].href===t.urls[0]){n("css");break}c+=1,t&&(200>c?setTimeout(o,50):n("css"))}}var s,l,u={},c=0,d={css:[],js:[]},p=e.styleSheets;return{css:function(e,t,n,i){r("css",e,t,n,i)},js:function(e,t,n,i){r("js",e,t,n,i)}}}(this.document),LoadLib=function(){function e(e){var n=0,i=!1;for(n=0;t.length>n;n++)t[n]==e&&(i=!0);return i?!0:(t.push(e),!1)}var t=[];return{css:function(t,n,i,r){e(t)||LazyLoad.css(t,n,i,r)},js:function(t,n,i,r){e(t)||LazyLoad.js(t,n,i,r)}}}(this.document);var WebFontConfig;if(embed_path===void 0||embed_path===void 0)var embed_path=getEmbedScriptPath("storyjs-embed.js").split("js/")[0];(function(){"object"==typeof url_config?createStoryJS(url_config):"object"==typeof timeline_config?createStoryJS(timeline_config):"object"==typeof storyjs_config?createStoryJS(storyjs_config):"object"==typeof config&&createStoryJS(config)})();var app=app||{Models:{},Views:{},Collections:{},Routers:{},Defaults:{}};$(function(){app.Models.Story=Backbone.Model.extend({defaults:{user:"",userImage:"",text:"",media:"",retweets:0,lat:-1,lon:-1,time:"",type:-1}})});var app=app||{Models:{},Views:{},Collections:{},Routers:{},Defaults:{}};$(function(){app.Collections.Stories=Backbone.Collection.extend({model:app.Models.Story})});var app=app||{Models:{},Views:{},Collections:{},Routers:{},Defaults:{}};$(function(){app.Views.HomeView=Backbone.View.extend({el:"#content",template:_.template($("#home-view-template").html()),events:{},initialize:function(){console.log(" in initalize "),this.render(),this.visual=new app.Views.List({issue:"test"}),console.log("in main"),$("#my-timeline").blurjs({source:"#my-timeline",radius:12,overlay:"rgba(255,255,255,0.4)"}),$("#navbar").show(),this.navIsFixed=!1;var e=this;createStoryJS({type:"timeline",width:"100%",height:"550",source:"https://docs.google.com/spreadsheet/pub?key=0AvsGYBn6aGTpdFlVWFB6S2JmczBON3gtM1J2SHhpVlE&output=html",embed_id:"my-timeline",css:"timeline-style/timeline.css"}),$(window).scroll(function(){var t=$(window).scrollTop();t>=680&&0==e.navIsFixed&&(e.navIsFixed=!0,$("#navbar").hide(),$("#navbar").addClass("floatt"),$("#navbar").slideDown("fast")),680>t&&1==e.navIsFixed&&(e.navIsFixed=!1,$("#navbar").slideUp("fast",function(){$("#navbar").removeClass("floatt"),$("#navbar").css("display","block")}))})},render:function(){return $(this.el).empty(),$(this.el).html(this.template()),this},reset:function(){this.visual.destroy()},destroy:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),Backbone.View.prototype.remove.call(this)},displayStories:function(e){var t=this;"map"==e.toElement.id?(document.getElementById("map").id="list",$(".display").html("List"),$(".filter").fadeOut("fast").animate({"margin-right":"-100px"},{duration:"fast",queue:!1}),$("#trending").fadeOut("fast").animate({"margin-left":"-100px"},{duration:"fast",queue:!1}),$("#recent").fadeOut("fast").animate({"margin-left":"-100px"},{duration:"fast",queue:!1,complete:function(){t.displayMap()}})):(this.display="list",document.getElementById("list").id="map",$(".display").html("Map"),$(".filter").fadeIn("fast").animate({"margin-right":"0px"},{duration:"fast",queue:!1},function(){}),$("#trending").fadeIn("fast").animate({"margin-left":"0px"},{duration:"fast",queue:!1},function(){}),$("#recent").fadeIn("fast").animate({"margin-left":"0px"},{duration:"fast",queue:!1},function(){}),this.displayList())},displayStatistics:function(){this.numStories=0,this.talking=[],this.tags=[];var e=this,t={};this.count=0,stor=[];var n=new Firebase("https://lebelec.firebaseio.com/hashtags/"+this.options.issue+"/trending");n.once("value",function(i){t=i,e.numStories=i.numChildren(),n.on("child_added",function(t){if(null===t.val());else{t.val();var n=new Firebase("https://lebelec.firebaseio.com/stories/"+t.val());n.on("value",function(t){if(null===t.val());else{var n=t.val();stor[stor.length]=n}if(e.count=e.count+1,stor.length==e.numStories){for(var i=0;stor.length>i;i++){n=stor[i];var r=_(e.talking).find(function(e){return e.user==n.user});void 0==r?e.talking.push({user:n.user,count:0}):r.count=r.count+1,r=void 0;for(var a=0;n.category.length>a;a++){var r=_(e.tags).find(function(e){return e.tag==n.category[a]});void 0==r?e.tags.push({tag:n.category[a],count:0}):r.count=r.count+1}}$("#talkingaboutvalue").html(e.talking.length),$("#numstoriesvalue").html(e.numStories);for(var a=1;10>=a;a++)void 0!=e.tags[a]&&$("#tags").append("<li> "+a+" :  <strong> "+e.tags[a].tag+" </strong> </li>")}})}})})},displayMap:function(){this.reset(),console.log("displaying map"),$(".more").css({display:"none"}),$(this.el).children("#d").append("<div id='dynamic-content'></div>"),this.visual=new app.Views.Map({issue:this.options.issue})},displayList:function(){this.reset(),$(".more").css({display:"block"}),$(this.el).children("#d").append("<div id='dynamic-content'></div>"),this.visual=new app.Views.List({issue:this.options.issue})}})});var app=app||{Models:{},Views:{},Collections:{},Routers:{},Defaults:{}};$(function(){app.Views.AppView=Backbone.View.extend({el:$("body"),events:{"click #home":"navigateHome","click #issue":"navigateIssues","click #participate":"navigateParticipate","click #about":"navigateAbout"},initialize:function(){},navigateHome:function(){console.log("home"),app.router.navigate("/"),new app.Views.HomeView({})},navigateIssue:function(e){console.log("navigating to "+e),app.router.navigate("/issues/"+e),$("#content").empty()},navigateIssues:function(){console.log("issues"),app.router.navigate("/issues")},navigateAbout:function(){app.router.navigate("/about")},navigateParticipate:function(){app.router.navigate("/participate")}})});var app=app||{Models:{},Views:{},Collections:{},Routers:{},Defaults:{}};$(function(){app.Views.List=Backbone.View.extend({el:"#ts1.tstories",template:_.template($("#list-view-template").html()),events:{"click .sort":"sortStories","click .filter":"filterStories","click .more":"fetchStories"},initialize:function(){this.issue=this.options.issue,this.render(),this._sort="trending",this._filter="none",this.tmpRefs=[],this.tmpPriorities=[],this._firstFetch=!0,this._storyViews=[],this._storiesCache=[],this.numStoriesFetched=0,this.render(),this.issue=this.options.issue,this.collection=new app.Collections.Stories([]),_.bindAll(this);var e=this;this.collection.bind("add",this.add),this.collection.bind("remove",this.remove),this.collection.bind("reset",this.reset),this.fetchStories(20);var e=this;$(".sort").on("click",function(t){e.sortStories(t)}),$(".filter").on("click",function(t){e.filterStories(t)}),$(".more").on("click",function(){e.fetchStories()})},render:function(){return $(this.el).empty(),$(this.el).html(this.template()),this._rendered=!0,_(this._storyViews).each(function(e){e.model.toJSON().type,this.ul.append(e.render().el)}),this},reset:function(){$("#stories").empty(),this._storyViews=[],this._storiesCache=[],this.numStoriesFetched=0},destroy:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this._storyViews=[],Backbone.View.prototype.remove.call(this)},add:function(e){var t=this.collection.indexOf(e);t>0&&0==t%4&&(this.el="#ts"+Math.floor(t/4+1)+".tstories",$(this.el).html(this.template())),that=this,i="s"+(this.collection.indexOf(e)+1);var n=new app.Views.ListItem({tagName:"li",id:i,model:e});this._storyViews.push(n),this._rendered&&$(this.el).children("#stories").append(n.render().el)},remove2:function(e){var t=e;this._storyViews=_(this._storyViews).without(t),this._rendered&&$(t.el).remove()},addFilter:function(e){this._filter=e,this.render()},fetchStories:function(e){this.numSnapshotsFetched=0,this._storiesCache=[],(void 0===e||"number"!=typeof e)&&(e=20),this.collection.length,"recent"==this._sort?this._fetchStoriesByRecent(e):this._fetchStoriesByTrending(e)},sortStories:function(e){if("recent"==e.toElement.id||"trending"==e.toElement.id){var t=e.toElement.id;this._sort!=t&&(this._firstFetch=!0,this.collection.reset(),this._sort=t,this.fetchStories())}},filterStories:function(e){if("twtr"==e.toElement.id||"comp"==e.toElement.id||"none"==e.toElement.id){var t=e.toElement.id;this._filter!=t&&(this._firstFetch=!0,this.collection.reset(),this._filter=t,this.numStoriesFetched=0,this._storiesCache=[],this.fetchStories())}},_fetchStoriesByTrending:function(e){(void 0===e||"number"!=typeof e)&&(e=20);var t=new Firebase("https://lebelec.firebaseio.com/hashtags/"+this.issue+"/trending"),n=this;return this._firstFetch?(t=t.startAt(),this._firstFetch=!1):(last=this.collection.at(this.collection.length-1),t=t.startAt(last.toJSON().popularity,last.toJSON().ref)),e>0&&(t=t.limit(e)),this.numStoriesToFetch=null,t.once("value",function(e){n.numStoriesToFetch=e.numChildren()}),this.numSnapshotsFetched=0,t.on("child_added",function(t,i){if(null===t.val());else{n.tmpRefs[n.tmpRefs.length]=t.val();var r=t.val(),a=new Firebase("https://lebelec.firebaseio.com/stories/"+t.val());a.on("value",function(t){if(null===t.val());else{var a=t.val();if(n.numSnapshotsFetched=n.numSnapshotsFetched+1,"none"==n._filter||a.type==n._filter){var o=new app.Models.Story({id:t.name(),prevId:i,user:a.user,userImage:a.user_image,media:a.media,text:a.text,retweets:a.retweets,time:a.time,lat:a.lat,lon:a.lon,type:a.type,popularity:a.popularity,ref:r});n._storiesCache.push(o),n.tmpPriorities[n.tmpPriorities.length]=a.popularity}n.numSnapshotsFetched==n.numStoriesToFetch&&(n._storiesCache.sort(function(e,t){return e.toJSON().popularity-t.toJSON().popularity}),n.collection.add(n._storiesCache),n.numStoriesFetched=n.numStoriesFetched+n._storiesCache.length,n._storiesCache=[],n.numStoriesToFetch>1&&"none"!=n._filter&&e>n.numStoriesFetched?n.fetchStories(20):n.numStoriesFetched=0)}})}}),1},_fetchStoriesByRecent:function(e){(void 0===e||"number"!=typeof e)&&(e=20);var t=new Firebase("https://lebelec.firebaseio.com/hashtags/"+this.issue+"/recent"),n=this;return this._firstFetch?(t=t.startAt(),this._firstFetch=!1):(last=this.collection.at(this.collection.length-1),t=t.startAt(last.toJSON().popularity,last.toJSON().ref)),e>0&&(t=t.limit(e)),this.numStoriesToFetch=null,t.once("value",function(e){n.numStoriesToFetch=e.numChildren()}),this._storiesCache=[],this.numStoriesFetched=0,t.on("child_added",function(e,t){if(null===e.val());else{n.tmpRefs[n.tmpRefs.length]=e.val();var i=e.val(),r=new Firebase("https://lebelec.firebaseio.com/stories/"+e.val());r.on("value",function(e){if(null===e.val());else{var r=e.val();if(n.numStoriesFetched=n.numStoriesFetched+1,"none"==n._filter||r.type==n._filter){var a=new app.Models.Story({id:e.name(),prevId:t,user:r.user,userImage:r.user_image,media:r.media,text:r.text,retweets:r.retweets,time:r.time,lat:r.lat,lon:r.lon,type:r.type,popularity:r.priority,ref:i});n._storiesCache.push(a)}n.numStoriesFetched==n.numStoriesToFetch&&(n._storiesCache.sort(function(e,t){return e.toJSON().popularity-t.toJSON().popularity}),n.collection.add(n._storiesCache),n.numStoriesToFetch=null)}})}}),1},_storeSnapshot:function(e){var t=this;if(null===e.val());else{var n=e.val();if("none"==t._filter||n.type==t._filter){var i=new app.Models.Story({user:n.user,userImage:n.user_image,media:n.media,text:n.text,retweets:n.retweets,time:n.time,lat:n.lat,lon:n.lon,type:n.type,popularity:n.popularity});t.collection.add(i),t.tmpPriorities[t.tmpPriorities.length]=n.priority}}}}),app.Views.ListItem=Backbone.View.extend({tagName:"li",id:"s0",template:_.template($("#list-item-template").html()),imagetemplate:_.template($("#list-item-image-template").html()),events:{},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.render(),that=this},render:function(){return""==this.model.toJSON().media?this.$el.html(this.template(this.model.toJSON())):this.$el.html(this.imagetemplate(this.model.toJSON())),this},remove:function(){this.model.destroy()}})}),app.MyMap===void 0&&(app.MyMap={}),app.MyMap.init=function(e,t,n,i){n||(n=33.8833),i||(i=35.5),t||(t="mayakreidieh.map-whlhg44m"),t="mayakreidieh.map-kb1dxm8i",e||(e=10);var r=L.mapbox.map("map-vis");return r.addLayer(L.mapbox.tileLayer(t)),r.setView([n,i],e),r.options.minZoom=2,r},app.MyMap.readCsv=function(e,t,n,i){xmlhttp=new XMLHttpRequest,xmlhttp.open("GET",e,!1),xmlhttp.send(),xmlDoc=xmlhttp.responseText,console.log(xmlDoc),n(t,xmlDoc,i)},app.MyMap.plotMap=function(e,t,n){var i=L.mapbox.markers.tileLayer().csv(t);L.mapbox.markers.interaction(i),e.addLayer(i);var r=L.mapbox.markers.interaction(i);r.formatter(n)};var app=app||{Models:{},Views:{},Collections:{},Routers:{},Defaults:{}};$(function(){app.Views.Map=Backbone.View.extend({events:{},initialize:function(){$(this.el).html(""),console.log(this),$(this.el).html("<div id='map-vis'></div>"),this.issue=this.options.issue;var e=this;for(this.zoomLevel=void 0==this.options.zoomLevel?8:this.options.zoomLevel,this.map=app.MyMap.init(this.zoomLevel),this.map.scrollWheelZoom.disable(),this.map.doubleClickZoom.enable(),this.markers=[],this._markers=[],this._layers=[],this._currentlayer=1,i=0;23>i;i++)this._layers[i]=new L.featureGroup([]);for(this._layers[1].addTo(this.map),i=0;23>i;i++)this._markers[i]=[];this._stories=[],this.render(),this.fetchStories(),this.map.on("zoomend",function(){_(e._layers).each(function(t){e.map.removeLayer(t)}),e._currentlayer=e.map.getZoom(),e._layers[e._currentlayer].addTo(e.map)})},reset:function(){$("#stories-visual").empty(),this._storyViews=[]},destroy:function(){this.undelegateEvents(),this.$el.removeData().unbind(),Backbone.View.prototype.remove.call(this)},add:function(e){for(var t=this,n=this._stories.push(e)-1,i=25,r=0;23>r;r++){a=void 0;var a=_(this._markers[r]).find(function(n){return pt1=t.map.project([n.circle._latlng.lng,n.circle._latlng.lat],r),pt2=t.map.project([e.toJSON().lon,e.toJSON().lat],r),void 0!=n.circle&&1.2*i>=Math.abs(pt1.x-pt2.x)&&1.2*i>=Math.abs(pt1.y-pt2.y)});if(void 0==a){console.log("new one");var o={radius:15,fillColor:"#f66a79",color:"#f6dad9",color:"none",weight:1,opacity:1,fillOpacity:.85},s=L.circleMarker(new L.LatLng(e.toJSON().lat,e.toJSON().lon),o),l=0,u=[];u.push(n),popup=this.viewPopup(e);var t=this;a={circle:s,counter:l,refs:u};var c=this._markers[r].length,d=$('<input type="button" class="popup-next" id="'+c+' " value="Next">').click(function(){c=Number(this.getAttribute("id")),len=t._markers[t._currentlayer][c].refs.length,l=(l+1)%len,console.log(len),$("#innerpopup").html(t.viewPopup(t._stories[t._markers[t._currentlayer][c].refs[l]]))})[0],p=$(popup).append(d);s.bindPopup(p[0]),this._markers[r].push(a),this._layers[r].addLayer(s)}else a.circle.setStyle({radius:a.circle.options.radius+.1}),a.refs.push(n)}},remove:function(){var e=_(this._storyViews).select(function(e){return e.model===model})[0];this._storyViews=_(this._storyViews).without(e),this._rendered&&$(e.el).remove()},render:function(){return this._rendered=!0,this},fetchStories:function(e){(void 0===e||"number"!=typeof e)&&(e=20);var t=new Firebase("https://lebelec.firebaseio.com/hashtags/"+this.issue+"/trending"),n=this;return t=t.startAt(),t.on("child_added",function(e,t){if(null===e.val());else{var i=e.val(),r=new Firebase("https://lebelec.firebaseio.com/stories/"+e.val());r.on("value",function(e){if(null===e.val());else{var r=e.val(),a=new app.Models.Story({id:e.name(),prevId:t,user:r.user,userImage:r.user_image,media:r.media,text:r.text,retweets:r.retweets,time:r.time,lat:r.lat,lon:r.lon,type:r.type,popularity:r.popularity,ref:i});n.add(a)}})}}),1},viewPopup:function(e){return str=""==e.toJSON().media||void 0==e.toJSON().media?"<div class='popup' id='<%-id%>' > <div id='innerpopup'> <div id='popup-content-text'><p id='text'> <%-text%> </p></div> <div id='popup-meta'> <span style='display:inline-block'> <img id='user-image' src='<%-userImage%>' </span> <span style='display:inline-block'>  <p id='user'> <a href='http://twitter.com/<%-user%>'> <%-user%> </a> </p>   <p id='time'> <%-time%> </p> </span></div> </div></div>":"<div class='popup' id='<%-id%>' > <div id='innerpopup'> <div id='popup-content-image'><p id='text'> <%-text%> </p><img id='meda' src=\"<%-media%>\"></div> <div id='popup-meta'> <span style='display:inline-block'> <img id='user-image' src='<%-userImage%>' </span> <span style='display:inline-block'>  <p id='user'> <a href='http://twitter.com/<%-user%>'> <%-user%> </a> </p>   <p id='time'> <%-time%> </p> </span></div> </div></div>",template=_.template(str),template(e.toJSON())}})}),$(function(){app.Routers.Router=Backbone.Router.extend({routes:{"":"main",":type/:id":"displayDynamicPage",":type":"displayPage"},main:function(){console.log("routing to cover page")},displayDynamicPage:function(e,t){console.log("Fetching stories for "+e+" "+t),t=t.toLowerCase(),app.vent.trigger("displayIssue",t)},displayPage:function(e){console.log("going to "+e),"issues"==e&&(console.log("going to issues"),app.vent.trigger("displayIssuesPage"))},"default":function(){console.log("404")}})}),$(function(){console.log("in main)"),app.vent=_.extend({},Backbone.Events);var e=new app.Views.AppView;app.router=new app.Routers.Router,Backbone.history.start(),e.navigateHome()});